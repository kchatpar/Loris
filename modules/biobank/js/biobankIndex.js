(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=56)})([function(module,exports){module.exports=React},function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,isValidElement,REACT_ELEMENT_TYPE}else{module.exports=__webpack_require__(2)()}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(3);function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");err.name="Invariant Violation";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};ReactPropTypes.checkPropTypes=emptyFunction;ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},function(module,exports,__webpack_require__){"use strict";function makeEmptyFunction(arg){return function(){return arg}}var emptyFunction=function emptyFunction(){};emptyFunction.thatReturns=makeEmptyFunction;emptyFunction.thatReturnsFalse=makeEmptyFunction(false);emptyFunction.thatReturnsTrue=makeEmptyFunction(true);emptyFunction.thatReturnsNull=makeEmptyFunction(null);emptyFunction.thatReturnsThis=function(){return this};emptyFunction.thatReturnsArgument=function(arg){return arg};module.exports=emptyFunction},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Loader=function(_Component){_inherits(Loader,_Component);function Loader(props){_classCallCheck(this,Loader);return _possibleConstructorReturn(this,(Loader.__proto__||Object.getPrototypeOf(Loader)).call(this,props))}_createClass(Loader,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"loader",style:{width:parseInt(this.props.size),height:parseInt(this.props.size)}})}}]);return Loader}(_react.Component);Loader.propTypes={size:_propTypes2.default.string};Loader.defaultProps={size:"120"};exports.default=Loader},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Panel=function(_Component){_inherits(Panel,_Component);function Panel(props){_classCallCheck(this,Panel);var _this=_possibleConstructorReturn(this,(Panel.__proto__||Object.getPrototypeOf(Panel)).call(this,props));_this.state={collapsed:_this.props.initCollapsed};_this.panelClass=_this.props.initCollapsed?"panel-collapse collapse":"panel-collapse collapse in";_this.toggleCollapsed=_this.toggleCollapsed.bind(_this);return _this}_createClass(Panel,[{key:"toggleCollapsed",value:function toggleCollapsed(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function render(){var glyphClass=this.state.collapsed?"glyphicon pull-right glyphicon-chevron-down":"glyphicon pull-right glyphicon-chevron-up";var panelHeading=this.props.title?_react2.default.createElement("div",{className:"panel-heading",onClick:this.toggleCollapsed,"data-toggle":"collapse","data-target":"#"+this.props.id,style:{cursor:"pointer"}},this.props.title,_react2.default.createElement("span",{className:glyphClass})):"";return _react2.default.createElement("div",{className:"panel panel-primary"},panelHeading,_react2.default.createElement("div",{id:this.props.id,className:this.panelClass,role:"tabpanel"},_react2.default.createElement("div",{className:"panel-body",style:{height:this.props.height}},this.props.children)))}}]);return Panel}(_react.Component);Panel.propTypes={id:_propTypes2.default.string,height:_propTypes2.default.string,title:_propTypes2.default.string};Panel.defaultProps={initCollapsed:false,id:"default-panel",height:"100%"};exports.default=Panel},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PaginationLinks=function(_Component){_inherits(PaginationLinks,_Component);function PaginationLinks(props){_classCallCheck(this,PaginationLinks);var _this=_possibleConstructorReturn(this,(PaginationLinks.__proto__||Object.getPrototypeOf(PaginationLinks)).call(this,props));_this.state={};_this.changePage=_this.changePage.bind(_this);return _this}_createClass(PaginationLinks,[{key:"changePage",value:function changePage(i){return function(evt){evt.preventDefault();if(this.props.onChangePage){this.props.onChangePage(i)}}.bind(this)}},{key:"render",value:function render(){var rowsPerPage=this.props.RowsPerPage;var pageLinks=[];var classList=void 0;var lastPage=Math.ceil(this.props.Total/rowsPerPage);var startPage=Math.max(1,this.props.Active-3);var lastShownPage=Math.min(this.props.Active+3,lastPage);if(this.props.Total===0){return _react2.default.createElement("div",null)}if(this.props.Total<this.props.RowsPerPage){return _react2.default.createElement("div",null)}if(lastShownPage-startPage<=7){lastShownPage=startPage+6;if(lastShownPage>lastPage){lastShownPage=lastPage;startPage=lastPage-6}}if(startPage>1){pageLinks.push(_react2.default.createElement("li",{key:"table_page_beginning_"+startPage.toString(),onClick:this.changePage(1)},_react2.default.createElement("a",{href:"#"},"«")))}if(startPage<1){startPage=1}if(lastShownPage<1){lastShownPage=1}if(startPage===lastShownPage){return _react2.default.createElement("div",null)}for(var i=startPage;i<=lastShownPage;i+=1){classList="";if(this.props.Active===i){classList="active"}pageLinks.push(_react2.default.createElement("li",{key:"table_page_"+i.toString(),onClick:this.changePage(i),className:classList},_react2.default.createElement("a",{href:"#"},i)))}if(lastShownPage!==lastPage){pageLinks.push(_react2.default.createElement("li",{key:"table_page_more_"+lastShownPage.toString(),onClick:this.changePage(lastPage)},_react2.default.createElement("a",{href:"#"},"»")))}return _react2.default.createElement("ul",{className:"pagination pagination-table"},pageLinks)}}]);return PaginationLinks}(_react.Component);PaginationLinks.propTypes={onChangePage:_propTypes2.default.func,Total:_propTypes2.default.number.isRequired};PaginationLinks.defaultProps={RowsPerPage:10,Active:1};var RPaginationLinks=_react2.default.createFactory(PaginationLinks);window.PaginationLinks=PaginationLinks;window.RPaginationLinks=RPaginationLinks;exports.default=PaginationLinks},function(module,exports,__webpack_require__){"use strict";var emptyFunction=__webpack_require__(4);var warning=emptyFunction;if(false){var printWarning}module.exports=warning},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(0);var REACT_ELEMENT_TYPE=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103;var emptyFunction=__webpack_require__(4);var invariant=__webpack_require__(10);var warning=__webpack_require__(8);var SEPARATOR=".";var SUBSEPARATOR=":";var didWarnAboutMaps=false;var ITERATOR_SYMBOL=typeof Symbol==="function"&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL="@@iterator";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==="function"){return iteratorFn}}function escape(key){var escapeRegex=/[=:]/g;var escaperLookup={"=":"=0",":":"=2"};var escapedString=(""+key).replace(escapeRegex,function(match){return escaperLookup[match]});return"$"+escapedString}function getComponentKey(component,index){if(component&&typeof component==="object"&&component.key!=null){return escape(component.key)}return index.toString(36)}function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if(type==="undefined"||type==="boolean"){children=null}if(children===null||type==="string"||type==="number"||type==="object"&&children.$$typeof===REACT_ELEMENT_TYPE){callback(traverseContext,children,nameSoFar===""?SEPARATOR+getComponentKey(children,0):nameSoFar);return 1}var child;var nextName;var subtreeCount=0;var nextNamePrefix=nameSoFar===""?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children)){for(var i=0;i<children.length;i++){child=children[i];nextName=nextNamePrefix+getComponentKey(child,i);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}}else{var iteratorFn=getIteratorFn(children);if(iteratorFn){if(false){}var iterator=iteratorFn.call(children);var step;var ii=0;while(!(step=iterator.next()).done){child=step.value;nextName=nextNamePrefix+getComponentKey(child,ii++);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}}else if(type==="object"){var addendum="";if(false){}var childrenString=""+children;invariant(false,"Objects are not valid as a React child (found: %s).%s",childrenString==="[object Object]"?"object with keys {"+Object.keys(children).join(", ")+"}":childrenString,addendum)}}return subtreeCount}function traverseAllChildren(children,callback,traverseContext){if(children==null){return 0}return traverseAllChildrenImpl(children,"",callback,traverseContext)}var userProvidedKeyEscapeRegex=/\/+/g;function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,"$&/")}function cloneAndReplaceKey(oldElement,newKey){return React.cloneElement(oldElement,{key:newKey},oldElement.props!==undefined?oldElement.props.children:undefined)}var DEFAULT_POOL_SIZE=10;var DEFAULT_POOLER=oneArgumentPooler;var oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,copyFieldsFrom);return instance}else{return new Klass(copyFieldsFrom)}};var addPoolingTo=function addPoolingTo(CopyConstructor,pooler){var NewKlass=CopyConstructor;NewKlass.instancePool=[];NewKlass.getPooled=pooler||DEFAULT_POOLER;if(!NewKlass.poolSize){NewKlass.poolSize=DEFAULT_POOL_SIZE}NewKlass.release=standardReleaser;return NewKlass};var standardReleaser=function standardReleaser(instance){var Klass=this;invariant(instance instanceof Klass,"Trying to release an instance into a pool of a different type.");instance.destructor();if(Klass.instancePool.length<Klass.poolSize){Klass.instancePool.push(instance)}};var fourArgumentPooler=function fourArgumentPooler(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4);return instance}else{return new Klass(a1,a2,a3,a4)}};function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult;this.keyPrefix=keyPrefix;this.func=mapFunction;this.context=mapContext;this.count=0}MapBookKeeping.prototype.destructor=function(){this.result=null;this.keyPrefix=null;this.func=null;this.context=null;this.count=0};addPoolingTo(MapBookKeeping,fourArgumentPooler);function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result;var keyPrefix=bookKeeping.keyPrefix;var func=bookKeeping.func;var context=bookKeeping.context;var mappedChild=func.call(context,child,bookKeeping.count++);if(Array.isArray(mappedChild)){mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument)}else if(mappedChild!=null){if(React.isValidElement(mappedChild)){mappedChild=cloneAndReplaceKey(mappedChild,keyPrefix+(mappedChild.key&&(!child||child.key!==mappedChild.key)?escapeUserProvidedKey(mappedChild.key)+"/":"")+childKey)}result.push(mappedChild)}}function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix="";if(prefix!=null){escapedPrefix=escapeUserProvidedKey(prefix)+"/"}var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext);MapBookKeeping.release(traverseContext)}var numericPropertyRegex=/^\d+$/;var warnedAboutNumeric=false;function createReactFragment(object){if(typeof object!=="object"||!object||Array.isArray(object)){warning(false,"React.addons.createFragment only accepts a single object. Got: %s",object);return object}if(React.isValidElement(object)){warning(false,"React.addons.createFragment does not accept a ReactElement "+"without a wrapper object.");return object}invariant(object.nodeType!==1,"React.addons.createFragment(...): Encountered an invalid child; DOM "+"elements are not valid children of React components.");var result=[];for(var key in object){if(false){}mapIntoWithKeyPrefixInternal(object[key],result,key,emptyFunction.thatReturnsArgument)}return result}module.exports=createReactFragment},function(module,exports,__webpack_require__){"use strict";var validateFormat=function validateFormat(format){};if(false){}function invariant(condition,format,a,b,c,d,e,f){validateFormat(format);if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}));error.name="Invariant Violation"}error.framesToPop=1;throw error}}module.exports=invariant},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _Panel=__webpack_require__(6);var _Panel2=_interopRequireDefault(_Panel);var _DataTable=__webpack_require__(12);var _DataTable2=_interopRequireDefault(_DataTable);var _Filter=__webpack_require__(13);var _Filter2=_interopRequireDefault(_Filter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FilterableDataTable=function(_Component){_inherits(FilterableDataTable,_Component);function FilterableDataTable(props){_classCallCheck(this,FilterableDataTable);var _this=_possibleConstructorReturn(this,(FilterableDataTable.__proto__||Object.getPrototypeOf(FilterableDataTable)).call(this,props));_this.state={filter:{}};_this.updateFilter=_this.updateFilter.bind(_this);_this.clearFilter=_this.clearFilter.bind(_this);return _this}_createClass(FilterableDataTable,[{key:"updateFilter",value:function updateFilter(filter){this.setState({filter})}},{key:"clearFilter",value:function clearFilter(){this.updateFilter({})}},{key:"render",value:function render(){return _react2.default.createElement(_Panel2.default,{title:this.props.title},_react2.default.createElement(_Filter2.default,{name:this.props.name+"_filter",id:this.props.name+"_filter",title:"Selection Filter",columns:this.props.columns,filter:this.state.filter,fields:this.props.fields,updateFilter:this.updateFilter,clearFilter:this.clearFilter}),_react2.default.createElement(_DataTable2.default,{data:this.props.data,fields:this.props.fields,filter:this.state.filter,getFormattedCell:this.props.getFormattedCell,actions:this.props.actions}))}}]);return FilterableDataTable}(_react.Component);FilterableDataTable.defaultProps={columns:3};FilterableDataTable.propTypes={name:_propTypes2.default.string.isRequired,title:_propTypes2.default.string,data:_propTypes2.default.object.isRequired,filter:_propTypes2.default.object.isRequired,fields:_propTypes2.default.object.isRequired,columns:_propTypes2.default.number,getFormattedCell:_propTypes2.default.func,actions:_propTypes2.default.object};exports.default=FilterableDataTable},function(module,exports,__webpack_require__){"use strict";var _typeof2=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==="undefined"?"undefined":_typeof2(obj)}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj==="undefined"?"undefined":_typeof2(obj)};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _PaginationLinks=__webpack_require__(7);var _PaginationLinks2=_interopRequireDefault(_PaginationLinks);var _reactAddonsCreateFragment=__webpack_require__(9);var _reactAddonsCreateFragment2=_interopRequireDefault(_reactAddonsCreateFragment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof2(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof2(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DataTable=function(_Component){_inherits(DataTable,_Component);function DataTable(props){_classCallCheck(this,DataTable);var _this=_possibleConstructorReturn(this,(DataTable.__proto__||Object.getPrototypeOf(DataTable)).call(this,props));_this.state={PageNumber:1,SortColumn:-1,SortOrder:"ASC",RowsPerPage:20,Hide:_this.props.Hide};_this.changePage=_this.changePage.bind(_this);_this.setSortColumn=_this.setSortColumn.bind(_this);_this.changeRowsPerPage=_this.changeRowsPerPage.bind(_this);_this.downloadCSV=_this.downloadCSV.bind(_this);_this.countFilteredRows=_this.countFilteredRows.bind(_this);_this.getSortedRows=_this.getSortedRows.bind(_this);_this.hasFilterKeyword=_this.hasFilterKeyword.bind(_this);_this.renderActions=_this.renderActions.bind(_this);return _this}_createClass(DataTable,[{key:"componentDidMount",value:function componentDidMount(){if(jQuery.fn.DynamicTable){if(this.props.freezeColumn){$("#dynamictable").DynamicTable({freezeColumn:this.props.freezeColumn})}else{$("#dynamictable").DynamicTable()}if(this.state.Hide.defaultColumn){$("#dynamictable").find("tbody td:eq(0)").hide()}}var modulePrefs=JSON.parse(localStorage.getItem("modulePrefs"));if(modulePrefs===null){modulePrefs={}}if(modulePrefs[loris.TestName]===undefined){modulePrefs[loris.TestName]={};modulePrefs[loris.TestName].rowsPerPage=this.state.RowsPerPage}var rowsPerPage=modulePrefs[loris.TestName].rowsPerPage;this.setState({RowsPerPage:rowsPerPage});this.modulePrefs=modulePrefs}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(jQuery.fn.DynamicTable){if(this.props.freezeColumn){$("#dynamictable").DynamicTable({freezeColumn:this.props.freezeColumn})}else{$("#dynamictable").DynamicTable()}}if(this.props.onSort&&(this.state.SortColumn!==prevState.SortColumn||this.state.SortOrder!==prevState.SortOrder)){var index=this.getSortedRows();var headerList=this.props.fields.map(function(field){return field.label});this.props.onSort(index,this.props.data,headerList)}}},{key:"changePage",value:function changePage(pageNo){this.setState({PageNumber:pageNo})}},{key:"setSortColumn",value:function setSortColumn(colNumber){return function(e){if(this.state.SortColumn===colNumber){this.setState({SortOrder:this.state.SortOrder==="ASC"?"DESC":"ASC"})}else{this.setState({SortColumn:colNumber})}}}},{key:"changeRowsPerPage",value:function changeRowsPerPage(val){var rowsPerPage=val.target.value;var modulePrefs=this.modulePrefs;modulePrefs[loris.TestName].rowsPerPage=rowsPerPage;localStorage.setItem("modulePrefs",JSON.stringify(modulePrefs));this.setState({RowsPerPage:rowsPerPage,PageNumber:1})}},{key:"downloadCSV",value:function downloadCSV(csvData){var csvworker=new Worker(loris.BaseURL+"/js/workers/savecsv.js");csvworker.addEventListener("message",function(e){var dataURL=void 0;var dataDate=void 0;var link=void 0;if(e.data.cmd==="SaveCSV"){dataDate=(new Date).toISOString();dataURL=window.URL.createObjectURL(e.data.message);link=document.createElement("a");link.download="data-"+dataDate+".csv";link.type="text/csv";link.href=dataURL;document.body.appendChild(link);$(link)[0].click();document.body.removeChild(link)}});var headerList=this.props.fields.map(function(field){return field.label});csvworker.postMessage({cmd:"SaveFile",data:csvData,headers:headerList,identifiers:this.props.RowNameMap})}},{key:"countFilteredRows",value:function countFilteredRows(){var useKeyword=false;var filterMatchCount=0;var filterValuesCount=this.props.filter?Object.keys(this.props.filter).length:0;var tableData=this.props.data;var fieldData=this.props.fields;if(this.props.filter.keyword){useKeyword=true}if(useKeyword){filterValuesCount-=1}for(var i=0;i<tableData.length;i++){var headerCount=0;var keywordMatch=0;for(var j=0;j<fieldData.length;j++){var data=tableData[i]?tableData[i][j]:null;if(this.hasFilterKeyword((fieldData[j].filter||{}).name,data)){headerCount++}if(useKeyword){if(this.hasFilterKeyword("keyword",data)){keywordMatch++}}}if(headerCount===filterValuesCount&&(useKeyword===true&&keywordMatch>0||useKeyword===false&&keywordMatch===0)){filterMatchCount++}}var hasFilters=filterValuesCount!==0;if(filterMatchCount===0&&hasFilters){return 0}return filterMatchCount===0?tableData.length:filterMatchCount}},{key:"getSortedRows",value:function getSortedRows(){var index=[];for(var i=0;i<this.props.data.length;i+=1){var val=this.props.data[i][this.state.SortColumn]||undefined;if(this.state.SortColumn===-1){val=i+1}var isString=typeof val==="string"||val instanceof String;var isNumber=!isNaN(val)&&(typeof val==="undefined"?"undefined":_typeof(val))!=="object";if(val==="."){val=null}else if(isNumber){val=Number(val)}else if(isString){val=val.toLowerCase()}else{val=undefined}if(this.props.RowNameMap){index.push({RowIdx:i,Value:val,Content:this.props.RowNameMap[i]})}else{index.push({RowIdx:i,Value:val,Content:i+1})}}index.sort(function(a,b){if(this.state.SortOrder==="ASC"){if(a.Value===b.Value){if(a.RowIdx<b.RowIdx)return-1;if(a.RowIdx>b.RowIdx)return 1}if(a.Value===null||typeof a.Value==="undefined")return-1;if(b.Value===null||typeof b.Value==="undefined")return 1;if(a.Value<b.Value)return-1;if(a.Value>b.Value)return 1}else{if(a.Value===b.Value){if(a.RowIdx<b.RowIdx)return 1;if(a.RowIdx>b.RowIdx)return-1}if(a.Value===null||typeof a.Value==="undefined")return 1;if(b.Value===null||typeof b.Value==="undefined")return-1;if(a.Value<b.Value)return 1;if(a.Value>b.Value)return-1}return 0}.bind(this));return index}},{key:"hasFilterKeyword",value:function hasFilterKeyword(name,data){var filterData=null;var exact=false;var result=false;var searchKey=null;var searchString=null;if(this.props.filter[name]){filterData=this.props.filter[name].value;exact=this.props.filter[name].exact}if(filterData===null||data===null){return false}if(typeof filterData==="number"){var intData=Number.parseInt(data,10);result=filterData===intData}if(typeof filterData==="string"){searchKey=filterData.toLowerCase();switch(typeof data==="undefined"?"undefined":_typeof(data)){case"object":var searchArray=data.map(function(e){return e.toLowerCase()});if(exact){result=searchArray.includes(searchKey)}else{result=searchArray.find(function(e){return e.indexOf(searchKey)>-1})!==undefined}break;case"number":if(exact){result=data==searchKey}else{result=data.toString().indexOf(searchKey.toString())>-1}break;default:searchString=data.toLowerCase();if(exact){result=searchString===searchKey}else{result=searchString.indexOf(searchKey)>-1}break}}if((typeof filterData==="undefined"?"undefined":_typeof(filterData))==="object"){var match=false;for(var i=0;i<filterData.length;i+=1){searchKey=filterData[i].toLowerCase();searchString=data.toLowerCase();match=searchString.indexOf(searchKey)>-1;if(match){result=true}}}return result}},{key:"renderActions",value:function renderActions(){if(this.props.actions){return this.props.actions.map(function(action,key){if(action.show!==false){return _react2.default.createElement(CTA,{key,label:action.label,onUserInput:action.action})}})}}},{key:"render",value:function render(){var _this2=this;if(this.props.data===null||this.props.data.length===0){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-12"},_react2.default.createElement("div",{className:"pull-right",style:{marginRight:"10px"}},this.renderActions()))),_react2.default.createElement("div",{className:"alert alert-info no-result-found-panel"},_react2.default.createElement("strong",null,"No result found.")))}var rowsPerPage=this.state.RowsPerPage;var headers=this.state.Hide.defaultColumn===true?[]:[_react2.default.createElement("th",{key:"th_col_0",onClick:this.setSortColumn(-1).bind(this)},this.props.RowNumLabel)];for(var i=0;i<this.props.fields.length;i+=1){if(this.props.fields[i].show===true){var colIndex=i+1;if(this.props.fields[i].freezeColumn===true){headers.push(_react2.default.createElement("th",{key:"th_col_"+colIndex,id:this.props.freezeColumn,onClick:this.setSortColumn(i).bind(this)},this.props.fields[i].label))}else{headers.push(_react2.default.createElement("th",{key:"th_col_"+colIndex,onClick:this.setSortColumn(i).bind(this)},this.props.fields[i].label))}}}var rows=[];var curRow=[];var index=this.getSortedRows();var matchesFound=0;var filteredRows=this.countFilteredRows();var currentPageRow=rowsPerPage*(this.state.PageNumber-1);var filteredData=[];var useKeyword=false;if(this.props.filter.keyword){useKeyword=true}var _loop=function _loop(_i){curRow=[];var filterMatchCount=0;var keywordMatch=0;var filterLength=0;for(var j=0;j<_this2.props.fields.length;j+=1){var data="Unknown";if(_this2.props.data[index[_i].RowIdx]){data=_this2.props.data[index[_i].RowIdx][j]}if(_this2.props.fields[j].filter){if(_this2.hasFilterKeyword(_this2.props.fields[j].filter.name,data)){filterMatchCount++;filteredData.push(_this2.props.data[index[_i].RowIdx])}}if(useKeyword===true){filterLength=Object.keys(_this2.props.filter).length-1;if(_this2.hasFilterKeyword("keyword",data)){keywordMatch++}}else{filterLength=Object.keys(_this2.props.filter).length}var key="td_col_"+j;if(_this2.props.getFormattedCell){if(_this2.props.fields[j].show===false){data=null}else{(function(){var row={};_this2.props.fields.forEach(function(field,k){row[field.label]=_this2.props.data[index[_i].RowIdx][k]});data=_this2.props.getFormattedCell(_this2.props.fields[j].label,data,row)})()}if(data!==null){curRow.push((0,_reactAddonsCreateFragment2.default)({data}))}}else{curRow.push(_react2.default.createElement("td",{key},data))}}if(filterLength===filterMatchCount&&(useKeyword===true&&keywordMatch>0||useKeyword===false&&keywordMatch===0)){matchesFound++;if(matchesFound>currentPageRow){var rowIndex=index[_i].Content;rows.push(_react2.default.createElement("tr",{key:"tr_"+rowIndex,colSpan:headers.length},_react2.default.createElement("td",null,rowIndex),curRow))}}};for(var _i=0;_i<this.props.data.length&&rows.length<rowsPerPage;_i++){_loop(_i)}var RowsPerPageDropdown=_react2.default.createElement("select",{className:"input-sm perPage",onChange:this.changeRowsPerPage,value:this.state.RowsPerPage},_react2.default.createElement("option",null,"20"),_react2.default.createElement("option",null,"50"),_react2.default.createElement("option",null,"100"),_react2.default.createElement("option",null,"1000"),_react2.default.createElement("option",null,"5000"),_react2.default.createElement("option",null,"10000"));var csvData=this.props.data;if(this.props.filter&&filteredData.length>0){csvData=filteredData}var header=this.state.Hide.rowsPerPage===true?"":_react2.default.createElement("div",{className:"table-header"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-12"},_react2.default.createElement("div",null,rows.length," rows displayed of ",filteredRows,". (Maximum rows per page: ",RowsPerPageDropdown,")"),_react2.default.createElement("div",{className:"pull-right",style:{marginTop:"-43px"}},this.renderActions(),_react2.default.createElement("button",{className:"btn btn-primary",onClick:this.downloadCSV.bind(null,csvData)},"Download Table as CSV"),_react2.default.createElement(_PaginationLinks2.default,{Total:filteredRows,onChangePage:this.changePage,RowsPerPage:rowsPerPage,Active:this.state.PageNumber})))));var footer=this.state.Hide.downloadCSV===true?"":_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-12",style:{marginTop:"10px"}},_react2.default.createElement("div",{className:"footerText"},rows.length," rows displayed of ",filteredRows,". (Maximum rows per page: ",RowsPerPageDropdown,")"),_react2.default.createElement("div",{className:"pull-right",style:{marginTop:"-23px"}},_react2.default.createElement(_PaginationLinks2.default,{Total:filteredRows,onChangePage:this.changePage,RowsPerPage:rowsPerPage,Active:this.state.PageNumber})))));return _react2.default.createElement("div",{style:{margin:"14px"}},header,_react2.default.createElement("table",{className:"table table-hover table-primary table-bordered",id:"dynamictable"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",{className:"info"},headers)),_react2.default.createElement("tbody",null,rows)),footer)}}]);return DataTable}(_react.Component);DataTable.propTypes={data:_propTypes2.default.array.isRequired,RowNumLabel:_propTypes2.default.string,getFormattedCell:_propTypes2.default.func,onSort:_propTypes2.default.func,Hide:_propTypes2.default.object,actions:_propTypes2.default.object};DataTable.defaultProps={RowNumLabel:"No.",filter:{},Hide:{rowsPerPage:false,downloadCSV:false,defaultColumn:false}};exports.default=DataTable},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Filter=function(_Component){_inherits(Filter,_Component);function Filter(props){_classCallCheck(this,Filter);var _this=_possibleConstructorReturn(this,(Filter.__proto__||Object.getPrototypeOf(Filter)).call(this,props));_this.onFieldUpdate=_this.onFieldUpdate.bind(_this);_this.renderFilterFields=_this.renderFilterFields.bind(_this);return _this}_createClass(Filter,[{key:"onFieldUpdate",value:function onFieldUpdate(name,value,id,type){var filter=JSON.parse(JSON.stringify(this.props.filter));var field=this.props.fields.find(function(field){return(field.filter||{}).name===name});var exact=field.filter.exact||false;if(value===null||value===""){delete filter[name]}else{filter[name]={value,exact}}this.props.updateFilter(filter)}},{key:"renderFilterFields",value:function renderFilterFields(){var _this2=this;return this.props.fields.reduce(function(result,field){var filter=field.filter;if(filter&&filter.hide!==true){var element=void 0;switch(filter.type){case"text":element=_react2.default.createElement(TextboxElement,null);break;case"select":element=_react2.default.createElement(SelectElement,{options:filter.options});break;case"multiselect":element=_react2.default.createElement(SelectElement,{options:filter.options,multiple:true});break;case"search":element=_react2.default.createElement(SearchableDropdown,{options:filter.options});break;case"date":element=_react2.default.createElement(DateElement,null);break;default:element=_react2.default.createElement(TextboxElement,null)}result.push(_react2.default.cloneElement(element,{key:filter.name,name:filter.name,label:field.label,value:(_this2.props.filter[filter.name]||{}).value,onUserInput:_this2.onFieldUpdate}))}return result},[])}},{key:"render",value:function render(){return _react2.default.createElement(FormElement,{id:this.props.id,name:this.props.name},_react2.default.createElement(FieldsetElement,{columns:this.props.columns,legend:this.props.title},this.renderFilterFields(),_react2.default.createElement(ButtonElement,{label:"Clear Filters",type:"reset",onUserInput:this.props.clearFilter})))}}]);return Filter}(_react.Component);Filter.defaultProps={id:null,clearFilter:function clearFilter(){console.warn("onUpdate() callback is not set!")},columns:1};Filter.propTypes={filter:_propTypes2.default.object.isRequired,clearFilter:_propTypes2.default.func.isRequired,id:_propTypes2.default.string,name:_propTypes2.default.string,columns:_propTypes2.default.string,title:_propTypes2.default.string,fields:_propTypes2.default.object.isRequired};exports.default=Filter},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});exports.TabPane=exports.VerticalTabs=exports.Tabs=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Tabs=function(_Component){_inherits(Tabs,_Component);function Tabs(props){_classCallCheck(this,Tabs);var _this=_possibleConstructorReturn(this,(Tabs.__proto__||Object.getPrototypeOf(Tabs)).call(this,props));var hash=window.location.hash;var activeTab="";if(_this.props.updateURL&&hash){activeTab=hash.substr(1)}else if(_this.props.defaultTab){activeTab=_this.props.defaultTab}else if(_this.props.tabs.length>0){activeTab=_this.props.tabs[0].id}_this.state={activeTab};_this.handleClick=_this.handleClick.bind(_this);_this.getTabs=_this.getTabs.bind(_this);_this.getTabPanes=_this.getTabPanes.bind(_this);return _this}_createClass(Tabs,[{key:"handleClick",value:function handleClick(tabId,e){this.setState({activeTab:tabId});this.props.onTabChange(tabId);if(this.props.updateURL){var scrollDistance=$("body").scrollTop()||$("html").scrollTop();window.location.hash=e.target.hash;$("html,body").scrollTop(scrollDistance)}}},{key:"getTabs",value:function getTabs(){var tabs=this.props.tabs.map(function(tab){var tabClass=this.state.activeTab===tab.id?"active":null;var href="#"+tab.id;var tabID="tab-"+tab.id;return _react2.default.createElement("li",{role:"presentation",className:tabClass,key:tab.id},_react2.default.createElement("a",{id:tabID,href,role:"tab","data-toggle":"tab",onClick:this.handleClick.bind(null,tab.id)},tab.label))}.bind(this));return tabs}},{key:"getTabPanes",value:function getTabPanes(){var tabPanes=_react2.default.Children.map(this.props.children,function(child,key){if(child){return _react2.default.cloneElement(child,{activeTab:this.state.activeTab,key})}}.bind(this));return tabPanes}},{key:"render",value:function render(){var tabs=this.getTabs();var tabPanes=this.getTabPanes();var tabStyle={marginLeft:0,marginBottom:"5px"};return _react2.default.createElement("div",null,_react2.default.createElement("ul",{className:"nav nav-tabs",role:"tablist",style:tabStyle},tabs),_react2.default.createElement("div",{className:"tab-content"},tabPanes))}}]);return Tabs}(_react.Component);Tabs.propTypes={tabs:_propTypes2.default.array.isRequired,defaultTab:_propTypes2.default.string,updateURL:_propTypes2.default.bool};Tabs.defaultProps={onTabChange:function onTabChange(){},updateURL:true};var VerticalTabs=function(_Component2){_inherits(VerticalTabs,_Component2);function VerticalTabs(props){_classCallCheck(this,VerticalTabs);var _this2=_possibleConstructorReturn(this,(VerticalTabs.__proto__||Object.getPrototypeOf(VerticalTabs)).call(this,props));var hash=window.location.hash;var activeTab="";if(_this2.props.updateURL&&hash){activeTab=hash.substr(1)}else if(_this2.props.defaultTab){activeTab=_this2.props.defaultTab}else if(_this2.props.tabs.length>0){activeTab=_this2.props.tabs[0].id}_this2.state={activeTab};_this2.handleClick=_this2.handleClick.bind(_this2);_this2.getTabs=_this2.getTabs.bind(_this2);_this2.getTabPanes=_this2.getTabPanes.bind(_this2);return _this2}_createClass(VerticalTabs,[{key:"handleClick",value:function handleClick(tabId,e){this.setState({activeTab:tabId});this.props.onTabChange(tabId);if(this.props.updateURL){var scrollDistance=$("body").scrollTop()||$("html").scrollTop();window.location.hash=e.target.hash;$("html,body").scrollTop(scrollDistance)}}},{key:"getTabs",value:function getTabs(){var tabs=this.props.tabs.map(function(tab){var tabClass=this.state.activeTab===tab.id?"active":null;var href="#"+tab.id;var tabID="tab-"+tab.id;return _react2.default.createElement("li",{role:"presentation",className:tabClass,key:tab.id},_react2.default.createElement("a",{id:tabID,href,role:"tab","data-toggle":"tab",onClick:this.handleClick.bind(null,tab.id)},tab.label))}.bind(this));return tabs}},{key:"getTabPanes",value:function getTabPanes(){var tabPanes=_react2.default.Children.map(this.props.children,function(child,key){if(child){return _react2.default.cloneElement(child,{activeTab:this.state.activeTab,key})}}.bind(this));return tabPanes}},{key:"render",value:function render(){var tabs=this.getTabs();var tabPanes=this.getTabPanes();var tabStyle={marginLeft:0,marginBottom:"5px"};return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"tabbable col-md-3 col-sm-3"},_react2.default.createElement("ul",{className:"nav nav-pills nav-stacked",role:"tablist",style:tabStyle},tabs)),_react2.default.createElement("div",{className:"tab-content col-md-9 col-sm-9"},tabPanes))}}]);return VerticalTabs}(_react.Component);VerticalTabs.propTypes={tabs:_propTypes2.default.array.isRequired,defaultTab:_propTypes2.default.string,updateURL:_propTypes2.default.bool};VerticalTabs.defaultProps={onTabChange:function onTabChange(){},updateURL:true};var TabPane=function(_Component3){_inherits(TabPane,_Component3);function TabPane(){_classCallCheck(this,TabPane);return _possibleConstructorReturn(this,(TabPane.__proto__||Object.getPrototypeOf(TabPane)).apply(this,arguments))}_createClass(TabPane,[{key:"render",value:function render(){var classList="tab-pane";var title=void 0;if(this.props.TabId===this.props.activeTab){classList+=" active"}if(this.props.Title){title=_react2.default.createElement("h1",null,this.props.Title)}return _react2.default.createElement("div",{role:"tabpanel",className:classList,id:this.props.TabId},title,this.props.children)}}]);return TabPane}(_react.Component);TabPane.propTypes={TabId:_propTypes2.default.string.isRequired,Title:_propTypes2.default.string,activeTab:_propTypes2.default.string};exports.Tabs=Tabs;exports.VerticalTabs=VerticalTabs;exports.TabPane=TabPane},function(module,exports,__webpack_require__){
/*!
* sweetalert2 v7.29.2
* Released under the MIT License.
*/
(function(global,factory){true?module.exports=factory():undefined})(this,function(){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}var consolePrefix="SweetAlert2:";var uniqueArray=function uniqueArray(arr){var result=[];for(var i=0;i<arr.length;i++){if(result.indexOf(arr[i])===-1){result.push(arr[i])}}return result};var toArray=function toArray(nodeList){return Array.prototype.slice.call(nodeList)};var formatInputOptions=function formatInputOptions(inputOptions){var result=[];if(typeof Map!=="undefined"&&inputOptions instanceof Map){inputOptions.forEach(function(value,key){result.push([key,value])})}else{Object.keys(inputOptions).forEach(function(key){result.push([key,inputOptions[key]])})}return result};var warn=function warn(message){console.warn("".concat(consolePrefix," ").concat(message))};var error=function error(message){console.error("".concat(consolePrefix," ").concat(message))};var previousWarnOnceMessages=[];var warnOnce=function warnOnce(message){if(!(previousWarnOnceMessages.indexOf(message)!==-1)){previousWarnOnceMessages.push(message);warn(message)}};var callIfFunction=function callIfFunction(arg){return typeof arg==="function"?arg():arg};var isThenable=function isThenable(arg){return arg&&_typeof(arg)==="object"&&typeof arg.then==="function"};var DismissReason=Object.freeze({cancel:"cancel",backdrop:"overlay",close:"close",esc:"esc",timer:"timer"});var argsToParams=function argsToParams(args){var params={};switch(_typeof(args[0])){case"object":_extends(params,args[0]);break;default:["title","html","type"].forEach(function(name,index){switch(_typeof(args[index])){case"string":params[name]=args[index];break;case"undefined":break;default:error("Unexpected type of ".concat(name,'! Expected "string", got ').concat(_typeof(args[index])))}})}return params};var adaptInputValidator=function adaptInputValidator(legacyValidator){return function adaptedInputValidator(inputValue,extraParams){return legacyValidator.call(this,inputValue,extraParams).then(function(){return undefined},function(validationMessage){return validationMessage})}};var swalPrefix="swal2-";var prefix=function prefix(items){var result={};for(var i in items){result[items[i]]=swalPrefix+items[i]}return result};var swalClasses=prefix(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","icon-text","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl"]);var iconTypes=prefix(["success","warning","info","question","error"]);var states={previousBodyPadding:null};var hasClass=function hasClass(elem,className){return elem.classList.contains(className)};var focusInput=function focusInput(input){input.focus();if(input.type!=="file"){var val=input.value;input.value="";input.value=val}};var addOrRemoveClass=function addOrRemoveClass(target,classList,add){if(!target||!classList){return}if(typeof classList==="string"){classList=classList.split(/\s+/).filter(Boolean)}classList.forEach(function(className){if(target.forEach){target.forEach(function(elem){add?elem.classList.add(className):elem.classList.remove(className)})}else{add?target.classList.add(className):target.classList.remove(className)}})};var addClass=function addClass(target,classList){addOrRemoveClass(target,classList,true)};var removeClass=function removeClass(target,classList){addOrRemoveClass(target,classList,false)};var getChildByClass=function getChildByClass(elem,className){for(var i=0;i<elem.childNodes.length;i++){if(hasClass(elem.childNodes[i],className)){return elem.childNodes[i]}}};var show=function show(elem){elem.style.opacity="";elem.style.display=elem.id===swalClasses.content?"block":"flex"};var hide=function hide(elem){elem.style.opacity="";elem.style.display="none"};var isVisible=function isVisible(elem){return elem&&(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)};var getContainer=function getContainer(){return document.body.querySelector("."+swalClasses.container)};var elementByClass=function elementByClass(className){var container=getContainer();return container?container.querySelector("."+className):null};var getPopup=function getPopup(){return elementByClass(swalClasses.popup)};var getIcons=function getIcons(){var popup=getPopup();return toArray(popup.querySelectorAll("."+swalClasses.icon))};var getTitle=function getTitle(){return elementByClass(swalClasses.title)};var getContent=function getContent(){return elementByClass(swalClasses.content)};var getImage=function getImage(){return elementByClass(swalClasses.image)};var getProgressSteps=function getProgressSteps(){return elementByClass(swalClasses.progresssteps)};var getValidationMessage=function getValidationMessage(){return elementByClass(swalClasses["validation-message"])};var getConfirmButton=function getConfirmButton(){return elementByClass(swalClasses.confirm)};var getCancelButton=function getCancelButton(){return elementByClass(swalClasses.cancel)};var getButtonsWrapper=function getButtonsWrapper(){warnOnce("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead");return elementByClass(swalClasses.actions)};var getActions=function getActions(){return elementByClass(swalClasses.actions)};var getFooter=function getFooter(){return elementByClass(swalClasses.footer)};var getCloseButton=function getCloseButton(){return elementByClass(swalClasses.close)};var getFocusableElements=function getFocusableElements(){var focusableElementsWithTabindex=toArray(getPopup().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(a,b){a=parseInt(a.getAttribute("tabindex"));b=parseInt(b.getAttribute("tabindex"));if(a>b){return 1}else if(a<b){return-1}return 0});var otherFocusableElements=toArray(getPopup().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]')).filter(function(el){return el.getAttribute("tabindex")!=="-1"});return uniqueArray(focusableElementsWithTabindex.concat(otherFocusableElements)).filter(function(el){return isVisible(el)})};var isModal=function isModal(){return!isToast()&&!document.body.classList.contains(swalClasses["no-backdrop"])};var isToast=function isToast(){return document.body.classList.contains(swalClasses["toast-shown"])};var isLoading=function isLoading(){return getPopup().hasAttribute("data-loading")};var isNodeEnv=function isNodeEnv(){return typeof window==="undefined"||typeof document==="undefined"};var sweetHTML='\n <div aria-labelledby="'.concat(swalClasses.title,'" aria-describedby="').concat(swalClasses.content,'" class="').concat(swalClasses.popup,'" tabindex="-1">\n   <div class="').concat(swalClasses.header,'">\n     <ul class="').concat(swalClasses.progresssteps,'"></ul>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.error,'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.question,'">\n       <span class="').concat(swalClasses["icon-text"],'">?</span>\n      </div>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.warning,'">\n       <span class="').concat(swalClasses["icon-text"],'">!</span>\n      </div>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.info,'">\n       <span class="').concat(swalClasses["icon-text"],'">i</span>\n      </div>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.success,'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(swalClasses.image,'" />\n     <h2 class="').concat(swalClasses.title,'" id="').concat(swalClasses.title,'"></h2>\n     <button type="button" class="').concat(swalClasses.close,'">×</button>\n   </div>\n   <div class="').concat(swalClasses.content,'">\n     <div id="').concat(swalClasses.content,'"></div>\n     <input class="').concat(swalClasses.input,'" />\n     <input type="file" class="').concat(swalClasses.file,'" />\n     <div class="').concat(swalClasses.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(swalClasses.select,'"></select>\n     <div class="').concat(swalClasses.radio,'"></div>\n     <label for="').concat(swalClasses.checkbox,'" class="').concat(swalClasses.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(swalClasses.label,'"></span>\n     </label>\n     <textarea class="').concat(swalClasses.textarea,'"></textarea>\n     <div class="').concat(swalClasses["validation-message"],'" id="').concat(swalClasses["validation-message"],'"></div>\n   </div>\n   <div class="').concat(swalClasses.actions,'">\n     <button type="button" class="').concat(swalClasses.confirm,'">OK</button>\n     <button type="button" class="').concat(swalClasses.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(swalClasses.footer,'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,"");var init=function init(params){var c=getContainer();if(c){c.parentNode.removeChild(c);removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]])}if(isNodeEnv()){error("SweetAlert2 requires document to initialize");return}var container=document.createElement("div");container.className=swalClasses.container;container.innerHTML=sweetHTML;var targetElement=typeof params.target==="string"?document.querySelector(params.target):params.target;targetElement.appendChild(container);var popup=getPopup();var content=getContent();var input=getChildByClass(content,swalClasses.input);var file=getChildByClass(content,swalClasses.file);var range=content.querySelector(".".concat(swalClasses.range," input"));var rangeOutput=content.querySelector(".".concat(swalClasses.range," output"));var select=getChildByClass(content,swalClasses.select);var checkbox=content.querySelector(".".concat(swalClasses.checkbox," input"));var textarea=getChildByClass(content,swalClasses.textarea);popup.setAttribute("role",params.toast?"alert":"dialog");popup.setAttribute("aria-live",params.toast?"polite":"assertive");if(!params.toast){popup.setAttribute("aria-modal","true")}if(window.getComputedStyle(targetElement).direction==="rtl"){addClass(getContainer(),swalClasses.rtl)}var oldInputVal;var resetValidationMessage=function resetValidationMessage(e){if(Swal.isVisible()&&oldInputVal!==e.target.value){Swal.resetValidationMessage()}oldInputVal=e.target.value};input.oninput=resetValidationMessage;file.onchange=resetValidationMessage;select.onchange=resetValidationMessage;checkbox.onchange=resetValidationMessage;textarea.oninput=resetValidationMessage;range.oninput=function(e){resetValidationMessage(e);rangeOutput.value=range.value};range.onchange=function(e){resetValidationMessage(e);range.nextSibling.value=range.value};return popup};var parseHtmlToContainer=function parseHtmlToContainer(param,target){if(!param){return hide(target)}if(_typeof(param)==="object"){target.innerHTML="";if(0 in param){for(var i=0;i in param;i++){target.appendChild(param[i].cloneNode(true))}}else{target.appendChild(param.cloneNode(true))}}else if(param){target.innerHTML=param}show(target)};var animationEndEvent=function(){if(isNodeEnv()){return false}var testEl=document.createElement("div");var transEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var i in transEndEventNames){if(transEndEventNames.hasOwnProperty(i)&&typeof testEl.style[i]!=="undefined"){return transEndEventNames[i]}}return false}();var measureScrollbar=function measureScrollbar(){var supportsTouch="ontouchstart"in window||navigator.msMaxTouchPoints;if(supportsTouch){return 0}var scrollDiv=document.createElement("div");scrollDiv.style.width="50px";scrollDiv.style.height="50px";scrollDiv.style.overflow="scroll";document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);return scrollbarWidth};var renderActions=function renderActions(params){var actions=getActions();var confirmButton=getConfirmButton();var cancelButton=getCancelButton();if(!params.showConfirmButton&&!params.showCancelButton){hide(actions)}else{show(actions)}if(params.showCancelButton){cancelButton.style.display="inline-block"}else{hide(cancelButton)}if(params.showConfirmButton){confirmButton.style.removeProperty("display")}else{hide(confirmButton)}confirmButton.innerHTML=params.confirmButtonText;cancelButton.innerHTML=params.cancelButtonText;confirmButton.setAttribute("aria-label",params.confirmButtonAriaLabel);cancelButton.setAttribute("aria-label",params.cancelButtonAriaLabel);confirmButton.className=swalClasses.confirm;addClass(confirmButton,params.confirmButtonClass);cancelButton.className=swalClasses.cancel;addClass(cancelButton,params.cancelButtonClass);if(params.buttonsStyling){addClass([confirmButton,cancelButton],swalClasses.styled);if(params.confirmButtonColor){confirmButton.style.backgroundColor=params.confirmButtonColor}if(params.cancelButtonColor){cancelButton.style.backgroundColor=params.cancelButtonColor}var confirmButtonBackgroundColor=window.getComputedStyle(confirmButton).getPropertyValue("background-color");confirmButton.style.borderLeftColor=confirmButtonBackgroundColor;confirmButton.style.borderRightColor=confirmButtonBackgroundColor}else{removeClass([confirmButton,cancelButton],swalClasses.styled);confirmButton.style.backgroundColor=confirmButton.style.borderLeftColor=confirmButton.style.borderRightColor="";cancelButton.style.backgroundColor=cancelButton.style.borderLeftColor=cancelButton.style.borderRightColor=""}};var renderContent=function renderContent(params){var content=getContent().querySelector("#"+swalClasses.content);if(params.html){parseHtmlToContainer(params.html,content)}else if(params.text){content.textContent=params.text;show(content)}else{hide(content)}};var renderIcon=function renderIcon(params){var icons=getIcons();for(var i=0;i<icons.length;i++){hide(icons[i])}if(params.type){if(Object.keys(iconTypes).indexOf(params.type)!==-1){var icon=Swal.getPopup().querySelector(".".concat(swalClasses.icon,".").concat(iconTypes[params.type]));show(icon);if(params.animation){addClass(icon,"swal2-animate-".concat(params.type,"-icon"))}}else{error('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(params.type,'"'))}}};var renderImage=function renderImage(params){var image=getImage();if(params.imageUrl){image.setAttribute("src",params.imageUrl);image.setAttribute("alt",params.imageAlt);show(image);if(params.imageWidth){image.setAttribute("width",params.imageWidth)}else{image.removeAttribute("width")}if(params.imageHeight){image.setAttribute("height",params.imageHeight)}else{image.removeAttribute("height")}image.className=swalClasses.image;if(params.imageClass){addClass(image,params.imageClass)}}else{hide(image)}};var renderProgressSteps=function renderProgressSteps(params){var progressStepsContainer=getProgressSteps();var currentProgressStep=parseInt(params.currentProgressStep===null?Swal.getQueueStep():params.currentProgressStep,10);if(params.progressSteps&&params.progressSteps.length){show(progressStepsContainer);progressStepsContainer.innerHTML="";if(currentProgressStep>=params.progressSteps.length){warn("Invalid currentProgressStep parameter, it should be less than progressSteps.length "+"(currentProgressStep like JS arrays starts from 0)")}params.progressSteps.forEach(function(step,index){var circle=document.createElement("li");addClass(circle,swalClasses.progresscircle);circle.innerHTML=step;if(index===currentProgressStep){addClass(circle,swalClasses.activeprogressstep)}progressStepsContainer.appendChild(circle);if(index!==params.progressSteps.length-1){var line=document.createElement("li");addClass(line,swalClasses.progressline);if(params.progressStepsDistance){line.style.width=params.progressStepsDistance}progressStepsContainer.appendChild(line)}})}else{hide(progressStepsContainer)}};var renderTitle=function renderTitle(params){var title=getTitle();if(params.titleText){title.innerText=params.titleText}else if(params.title){if(typeof params.title==="string"){params.title=params.title.split("\n").join("<br />")}parseHtmlToContainer(params.title,title)}};var fixScrollbar=function fixScrollbar(){if(states.previousBodyPadding!==null){return}if(document.body.scrollHeight>window.innerHeight){states.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"));document.body.style.paddingRight=states.previousBodyPadding+measureScrollbar()+"px"}};var undoScrollbar=function undoScrollbar(){if(states.previousBodyPadding!==null){document.body.style.paddingRight=states.previousBodyPadding;states.previousBodyPadding=null}};var iOSfix=function iOSfix(){var iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(iOS&&!hasClass(document.body,swalClasses.iosfix)){var offset=document.body.scrollTop;document.body.style.top=offset*-1+"px";addClass(document.body,swalClasses.iosfix)}};var undoIOSfix=function undoIOSfix(){if(hasClass(document.body,swalClasses.iosfix)){var offset=parseInt(document.body.style.top,10);removeClass(document.body,swalClasses.iosfix);document.body.style.top="";document.body.scrollTop=offset*-1}};var isIE11=function isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode};var fixVerticalPositionIE=function fixVerticalPositionIE(){var container=getContainer();var popup=getPopup();container.style.removeProperty("align-items");if(popup.offsetTop<0){container.style.alignItems="flex-start"}};var IEfix=function IEfix(){if(typeof window!=="undefined"&&isIE11()){fixVerticalPositionIE();window.addEventListener("resize",fixVerticalPositionIE)}};var undoIEfix=function undoIEfix(){if(typeof window!=="undefined"&&isIE11()){window.removeEventListener("resize",fixVerticalPositionIE)}};var setAriaHidden=function setAriaHidden(){var bodyChildren=toArray(document.body.children);bodyChildren.forEach(function(el){if(el===getContainer()||el.contains(getContainer())){return}if(el.hasAttribute("aria-hidden")){el.setAttribute("data-previous-aria-hidden",el.getAttribute("aria-hidden"))}el.setAttribute("aria-hidden","true")})};var unsetAriaHidden=function unsetAriaHidden(){var bodyChildren=toArray(document.body.children);bodyChildren.forEach(function(el){if(el.hasAttribute("data-previous-aria-hidden")){el.setAttribute("aria-hidden",el.getAttribute("data-previous-aria-hidden"));el.removeAttribute("data-previous-aria-hidden")}else{el.removeAttribute("aria-hidden")}})};var RESTORE_FOCUS_TIMEOUT=100;var globalState={};var restoreActiveElement=function restoreActiveElement(){return new Promise(function(resolve){var x=window.scrollX;var y=window.scrollY;globalState.restoreFocusTimeout=setTimeout(function(){if(globalState.previousActiveElement&&globalState.previousActiveElement.focus){globalState.previousActiveElement.focus();globalState.previousActiveElement=null}else if(document.body){document.body.focus()}resolve()},RESTORE_FOCUS_TIMEOUT);if(typeof x!=="undefined"&&typeof y!=="undefined"){window.scrollTo(x,y)}})};var close=function close(onClose,onAfterClose){var container=getContainer();var popup=getPopup();if(!popup){return}if(onClose!==null&&typeof onClose==="function"){onClose(popup)}removeClass(popup,swalClasses.show);addClass(popup,swalClasses.hide);var removePopupAndResetState=function removePopupAndResetState(){if(!isToast()){restoreActiveElement().then(function(){return triggerOnAfterClose(onAfterClose)});globalState.keydownTarget.removeEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture});globalState.keydownHandlerAdded=false}else{triggerOnAfterClose(onAfterClose)}if(container.parentNode){container.parentNode.removeChild(container)}removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["toast-column"]]);if(isModal()){undoScrollbar();undoIOSfix();undoIEfix();unsetAriaHidden()}};if(animationEndEvent&&!hasClass(popup,swalClasses.noanimation)){popup.addEventListener(animationEndEvent,function swalCloseEventFinished(){popup.removeEventListener(animationEndEvent,swalCloseEventFinished);if(hasClass(popup,swalClasses.hide)){removePopupAndResetState()}})}else{removePopupAndResetState()}};var triggerOnAfterClose=function triggerOnAfterClose(onAfterClose){if(onAfterClose!==null&&typeof onAfterClose==="function"){setTimeout(function(){onAfterClose()})}};var isVisible$1=function isVisible(){return!!getPopup()};var clickConfirm=function clickConfirm(){return getConfirmButton().click()};var clickCancel=function clickCancel(){return getCancelButton().click()};function fire(){var Swal=this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _construct(Swal,args)}function withNoNewKeyword(ParentSwal){var NoNewKeywordSwal=function NoNewKeywordSwal(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(!(this instanceof NoNewKeywordSwal)){return _construct(NoNewKeywordSwal,args)}Object.getPrototypeOf(NoNewKeywordSwal).apply(this,args)};NoNewKeywordSwal.prototype=_extends(Object.create(ParentSwal.prototype),{constructor:NoNewKeywordSwal});if(typeof Object.setPrototypeOf==="function"){Object.setPrototypeOf(NoNewKeywordSwal,ParentSwal)}else{NoNewKeywordSwal.__proto__=ParentSwal}return NoNewKeywordSwal}var defaultParams={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:false,customClass:"",target:"body",backdrop:true,animation:true,heightAuto:true,allowOutsideClick:true,allowEscapeKey:true,allowEnterKey:true,stopKeydownPropagation:true,keydownListenerCapture:false,showConfirmButton:true,showCancelButton:false,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:null,buttonsStyling:true,reverseButtons:false,focusConfirm:true,focusCancel:false,showCloseButton:false,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:false,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:true,inputClass:null,inputAttributes:{},inputValidator:null,validationMessage:null,grow:false,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onAfterClose:null,onOpen:null,onClose:null,useRejections:false,expectRejections:false};var deprecatedParams=["useRejections","expectRejections","extraParams"];var toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"];var isValidParameter=function isValidParameter(paramName){return defaultParams.hasOwnProperty(paramName)||paramName==="extraParams"};var isDeprecatedParameter=function isDeprecatedParameter(paramName){return deprecatedParams.indexOf(paramName)!==-1};var showWarningsForParams=function showWarningsForParams(params){for(var param in params){if(!isValidParameter(param)){warn('Unknown parameter "'.concat(param,'"'))}if(params.toast&&toastIncompatibleParams.indexOf(param)!==-1){warn('The parameter "'.concat(param,'" is incompatible with toasts'))}if(isDeprecatedParameter(param)){warnOnce('The parameter "'.concat(param,'" is deprecated and will be removed in the next major release.'))}}};var deprecationWarning='"setDefaults" & "resetDefaults" methods are deprecated in favor of "mixin" method and will be removed in the next major release. For new projects, use "mixin". For past projects already using "setDefaults", support will be provided through an additional package.';var defaults={};function withGlobalDefaults(ParentSwal){var SwalWithGlobalDefaults=function(_ParentSwal){_inherits(SwalWithGlobalDefaults,_ParentSwal);function SwalWithGlobalDefaults(){_classCallCheck(this,SwalWithGlobalDefaults);return _possibleConstructorReturn(this,_getPrototypeOf(SwalWithGlobalDefaults).apply(this,arguments))}_createClass(SwalWithGlobalDefaults,[{key:"_main",value:function _main(params){return _get(_getPrototypeOf(SwalWithGlobalDefaults.prototype),"_main",this).call(this,_extends({},defaults,params))}}],[{key:"setDefaults",value:function setDefaults(params){warnOnce(deprecationWarning);if(!params||_typeof(params)!=="object"){throw new TypeError("SweetAlert2: The argument for setDefaults() is required and has to be a object")}showWarningsForParams(params);Object.keys(params).forEach(function(param){if(ParentSwal.isValidParameter(param)){defaults[param]=params[param]}})}},{key:"resetDefaults",value:function resetDefaults(){warnOnce(deprecationWarning);defaults={}}}]);return SwalWithGlobalDefaults}(ParentSwal);if(typeof window!=="undefined"&&_typeof(window._swalDefaults)==="object"){SwalWithGlobalDefaults.setDefaults(window._swalDefaults)}return SwalWithGlobalDefaults}function mixin(mixinParams){return withNoNewKeyword(function(_this){_inherits(MixinSwal,_this);function MixinSwal(){_classCallCheck(this,MixinSwal);return _possibleConstructorReturn(this,_getPrototypeOf(MixinSwal).apply(this,arguments))}_createClass(MixinSwal,[{key:"_main",value:function _main(params){return _get(_getPrototypeOf(MixinSwal.prototype),"_main",this).call(this,_extends({},mixinParams,params))}}]);return MixinSwal}(this))}var currentSteps=[];var queue=function queue(steps){var swal=this;currentSteps=steps;var resetQueue=function resetQueue(){currentSteps=[];document.body.removeAttribute("data-swal2-queue-step")};var queueResult=[];return new Promise(function(resolve){(function step(i,callback){if(i<currentSteps.length){document.body.setAttribute("data-swal2-queue-step",i);swal(currentSteps[i]).then(function(result){if(typeof result.value!=="undefined"){queueResult.push(result.value);step(i+1,callback)}else{resetQueue();resolve({dismiss:result.dismiss})}})}else{resetQueue();resolve({value:queueResult})}})(0)})};var getQueueStep=function getQueueStep(){return document.body.getAttribute("data-swal2-queue-step")};var insertQueueStep=function insertQueueStep(step,index){if(index&&index<currentSteps.length){return currentSteps.splice(index,0,step)}return currentSteps.push(step)};var deleteQueueStep=function deleteQueueStep(index){if(typeof currentSteps[index]!=="undefined"){currentSteps.splice(index,1)}};var showLoading=function showLoading(){var popup=getPopup();if(!popup){Swal("")}popup=getPopup();var actions=getActions();var confirmButton=getConfirmButton();var cancelButton=getCancelButton();show(actions);show(confirmButton);addClass([popup,actions],swalClasses.loading);confirmButton.disabled=true;cancelButton.disabled=true;popup.setAttribute("data-loading",true);popup.setAttribute("aria-busy",true);popup.focus()};var getTimerLeft=function getTimerLeft(){return globalState.timeout&&globalState.timeout.getTimerLeft()};var staticMethods=Object.freeze({isValidParameter,isDeprecatedParameter,argsToParams,adaptInputValidator,close,closePopup:close,closeModal:close,closeToast:close,isVisible:isVisible$1,clickConfirm,clickCancel,getContainer,getPopup,getTitle,getContent,getImage,getIcons,getCloseButton,getButtonsWrapper,getActions,getConfirmButton,getCancelButton,getFooter,getFocusableElements,getValidationMessage,isLoading,fire,mixin,queue,getQueueStep,insertQueueStep,deleteQueueStep,showLoading,enableLoading:showLoading,getTimerLeft});var _Symbol=typeof Symbol==="function"?Symbol:function(){var idCounter=0;function _Symbol(key){return"__"+key+"_"+Math.floor(Math.random()*1e9)+"_"+ ++idCounter+"__"}_Symbol.iterator=_Symbol("Symbol.iterator");return _Symbol}();var WeakMap$1=typeof WeakMap==="function"?WeakMap:function(s,dP,hOP){function WeakMap(){dP(this,s,{value:_Symbol("WeakMap")})}WeakMap.prototype={delete:function del(o){delete o[this[s]]},get:function get(o){return o[this[s]]},has:function has(o){return hOP.call(o,this[s])},set:function set(o,v){dP(o,this[s],{configurable:true,value:v})}};return WeakMap}(_Symbol("WeakMap"),Object.defineProperty,{}.hasOwnProperty);var privateProps={promise:new WeakMap$1,innerParams:new WeakMap$1,domCache:new WeakMap$1};function hideLoading(){var innerParams=privateProps.innerParams.get(this);var domCache=privateProps.domCache.get(this);if(!innerParams.showConfirmButton){hide(domCache.confirmButton);if(!innerParams.showCancelButton){hide(domCache.actions)}}removeClass([domCache.popup,domCache.actions],swalClasses.loading);domCache.popup.removeAttribute("aria-busy");domCache.popup.removeAttribute("data-loading");domCache.confirmButton.disabled=false;domCache.cancelButton.disabled=false}function getInput(inputType){var innerParams=privateProps.innerParams.get(this);var domCache=privateProps.domCache.get(this);inputType=inputType||innerParams.input;if(!inputType){return null}switch(inputType){case"select":case"textarea":case"file":return getChildByClass(domCache.content,swalClasses[inputType]);case"checkbox":return domCache.popup.querySelector(".".concat(swalClasses.checkbox," input"));case"radio":return domCache.popup.querySelector(".".concat(swalClasses.radio," input:checked"))||domCache.popup.querySelector(".".concat(swalClasses.radio," input:first-child"));case"range":return domCache.popup.querySelector(".".concat(swalClasses.range," input"));default:return getChildByClass(domCache.content,swalClasses.input)}}function enableButtons(){var domCache=privateProps.domCache.get(this);domCache.confirmButton.disabled=false;domCache.cancelButton.disabled=false}function disableButtons(){var domCache=privateProps.domCache.get(this);domCache.confirmButton.disabled=true;domCache.cancelButton.disabled=true}function enableConfirmButton(){var domCache=privateProps.domCache.get(this);domCache.confirmButton.disabled=false}function disableConfirmButton(){var domCache=privateProps.domCache.get(this);domCache.confirmButton.disabled=true}function enableInput(){var input=this.getInput();if(!input){return false}if(input.type==="radio"){var radiosContainer=input.parentNode.parentNode;var radios=radiosContainer.querySelectorAll("input");for(var i=0;i<radios.length;i++){radios[i].disabled=false}}else{input.disabled=false}}function disableInput(){var input=this.getInput();if(!input){return false}if(input&&input.type==="radio"){var radiosContainer=input.parentNode.parentNode;var radios=radiosContainer.querySelectorAll("input");for(var i=0;i<radios.length;i++){radios[i].disabled=true}}else{input.disabled=true}}function showValidationMessage(error$$1){var domCache=privateProps.domCache.get(this);domCache.validationMessage.innerHTML=error$$1;var popupComputedStyle=window.getComputedStyle(domCache.popup);domCache.validationMessage.style.marginLeft="-".concat(popupComputedStyle.getPropertyValue("padding-left"));domCache.validationMessage.style.marginRight="-".concat(popupComputedStyle.getPropertyValue("padding-right"));show(domCache.validationMessage);var input=this.getInput();if(input){input.setAttribute("aria-invalid",true);input.setAttribute("aria-describedBy",swalClasses["validation-message"]);focusInput(input);addClass(input,swalClasses.inputerror)}}function resetValidationMessage(){var domCache=privateProps.domCache.get(this);if(domCache.validationMessage){hide(domCache.validationMessage)}var input=this.getInput();if(input){input.removeAttribute("aria-invalid");input.removeAttribute("aria-describedBy");removeClass(input,swalClasses.inputerror)}}function resetValidationError(){warnOnce("Swal.resetValidationError() is deprecated and will be removed in the next major release, use Swal.resetValidationMessage() instead");resetValidationMessage.bind(this)()}function showValidationError(error$$1){warnOnce("Swal.showValidationError() is deprecated and will be removed in the next major release, use Swal.showValidationMessage() instead");showValidationMessage.bind(this)(error$$1)}function getProgressSteps$1(){var innerParams=privateProps.innerParams.get(this);return innerParams.progressSteps}function setProgressSteps(progressSteps){var innerParams=privateProps.innerParams.get(this);var updatedParams=_extends({},innerParams,{progressSteps});privateProps.innerParams.set(this,updatedParams);renderProgressSteps(updatedParams)}function showProgressSteps(){var domCache=privateProps.domCache.get(this);show(domCache.progressSteps)}function hideProgressSteps(){var domCache=privateProps.domCache.get(this);hide(domCache.progressSteps)}var Timer=function Timer(callback,delay){_classCallCheck(this,Timer);var id,started,running;var remaining=delay;this.start=function(){running=true;started=new Date;id=setTimeout(callback,remaining)};this.stop=function(){running=false;clearTimeout(id);remaining-=new Date-started};this.getTimerLeft=function(){if(running){this.stop();this.start()}return remaining};this.start()};var defaultInputValidators={email:function email(string,extraParams){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(string)?Promise.resolve():Promise.reject(extraParams&&extraParams.validationMessage?extraParams.validationMessage:"Invalid email address")},url:function url(string,extraParams){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(string)?Promise.resolve():Promise.reject(extraParams&&extraParams.validationMessage?extraParams.validationMessage:"Invalid URL")}};function setParameters(params){if(!params.inputValidator){Object.keys(defaultInputValidators).forEach(function(key){if(params.input===key){params.inputValidator=params.expectRejections?defaultInputValidators[key]:Swal.adaptInputValidator(defaultInputValidators[key])}})}if(params.validationMessage){if(_typeof(params.extraParams)!=="object"){params.extraParams={}}params.extraParams.validationMessage=params.validationMessage}if(!params.target||typeof params.target==="string"&&!document.querySelector(params.target)||typeof params.target!=="string"&&!params.target.appendChild){warn('Target parameter is not valid, defaulting to "body"');params.target="body"}if(typeof params.animation==="function"){params.animation=params.animation.call()}var popup;var oldPopup=getPopup();var targetElement=typeof params.target==="string"?document.querySelector(params.target):params.target;if(oldPopup&&targetElement&&oldPopup.parentNode!==targetElement.parentNode){popup=init(params)}else{popup=oldPopup||init(params)}if(params.width){popup.style.width=typeof params.width==="number"?params.width+"px":params.width}if(params.padding){popup.style.padding=typeof params.padding==="number"?params.padding+"px":params.padding}if(params.background){popup.style.background=params.background}var popupBackgroundColor=window.getComputedStyle(popup).getPropertyValue("background-color");var successIconParts=popup.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(var i=0;i<successIconParts.length;i++){successIconParts[i].style.backgroundColor=popupBackgroundColor}var container=getContainer();var closeButton=getCloseButton();var footer=getFooter();renderTitle(params);renderContent(params);if(typeof params.backdrop==="string"){getContainer().style.background=params.backdrop}else if(!params.backdrop){addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}if(!params.backdrop&&params.allowOutsideClick){warn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`')}if(params.position in swalClasses){addClass(container,swalClasses[params.position])}else{warn('The "position" parameter is not valid, defaulting to "center"');addClass(container,swalClasses.center)}if(params.grow&&typeof params.grow==="string"){var growClass="grow-"+params.grow;if(growClass in swalClasses){addClass(container,swalClasses[growClass])}}if(params.showCloseButton){closeButton.setAttribute("aria-label",params.closeButtonAriaLabel);show(closeButton)}else{hide(closeButton)}popup.className=swalClasses.popup;if(params.toast){addClass([document.documentElement,document.body],swalClasses["toast-shown"]);addClass(popup,swalClasses.toast)}else{addClass(popup,swalClasses.modal)}if(params.customClass){addClass(popup,params.customClass)}renderProgressSteps(params);renderIcon(params);renderImage(params);renderActions(params);parseHtmlToContainer(params.footer,footer);if(params.animation===true){removeClass(popup,swalClasses.noanimation)}else{addClass(popup,swalClasses.noanimation)}if(params.showLoaderOnConfirm&&!params.preConfirm){warn("showLoaderOnConfirm is set to true, but preConfirm is not defined.\n"+"showLoaderOnConfirm should be used together with preConfirm, see usage example:\n"+"https://sweetalert2.github.io/#ajax-request")}}var openPopup=function openPopup(params){var container=getContainer();var popup=getPopup();if(params.onBeforeOpen!==null&&typeof params.onBeforeOpen==="function"){params.onBeforeOpen(popup)}if(params.animation){addClass(popup,swalClasses.show);addClass(container,swalClasses.fade);removeClass(popup,swalClasses.hide)}else{removeClass(popup,swalClasses.fade)}show(popup);container.style.overflowY="hidden";if(animationEndEvent&&!hasClass(popup,swalClasses.noanimation)){popup.addEventListener(animationEndEvent,function swalCloseEventFinished(){popup.removeEventListener(animationEndEvent,swalCloseEventFinished);container.style.overflowY="auto"})}else{container.style.overflowY="auto"}addClass([document.documentElement,document.body,container],swalClasses.shown);if(params.heightAuto&&params.backdrop&&!params.toast){addClass([document.documentElement,document.body],swalClasses["height-auto"])}if(isModal()){fixScrollbar();iOSfix();IEfix();setAriaHidden();setTimeout(function(){container.scrollTop=0})}if(!isToast()&&!globalState.previousActiveElement){globalState.previousActiveElement=document.activeElement}if(params.onOpen!==null&&typeof params.onOpen==="function"){setTimeout(function(){params.onOpen(popup)})}};function _main(userParams){var _this=this;showWarningsForParams(userParams);var innerParams=_extends({},defaultParams,userParams);setParameters(innerParams);Object.freeze(innerParams);privateProps.innerParams.set(this,innerParams);if(globalState.timeout){globalState.timeout.stop();delete globalState.timeout}clearTimeout(globalState.restoreFocusTimeout);var domCache={popup:getPopup(),container:getContainer(),content:getContent(),actions:getActions(),confirmButton:getConfirmButton(),cancelButton:getCancelButton(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};privateProps.domCache.set(this,domCache);var constructor=this.constructor;return new Promise(function(resolve,reject){var succeedWith=function succeedWith(value){constructor.closePopup(innerParams.onClose,innerParams.onAfterClose);if(innerParams.useRejections){resolve(value)}else{resolve({value})}};var dismissWith=function dismissWith(dismiss){constructor.closePopup(innerParams.onClose,innerParams.onAfterClose);if(innerParams.useRejections){reject(dismiss)}else{resolve({dismiss})}};var errorWith=function errorWith(error$$1){constructor.closePopup(innerParams.onClose,innerParams.onAfterClose);reject(error$$1)};if(innerParams.timer){globalState.timeout=new Timer(function(){dismissWith("timer");delete globalState.timeout},innerParams.timer)}var getInputValue=function getInputValue(){var input=_this.getInput();if(!input){return null}switch(innerParams.input){case"checkbox":return input.checked?1:0;case"radio":return input.checked?input.value:null;case"file":return input.files.length?input.files[0]:null;default:return innerParams.inputAutoTrim?input.value.trim():input.value}};if(innerParams.input){setTimeout(function(){var input=_this.getInput();if(input){focusInput(input)}},0)}var confirm=function confirm(value){if(innerParams.showLoaderOnConfirm){constructor.showLoading()}if(innerParams.preConfirm){_this.resetValidationMessage();var preConfirmPromise=Promise.resolve().then(function(){return innerParams.preConfirm(value,innerParams.extraParams)});if(innerParams.expectRejections){preConfirmPromise.then(function(preConfirmValue){return succeedWith(preConfirmValue||value)},function(validationMessage){_this.hideLoading();if(validationMessage){_this.showValidationMessage(validationMessage)}})}else{preConfirmPromise.then(function(preConfirmValue){if(isVisible(domCache.validationMessage)||preConfirmValue===false){_this.hideLoading()}else{succeedWith(preConfirmValue||value)}},function(error$$1){return errorWith(error$$1)})}}else{succeedWith(value)}};var onButtonEvent=function onButtonEvent(e){var target=e.target;var confirmButton=domCache.confirmButton,cancelButton=domCache.cancelButton;var targetedConfirm=confirmButton&&(confirmButton===target||confirmButton.contains(target));var targetedCancel=cancelButton&&(cancelButton===target||cancelButton.contains(target));switch(e.type){case"click":if(targetedConfirm&&constructor.isVisible()){_this.disableButtons();if(innerParams.input){var inputValue=getInputValue();if(innerParams.inputValidator){_this.disableInput();var validationPromise=Promise.resolve().then(function(){return innerParams.inputValidator(inputValue,innerParams.extraParams)});if(innerParams.expectRejections){validationPromise.then(function(){_this.enableButtons();_this.enableInput();confirm(inputValue)},function(validationMessage){_this.enableButtons();_this.enableInput();if(validationMessage){_this.showValidationMessage(validationMessage)}})}else{validationPromise.then(function(validationMessage){_this.enableButtons();_this.enableInput();if(validationMessage){_this.showValidationMessage(validationMessage)}else{confirm(inputValue)}},function(error$$1){return errorWith(error$$1)})}}else if(!_this.getInput().checkValidity()){_this.enableButtons();_this.showValidationMessage(innerParams.validationMessage)}else{confirm(inputValue)}}else{confirm(true)}}else if(targetedCancel&&constructor.isVisible()){_this.disableButtons();dismissWith(constructor.DismissReason.cancel)}break;default:}};var buttons=domCache.popup.querySelectorAll("button");for(var i=0;i<buttons.length;i++){buttons[i].onclick=onButtonEvent;buttons[i].onmouseover=onButtonEvent;buttons[i].onmouseout=onButtonEvent;buttons[i].onmousedown=onButtonEvent}domCache.closeButton.onclick=function(){dismissWith(constructor.DismissReason.close)};if(innerParams.toast){domCache.popup.onclick=function(){if(innerParams.showConfirmButton||innerParams.showCancelButton||innerParams.showCloseButton||innerParams.input){return}dismissWith(constructor.DismissReason.close)}}else{var ignoreOutsideClick=false;domCache.popup.onmousedown=function(){domCache.container.onmouseup=function(e){domCache.container.onmouseup=undefined;if(e.target===domCache.container){ignoreOutsideClick=true}}};domCache.container.onmousedown=function(){domCache.popup.onmouseup=function(e){domCache.popup.onmouseup=undefined;if(e.target===domCache.popup||domCache.popup.contains(e.target)){ignoreOutsideClick=true}}};domCache.container.onclick=function(e){if(ignoreOutsideClick){ignoreOutsideClick=false;return}if(e.target!==domCache.container){return}if(callIfFunction(innerParams.allowOutsideClick)){dismissWith(constructor.DismissReason.backdrop)}}}if(innerParams.reverseButtons){domCache.confirmButton.parentNode.insertBefore(domCache.cancelButton,domCache.confirmButton)}else{domCache.confirmButton.parentNode.insertBefore(domCache.confirmButton,domCache.cancelButton)}var setFocus=function setFocus(index,increment){var focusableElements=getFocusableElements(innerParams.focusCancel);for(var _i=0;_i<focusableElements.length;_i++){index=index+increment;if(index===focusableElements.length){index=0}else if(index===-1){index=focusableElements.length-1}return focusableElements[index].focus()}domCache.popup.focus()};var keydownHandler=function keydownHandler(e,innerParams){if(innerParams.stopKeydownPropagation){e.stopPropagation()}var arrowKeys=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"];if(e.key==="Enter"&&!e.isComposing){if(e.target&&_this.getInput()&&e.target.outerHTML===_this.getInput().outerHTML){if(["textarea","file"].indexOf(innerParams.input)!==-1){return}constructor.clickConfirm();e.preventDefault()}}else if(e.key==="Tab"){var targetElement=e.target;var focusableElements=getFocusableElements(innerParams.focusCancel);var btnIndex=-1;for(var _i2=0;_i2<focusableElements.length;_i2++){if(targetElement===focusableElements[_i2]){btnIndex=_i2;break}}if(!e.shiftKey){setFocus(btnIndex,1)}else{setFocus(btnIndex,-1)}e.stopPropagation();e.preventDefault()}else if(arrowKeys.indexOf(e.key)!==-1){if(document.activeElement===domCache.confirmButton&&isVisible(domCache.cancelButton)){domCache.cancelButton.focus()}else if(document.activeElement===domCache.cancelButton&&isVisible(domCache.confirmButton)){domCache.confirmButton.focus()}}else if((e.key==="Escape"||e.key==="Esc")&&callIfFunction(innerParams.allowEscapeKey)===true){e.preventDefault();dismissWith(constructor.DismissReason.esc)}};if(globalState.keydownHandlerAdded){globalState.keydownTarget.removeEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture});globalState.keydownHandlerAdded=false}if(!innerParams.toast){globalState.keydownHandler=function(e){return keydownHandler(e,innerParams)};globalState.keydownTarget=innerParams.keydownListenerCapture?window:domCache.popup;globalState.keydownListenerCapture=innerParams.keydownListenerCapture;globalState.keydownTarget.addEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture});globalState.keydownHandlerAdded=true}_this.enableButtons();_this.hideLoading();_this.resetValidationMessage();if(innerParams.toast&&(innerParams.input||innerParams.footer||innerParams.showCloseButton)){addClass(document.body,swalClasses["toast-column"])}else{removeClass(document.body,swalClasses["toast-column"])}var inputTypes=["input","file","range","select","radio","checkbox","textarea"];var setInputPlaceholder=function setInputPlaceholder(input){if(!input.placeholder||innerParams.inputPlaceholder){input.placeholder=innerParams.inputPlaceholder}};var input;for(var _i3=0;_i3<inputTypes.length;_i3++){var inputClass=swalClasses[inputTypes[_i3]];var inputContainer=getChildByClass(domCache.content,inputClass);input=_this.getInput(inputTypes[_i3]);if(input){for(var j in input.attributes){if(input.attributes.hasOwnProperty(j)){var attrName=input.attributes[j].name;if(attrName!=="type"&&attrName!=="value"){input.removeAttribute(attrName)}}}for(var attr in innerParams.inputAttributes){if(inputTypes[_i3]==="range"&&attr==="placeholder"){continue}input.setAttribute(attr,innerParams.inputAttributes[attr])}}inputContainer.className=inputClass;if(innerParams.inputClass){addClass(inputContainer,innerParams.inputClass)}hide(inputContainer)}var populateInputOptions;switch(innerParams.input){case"text":case"email":case"password":case"number":case"tel":case"url":{input=getChildByClass(domCache.content,swalClasses.input);if(typeof innerParams.inputValue==="string"||typeof innerParams.inputValue==="number"){input.value=innerParams.inputValue}else{warn('Unexpected type of inputValue! Expected "string" or "number", got "'.concat(_typeof(innerParams.inputValue),'"'))}setInputPlaceholder(input);input.type=innerParams.input;show(input);break}case"file":{input=getChildByClass(domCache.content,swalClasses.file);setInputPlaceholder(input);input.type=innerParams.input;show(input);break}case"range":{var range=getChildByClass(domCache.content,swalClasses.range);var rangeInput=range.querySelector("input");var rangeOutput=range.querySelector("output");rangeInput.value=innerParams.inputValue;rangeInput.type=innerParams.input;rangeOutput.value=innerParams.inputValue;show(range);break}case"select":{var select=getChildByClass(domCache.content,swalClasses.select);select.innerHTML="";if(innerParams.inputPlaceholder){var placeholder=document.createElement("option");placeholder.innerHTML=innerParams.inputPlaceholder;placeholder.value="";placeholder.disabled=true;placeholder.selected=true;select.appendChild(placeholder)}populateInputOptions=function populateInputOptions(inputOptions){inputOptions.forEach(function(inputOption){var optionValue=inputOption[0];var optionLabel=inputOption[1];var option=document.createElement("option");option.value=optionValue;option.innerHTML=optionLabel;if(innerParams.inputValue.toString()===optionValue.toString()){option.selected=true}select.appendChild(option)});show(select);select.focus()};break}case"radio":{var radio=getChildByClass(domCache.content,swalClasses.radio);radio.innerHTML="";populateInputOptions=function populateInputOptions(inputOptions){inputOptions.forEach(function(inputOption){var radioValue=inputOption[0];var radioLabel=inputOption[1];var radioInput=document.createElement("input");var radioLabelElement=document.createElement("label");radioInput.type="radio";radioInput.name=swalClasses.radio;radioInput.value=radioValue;if(innerParams.inputValue.toString()===radioValue.toString()){radioInput.checked=true}var label=document.createElement("span");label.innerHTML=radioLabel;label.className=swalClasses.label;radioLabelElement.appendChild(radioInput);radioLabelElement.appendChild(label);radio.appendChild(radioLabelElement)});show(radio);var radios=radio.querySelectorAll("input");if(radios.length){radios[0].focus()}};break}case"checkbox":{var checkbox=getChildByClass(domCache.content,swalClasses.checkbox);var checkboxInput=_this.getInput("checkbox");checkboxInput.type="checkbox";checkboxInput.value=1;checkboxInput.id=swalClasses.checkbox;checkboxInput.checked=Boolean(innerParams.inputValue);var label=checkbox.querySelector("span");label.innerHTML=innerParams.inputPlaceholder;show(checkbox);break}case"textarea":{var textarea=getChildByClass(domCache.content,swalClasses.textarea);textarea.value=innerParams.inputValue;setInputPlaceholder(textarea);show(textarea);break}case null:{break}default:error('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(innerParams.input,'"'));break}if(innerParams.input==="select"||innerParams.input==="radio"){var processInputOptions=function processInputOptions(inputOptions){return populateInputOptions(formatInputOptions(inputOptions))};if(isThenable(innerParams.inputOptions)){constructor.showLoading();innerParams.inputOptions.then(function(inputOptions){_this.hideLoading();processInputOptions(inputOptions)})}else if(_typeof(innerParams.inputOptions)==="object"){processInputOptions(innerParams.inputOptions)}else{error("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(_typeof(innerParams.inputOptions)))}}else if(["text","email","number","tel","textarea"].indexOf(innerParams.input)!==-1&&isThenable(innerParams.inputValue)){constructor.showLoading();hide(input);innerParams.inputValue.then(function(inputValue){input.value=innerParams.input==="number"?parseFloat(inputValue)||0:inputValue+"";show(input);input.focus();_this.hideLoading()}).catch(function(err){error("Error in inputValue promise: "+err);input.value="";show(input);input.focus();_this.hideLoading()})}openPopup(innerParams);if(!innerParams.toast){if(!callIfFunction(innerParams.allowEnterKey)){if(document.activeElement&&typeof document.activeElement.blur==="function"){document.activeElement.blur()}}else if(innerParams.focusCancel&&isVisible(domCache.cancelButton)){domCache.cancelButton.focus()}else if(innerParams.focusConfirm&&isVisible(domCache.confirmButton)){domCache.confirmButton.focus()}else{setFocus(-1,1)}}domCache.container.scrollTop=0})}var instanceMethods=Object.freeze({hideLoading,disableLoading:hideLoading,getInput,enableButtons,disableButtons,enableConfirmButton,disableConfirmButton,enableInput,disableInput,showValidationMessage,resetValidationMessage,resetValidationError,showValidationError,getProgressSteps:getProgressSteps$1,setProgressSteps,showProgressSteps,hideProgressSteps,_main});var currentInstance;function SweetAlert(){if(typeof window==="undefined"){return}if(typeof Promise==="undefined"){error("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)")}for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(args.length===0){error("At least 1 argument is expected!");return false}currentInstance=this;var outerParams=Object.freeze(this.constructor.argsToParams(args));Object.defineProperties(this,{params:{value:outerParams,writable:false,enumerable:true}});var promise=this._main(this.params);privateProps.promise.set(this,promise)}SweetAlert.prototype.then=function(onFulfilled,onRejected){var promise=privateProps.promise.get(this);return promise.then(onFulfilled,onRejected)};SweetAlert.prototype.catch=function(onRejected){var promise=privateProps.promise.get(this);return promise.catch(onRejected)};SweetAlert.prototype.finally=function(onFinally){var promise=privateProps.promise.get(this);return promise.finally(onFinally)};_extends(SweetAlert.prototype,instanceMethods);_extends(SweetAlert,staticMethods);Object.keys(instanceMethods).forEach(function(key){SweetAlert[key]=function(){if(currentInstance){var _currentInstance;return(_currentInstance=currentInstance)[key].apply(_currentInstance,arguments)}}});SweetAlert.DismissReason=DismissReason;SweetAlert.noop=function(){};var Swal=withNoNewKeyword(withGlobalDefaults(SweetAlert));Swal.default=Swal;return Swal});if(typeof window!=="undefined"&&window.Sweetalert2){window.Sweetalert2.version="7.29.2";window.swal=window.sweetAlert=window.Swal=window.SweetAlert=window.Sweetalert2}"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,"@-webkit-keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}body.swal2-toast-shown .swal2-container{position:fixed;background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-shown{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;box-shadow:0 0 .625em #d9d9d9;overflow-y:hidden}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:initial;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon-text{font-size:2em;font-weight:700;line-height:1em}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 .0625em #fff,0 0 0 .125em rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:2em;height:2.8125em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.25em;left:-.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:2em 2em;transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;-webkit-transform-origin:0 2em;transform-origin:0 2em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:showSweetToast .5s;animation:showSweetToast .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:hideSweetToast .2s forwards;animation:hideSweetToast .2s forwards}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:animate-toast-success-tip .75s;animation:animate-toast-success-tip .75s}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:animate-toast-success-long .75s;animation:animate-toast-success-long .75s}@-webkit-keyframes showSweetToast{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg);opacity:0}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg);opacity:.5}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg);opacity:.7}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0);opacity:1}}@keyframes showSweetToast{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg);opacity:0}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg);opacity:.5}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg);opacity:.7}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0);opacity:1}}@-webkit-keyframes hideSweetToast{0%{opacity:1}33%{opacity:.5}100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@keyframes hideSweetToast{0%{opacity:1}33%{opacity:.5}100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes animate-toast-success-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes animate-toast-success-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes animate-toast-success-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes animate-toast-success-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-shown{top:auto;right:auto;bottom:auto;left:auto;background-color:transparent}body.swal2-no-backdrop .swal2-shown>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-shown.swal2-top{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-top-left,body.swal2-no-backdrop .swal2-shown.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-top-end,body.swal2-no-backdrop .swal2-shown.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-shown.swal2-center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-left,body.swal2-no-backdrop .swal2-shown.swal2-center-start{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-end,body.swal2-no-backdrop .swal2-shown.swal2-center-right{top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom{bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom-left,body.swal2-no-backdrop .swal2-shown.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-bottom-end,body.swal2-no-backdrop .swal2-shown.swal2-bottom-right{right:0;bottom:0}.swal2-container{display:flex;position:fixed;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:10px;background-color:transparent;z-index:1060;overflow-x:hidden;-webkit-overflow-scrolling:touch}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-container.swal2-fade{transition:background-color .1s}.swal2-container.swal2-shown{background-color:rgba(0,0,0,.4)}.swal2-popup{display:none;position:relative;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem;box-sizing:border-box}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-popup .swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-popup .swal2-title{display:block;position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-popup .swal2-actions{flex-wrap:wrap;align-items:center;justify-content:center;margin:1.25em auto 0;z-index:1}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-confirm{width:2.5em;height:2.5em;margin:.46875em;padding:0;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;box-sizing:border-box;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-popup .swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{display:inline-block;width:15px;height:15px;margin-left:5px;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff;content:'';-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal}.swal2-popup .swal2-styled{margin:.3125em;padding:.625em 2em;font-weight:500;box-shadow:none}.swal2-popup .swal2-styled:not([disabled]){cursor:pointer}.swal2-popup .swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-popup .swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-popup .swal2-styled:focus{outline:0;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(50,100,150,.4)}.swal2-popup .swal2-styled::-moz-focus-inner{border:0}.swal2-popup .swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-popup .swal2-image{max-width:100%;margin:1.25em auto}.swal2-popup .swal2-close{position:absolute;top:0;right:0;justify-content:center;width:1.2em;height:1.2em;padding:0;transition:color .1s ease-out;border:none;border-radius:0;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer;overflow:hidden}.swal2-popup .swal2-close:hover{-webkit-transform:none;transform:none;color:#f27474}.swal2-popup>.swal2-checkbox,.swal2-popup>.swal2-file,.swal2-popup>.swal2-input,.swal2-popup>.swal2-radio,.swal2-popup>.swal2-select,.swal2-popup>.swal2-textarea{display:none}.swal2-popup .swal2-content{justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:300;line-height:normal;z-index:1;word-wrap:break-word}.swal2-popup #swal2-content{text-align:center}.swal2-popup .swal2-checkbox,.swal2-popup .swal2-file,.swal2-popup .swal2-input,.swal2-popup .swal2-radio,.swal2-popup .swal2-select,.swal2-popup .swal2-textarea{margin:1em auto}.swal2-popup .swal2-file,.swal2-popup .swal2-input,.swal2-popup .swal2-textarea{width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;font-size:1.125em;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);box-sizing:border-box}.swal2-popup .swal2-file.swal2-inputerror,.swal2-popup .swal2-input.swal2-inputerror,.swal2-popup .swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-popup .swal2-file:focus,.swal2-popup .swal2-input:focus,.swal2-popup .swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-popup .swal2-file::-webkit-input-placeholder,.swal2-popup .swal2-input::-webkit-input-placeholder,.swal2-popup .swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-popup .swal2-file:-ms-input-placeholder,.swal2-popup .swal2-input:-ms-input-placeholder,.swal2-popup .swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-popup .swal2-file::-ms-input-placeholder,.swal2-popup .swal2-input::-ms-input-placeholder,.swal2-popup .swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-popup .swal2-file::placeholder,.swal2-popup .swal2-input::placeholder,.swal2-popup .swal2-textarea::placeholder{color:#ccc}.swal2-popup .swal2-range input{width:80%}.swal2-popup .swal2-range output{width:20%;font-weight:600;text-align:center}.swal2-popup .swal2-range input,.swal2-popup .swal2-range output{height:2.625em;margin:1em auto;padding:0;font-size:1.125em;line-height:2.625em}.swal2-popup .swal2-input{height:2.625em;padding:0 .75em}.swal2-popup .swal2-input[type=number]{max-width:10em}.swal2-popup .swal2-file{font-size:1.125em}.swal2-popup .swal2-textarea{height:6.75em;padding:.75em}.swal2-popup .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;color:#545454;font-size:1.125em}.swal2-popup .swal2-checkbox,.swal2-popup .swal2-radio{align-items:center;justify-content:center}.swal2-popup .swal2-checkbox label,.swal2-popup .swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-popup .swal2-checkbox input,.swal2-popup .swal2-radio input{margin:0 .4em}.swal2-popup .swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;background:#f0f0f0;color:#666;font-size:1em;font-weight:300;overflow:hidden}.swal2-popup .swal2-validation-message::before{display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center;content:'!';zoom:normal}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}.swal2-icon{position:relative;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;line-height:5em;cursor:default;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;zoom:normal}.swal2-icon-text{font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:3.75em 3.75em;transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 3.75em;transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;top:-.25em;left:-.25em;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%;z-index:2;box-sizing:content-box}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;top:.5em;left:1.625em;width:.4375em;height:5.625em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);z-index:1}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;height:.3125em;border-radius:.125em;background-color:#a5dc86;z-index:2}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-progresssteps{align-items:center;margin:0 0 1.25em;padding:0;font-weight:600}.swal2-progresssteps li{display:inline-block;position:relative}.swal2-progresssteps .swal2-progresscircle{width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center;z-index:20}.swal2-progresssteps .swal2-progresscircle:first-child{margin-left:0}.swal2-progresssteps .swal2-progresscircle:last-child{margin-right:0}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep{background:#3085d6}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep~.swal2-progresscircle{background:#add8e6}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep~.swal2-progressline{background:#add8e6}.swal2-progresssteps .swal2-progressline{width:2.5em;height:.4em;margin:0 -1px;background:#3085d6;z-index:10}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-show.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-hide.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-animate-success-icon .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-animate-error-icon{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-animate-error-icon .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}@-webkit-keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:initial!important}}")},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _sweetalert=__webpack_require__(15);var _sweetalert2=_interopRequireDefault(_sweetalert);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Modal=function(_Component){_inherits(Modal,_Component);function Modal(){_classCallCheck(this,Modal);var _this=_possibleConstructorReturn(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this));_this.handleClose=_this.handleClose.bind(_this);return _this}_createClass(Modal,[{key:"handleClose",value:function handleClose(){var _this2=this;if(this.props.throwWarning){(0,_sweetalert2.default)({title:"Are You Sure?",text:"Leaving the form will result in the loss of any information "+"entered.",type:"warning",showCancelButton:true,confirmButtonText:"Proceed",cancelButtonText:"Cancel"}).then(function(result){return result.value&&_this2.props.onClose()})}else{this.props.onClose()}}},{key:"render",value:function render(){var _props=this.props,show=_props.show,children=_props.children,onSubmit=_props.onSubmit,title=_props.title;var headerStyle={display:"flex",flexDirection:"row",alignItems:"center",height:"40px",borderTopRightRadius:"10",fontSize:24,padding:35,borderBottom:"1px solid #DDDDDD"};var glyphStyle={marginLeft:"auto",cursor:"pointer"};var bodyStyle={padding:15};var modalContainer={display:"block",position:"fixed",zIndex:9999,paddingTop:"100px",left:0,top:0,width:"100%",height:"100%",overflow:"auto",backgroundColor:"rgba(0,0,0,0.7)",visibility:show?"visible":"hidden"};var modalContent={opacity:show?1:0,top:show?0:"-300px",position:"relative",backgroundColor:"#fefefe",borderRadius:"7px",margin:"auto",padding:0,border:"1px solid #888",width:"700px",boxShadow:"0 4px 8px 0 rbga(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19)",transition:"top 0.4s, opacity 0.4s"};var renderChildren=function renderChildren(){return show&&children};var footerStyle={borderTop:"1px solid #DDDDDD",display:"flex",flexDirection:"row",alignItems:"center",height:"40px",padding:"35px 35px 20px 35px"};var submitStyle={marginLeft:"auto",marginRight:"20px"};var submitButton=function submitButton(){if(onSubmit){return _react2.default.createElement("div",{style:submitStyle},_react2.default.createElement(ButtonElement,{label:"Submit",onUserInput:onSubmit}))}};return _react2.default.createElement("div",{style:modalContainer,onClick:this.handleClose},_react2.default.createElement("div",{style:modalContent,onClick:function onClick(e){return e.stopPropagation()}},_react2.default.createElement("div",{style:headerStyle},title,_react2.default.createElement("span",{style:glyphStyle,onClick:this.handleClose},"×")),_react2.default.createElement("div",{style:bodyStyle},renderChildren()),_react2.default.createElement("div",{style:footerStyle},submitButton())))}}]);return Modal}(_react.Component);Modal.propTypes={title:_propTypes2.default.string,onSubmit:_propTypes2.default.object,onClose:_propTypes2.default.func.isRequired,show:_propTypes2.default.bool.isRequired,throwWarning:_propTypes2.default.bool};Modal.defaultProps={throwWarning:false};exports.default=Modal},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass}var external_React_=__webpack_require__(0);var external_React_default=__webpack_require__.n(external_React_);var lib=__webpack_require__(32);var lib_default=__webpack_require__.n(lib);var prop_types=__webpack_require__(1);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function isAbsolute(pathname){return pathname.charAt(0)==="/"}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1){list[i]=list[k]}list.pop()}function resolvePathname(to){var from=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var toParts=to&&to.split("/")||[];var fromParts=from&&from.split("/")||[];var isToAbs=to&&isAbsolute(to);var isFromAbs=from&&isAbsolute(from);var mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)){fromParts=toParts}else if(toParts.length){fromParts.pop();fromParts=fromParts.concat(toParts)}if(!fromParts.length)return"/";var hasTrailingSlash=void 0;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash=last==="."||last===".."||last===""}else{hasTrailingSlash=false}var up=0;for(var i=fromParts.length;i>=0;i--){var part=fromParts[i];if(part==="."){spliceOne(fromParts,i)}else if(part===".."){spliceOne(fromParts,i);up++}else if(up){spliceOne(fromParts,i);up--}}if(!mustEndAbs)for(;up--;up){fromParts.unshift("..")}if(mustEndAbs&&fromParts[0]!==""&&(!fromParts[0]||!isAbsolute(fromParts[0])))fromParts.unshift("");var result=fromParts.join("/");if(hasTrailingSlash&&result.substr(-1)!=="/")result+="/";return result}var resolve_pathname=resolvePathname;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function valueEqual(a,b){if(a===b)return true;if(a==null||b==null)return false;if(Array.isArray(a)){return Array.isArray(b)&&a.length===b.length&&a.every(function(item,index){return valueEqual(item,b[index])})}var aType=typeof a==="undefined"?"undefined":_typeof(a);var bType=typeof b==="undefined"?"undefined":_typeof(b);if(aType!==bType)return false;if(aType==="object"){var aValue=a.valueOf();var bValue=b.valueOf();if(aValue!==a||bValue!==b)return valueEqual(aValue,bValue);var aKeys=Object.keys(a);var bKeys=Object.keys(b);if(aKeys.length!==bKeys.length)return false;return aKeys.every(function(key){return valueEqual(a[key],b[key])})}return false}var value_equal=valueEqual;var isProduction="production"==="production";var prefix="Invariant failed";function invariant(condition,message){if(condition){return}if(isProduction){throw new Error(prefix)}else{throw new Error(prefix+": "+(message||""))}}var tiny_invariant_esm=invariant;function addLeadingSlash(path){return path.charAt(0)==="/"?path:"/"+path}function stripLeadingSlash(path){return path.charAt(0)==="/"?path.substr(1):path}function hasBasename(path,prefix){return new RegExp("^"+prefix+"(\\/|\\?|#|$)","i").test(path)}function stripBasename(path,prefix){return hasBasename(path,prefix)?path.substr(prefix.length):path}function stripTrailingSlash(path){return path.charAt(path.length-1)==="/"?path.slice(0,-1):path}function parsePath(path){var pathname=path||"/";var search="";var hash="";var hashIndex=pathname.indexOf("#");if(hashIndex!==-1){hash=pathname.substr(hashIndex);pathname=pathname.substr(0,hashIndex)}var searchIndex=pathname.indexOf("?");if(searchIndex!==-1){search=pathname.substr(searchIndex);pathname=pathname.substr(0,searchIndex)}return{pathname,search:search==="?"?"":search,hash:hash==="#"?"":hash}}function createPath(location){var pathname=location.pathname,search=location.search,hash=location.hash;var path=pathname||"/";if(search&&search!=="?")path+=search.charAt(0)==="?"?search:"?"+search;if(hash&&hash!=="#")path+=hash.charAt(0)==="#"?hash:"#"+hash;return path}function createLocation(path,state,key,currentLocation){var location;if(typeof path==="string"){location=parsePath(path);location.state=state}else{location=_extends({},path);if(location.pathname===undefined)location.pathname="";if(location.search){if(location.search.charAt(0)!=="?")location.search="?"+location.search}else{location.search=""}if(location.hash){if(location.hash.charAt(0)!=="#")location.hash="#"+location.hash}else{location.hash=""}if(state!==undefined&&location.state===undefined)location.state=state}try{location.pathname=decodeURI(location.pathname)}catch(e){if(e instanceof URIError){throw new URIError('Pathname "'+location.pathname+'" could not be decoded. '+"This is likely caused by an invalid percent-encoding.")}else{throw e}}if(key)location.key=key;if(currentLocation){if(!location.pathname){location.pathname=currentLocation.pathname}else if(location.pathname.charAt(0)!=="/"){location.pathname=resolve_pathname(location.pathname,currentLocation.pathname)}}else{if(!location.pathname){location.pathname="/"}}return location}function locationsAreEqual(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash&&a.key===b.key&&value_equal(a.state,b.state)}function createTransitionManager(){var prompt=null;function setPrompt(nextPrompt){false?undefined:void 0;prompt=nextPrompt;return function(){if(prompt===nextPrompt)prompt=null}}function confirmTransitionTo(location,action,getUserConfirmation,callback){if(prompt!=null){var result=typeof prompt==="function"?prompt(location,action):prompt;if(typeof result==="string"){if(typeof getUserConfirmation==="function"){getUserConfirmation(result,callback)}else{false?undefined:void 0;callback(true)}}else{callback(result!==false)}}else{callback(true)}}var listeners=[];function appendListener(fn){var isActive=true;function listener(){if(isActive)fn.apply(void 0,arguments)}listeners.push(listener);return function(){isActive=false;listeners=listeners.filter(function(item){return item!==listener})}}function notifyListeners(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}listeners.forEach(function(listener){return listener.apply(void 0,args)})}return{setPrompt,confirmTransitionTo,appendListener,notifyListeners}}var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);function getConfirmation(message,callback){callback(window.confirm(message))}function supportsHistory(){var ua=window.navigator.userAgent;if((ua.indexOf("Android 2.")!==-1||ua.indexOf("Android 4.0")!==-1)&&ua.indexOf("Mobile Safari")!==-1&&ua.indexOf("Chrome")===-1&&ua.indexOf("Windows Phone")===-1)return false;return window.history&&"pushState"in window.history}function supportsPopStateOnHashChange(){return window.navigator.userAgent.indexOf("Trident")===-1}function supportsGoWithoutReloadUsingHash(){return window.navigator.userAgent.indexOf("Firefox")===-1}function isExtraneousPopstateEvent(event){event.state===undefined&&navigator.userAgent.indexOf("CriOS")===-1}var PopStateEvent="popstate";var HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(e){return{}}}function createBrowserHistory(props){if(props===void 0){props={}}!canUseDOM?false?undefined:tiny_invariant_esm(false):void 0;var globalHistory=window.history;var canUseHistory=supportsHistory();var needsHashChangeListener=!supportsPopStateOnHashChange();var _props=props,_props$forceRefresh=_props.forceRefresh,forceRefresh=_props$forceRefresh===void 0?false:_props$forceRefresh,_props$getUserConfirm=_props.getUserConfirmation,getUserConfirmation=_props$getUserConfirm===void 0?getConfirmation:_props$getUserConfirm,_props$keyLength=_props.keyLength,keyLength=_props$keyLength===void 0?6:_props$keyLength;var basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"";function getDOMLocation(historyState){var _ref=historyState||{},key=_ref.key,state=_ref.state;var _window$location=window.location,pathname=_window$location.pathname,search=_window$location.search,hash=_window$location.hash;var path=pathname+search+hash;false?undefined:void 0;if(basename)path=stripBasename(path,basename);return createLocation(path,state,key)}function createKey(){return Math.random().toString(36).substr(2,keyLength)}var transitionManager=createTransitionManager();function setState(nextState){_extends(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)}function handlePopState(event){if(isExtraneousPopstateEvent(event))return;handlePop(getDOMLocation(event.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var forceNextPop=false;function handlePop(location){if(forceNextPop){forceNextPop=false;setState()}else{var action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action,location})}else{revertPop(location)}})}}function revertPop(fromLocation){var toLocation=history.location;var toIndex=allKeys.indexOf(toLocation.key);if(toIndex===-1)toIndex=0;var fromIndex=allKeys.indexOf(fromLocation.key);if(fromIndex===-1)fromIndex=0;var delta=toIndex-fromIndex;if(delta){forceNextPop=true;go(delta)}}var initialLocation=getDOMLocation(getHistoryState());var allKeys=[initialLocation.key];function createHref(location){return basename+createPath(location)}function push(path,state){false?undefined:void 0;var action="PUSH";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var href=createHref(location);var key=location.key,state=location.state;if(canUseHistory){globalHistory.pushState({key,state},null,href);if(forceRefresh){window.location.href=href}else{var prevIndex=allKeys.indexOf(history.location.key);var nextKeys=allKeys.slice(0,prevIndex===-1?0:prevIndex+1);nextKeys.push(location.key);allKeys=nextKeys;setState({action,location})}}else{false?undefined:void 0;window.location.href=href}})}function replace(path,state){false?undefined:void 0;var action="REPLACE";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var href=createHref(location);var key=location.key,state=location.state;if(canUseHistory){globalHistory.replaceState({key,state},null,href);if(forceRefresh){window.location.replace(href)}else{var prevIndex=allKeys.indexOf(history.location.key);if(prevIndex!==-1)allKeys[prevIndex]=location.key;setState({action,location})}}else{false?undefined:void 0;window.location.replace(href)}})}function go(n){globalHistory.go(n)}function goBack(){go(-1)}function goForward(){go(1)}var listenerCount=0;function checkDOMListeners(delta){listenerCount+=delta;if(listenerCount===1&&delta===1){window.addEventListener(PopStateEvent,handlePopState);if(needsHashChangeListener)window.addEventListener(HashChangeEvent,handleHashChange)}else if(listenerCount===0){window.removeEventListener(PopStateEvent,handlePopState);if(needsHashChangeListener)window.removeEventListener(HashChangeEvent,handleHashChange)}}var isBlocked=false;function block(prompt){if(prompt===void 0){prompt=false}var unblock=transitionManager.setPrompt(prompt);if(!isBlocked){checkDOMListeners(1);isBlocked=true}return function(){if(isBlocked){isBlocked=false;checkDOMListeners(-1)}return unblock()}}function listen(listener){var unlisten=transitionManager.appendListener(listener);checkDOMListeners(1);return function(){checkDOMListeners(-1);unlisten()}}var history={length:globalHistory.length,action:"POP",location:initialLocation,createHref,push,replace,go,goBack,goForward,block,listen};return history}var HashChangeEvent$1="hashchange";var HashPathCoders={hashbang:{encodePath:function encodePath(path){return path.charAt(0)==="!"?path:"!/"+stripLeadingSlash(path)},decodePath:function decodePath(path){return path.charAt(0)==="!"?path.substr(1):path}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function getHashPath(){var href=window.location.href;var hashIndex=href.indexOf("#");return hashIndex===-1?"":href.substring(hashIndex+1)}function pushHashPath(path){window.location.hash=path}function replaceHashPath(path){var hashIndex=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,hashIndex>=0?hashIndex:0)+"#"+path)}function createHashHistory(props){if(props===void 0){props={}}!canUseDOM?false?undefined:tiny_invariant_esm(false):void 0;var globalHistory=window.history;var canGoWithoutReload=supportsGoWithoutReloadUsingHash();var _props=props,_props$getUserConfirm=_props.getUserConfirmation,getUserConfirmation=_props$getUserConfirm===void 0?getConfirmation:_props$getUserConfirm,_props$hashType=_props.hashType,hashType=_props$hashType===void 0?"slash":_props$hashType;var basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"";var _HashPathCoders$hashT=HashPathCoders[hashType],encodePath=_HashPathCoders$hashT.encodePath,decodePath=_HashPathCoders$hashT.decodePath;function getDOMLocation(){var path=decodePath(getHashPath());false?undefined:void 0;if(basename)path=stripBasename(path,basename);return createLocation(path)}var transitionManager=createTransitionManager();function setState(nextState){_extends(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)}var forceNextPop=false;var ignorePath=null;function handleHashChange(){var path=getHashPath();var encodedPath=encodePath(path);if(path!==encodedPath){replaceHashPath(encodedPath)}else{var location=getDOMLocation();var prevLocation=history.location;if(!forceNextPop&&locationsAreEqual(prevLocation,location))return;if(ignorePath===createPath(location))return;ignorePath=null;handlePop(location)}}function handlePop(location){if(forceNextPop){forceNextPop=false;setState()}else{var action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action,location})}else{revertPop(location)}})}}function revertPop(fromLocation){var toLocation=history.location;var toIndex=allPaths.lastIndexOf(createPath(toLocation));if(toIndex===-1)toIndex=0;var fromIndex=allPaths.lastIndexOf(createPath(fromLocation));if(fromIndex===-1)fromIndex=0;var delta=toIndex-fromIndex;if(delta){forceNextPop=true;go(delta)}}var path=getHashPath();var encodedPath=encodePath(path);if(path!==encodedPath)replaceHashPath(encodedPath);var initialLocation=getDOMLocation();var allPaths=[createPath(initialLocation)];function createHref(location){return"#"+encodePath(basename+createPath(location))}function push(path,state){false?undefined:void 0;var action="PUSH";var location=createLocation(path,undefined,undefined,history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var path=createPath(location);var encodedPath=encodePath(basename+path);var hashChanged=getHashPath()!==encodedPath;if(hashChanged){ignorePath=path;pushHashPath(encodedPath);var prevIndex=allPaths.lastIndexOf(createPath(history.location));var nextPaths=allPaths.slice(0,prevIndex===-1?0:prevIndex+1);nextPaths.push(path);allPaths=nextPaths;setState({action,location})}else{false?undefined:void 0;setState()}})}function replace(path,state){false?undefined:void 0;var action="REPLACE";var location=createLocation(path,undefined,undefined,history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var path=createPath(location);var encodedPath=encodePath(basename+path);var hashChanged=getHashPath()!==encodedPath;if(hashChanged){ignorePath=path;replaceHashPath(encodedPath)}var prevIndex=allPaths.indexOf(createPath(history.location));if(prevIndex!==-1)allPaths[prevIndex]=path;setState({action,location})})}function go(n){false?undefined:void 0;globalHistory.go(n)}function goBack(){go(-1)}function goForward(){go(1)}var listenerCount=0;function checkDOMListeners(delta){listenerCount+=delta;if(listenerCount===1&&delta===1){window.addEventListener(HashChangeEvent$1,handleHashChange)}else if(listenerCount===0){window.removeEventListener(HashChangeEvent$1,handleHashChange)}}var isBlocked=false;function block(prompt){if(prompt===void 0){prompt=false}var unblock=transitionManager.setPrompt(prompt);if(!isBlocked){checkDOMListeners(1);isBlocked=true}return function(){if(isBlocked){isBlocked=false;checkDOMListeners(-1)}return unblock()}}function listen(listener){var unlisten=transitionManager.appendListener(listener);checkDOMListeners(1);return function(){checkDOMListeners(-1);unlisten()}}var history={length:globalHistory.length,action:"POP",location:initialLocation,createHref,push,replace,go,goBack,goForward,block,listen};return history}function clamp(n,lowerBound,upperBound){return Math.min(Math.max(n,lowerBound),upperBound)}function createMemoryHistory(props){if(props===void 0){props={}}var _props=props,getUserConfirmation=_props.getUserConfirmation,_props$initialEntries=_props.initialEntries,initialEntries=_props$initialEntries===void 0?["/"]:_props$initialEntries,_props$initialIndex=_props.initialIndex,initialIndex=_props$initialIndex===void 0?0:_props$initialIndex,_props$keyLength=_props.keyLength,keyLength=_props$keyLength===void 0?6:_props$keyLength;var transitionManager=createTransitionManager();function setState(nextState){_extends(history,nextState);history.length=history.entries.length;transitionManager.notifyListeners(history.location,history.action)}function createKey(){return Math.random().toString(36).substr(2,keyLength)}var index=clamp(initialIndex,0,initialEntries.length-1);var entries=initialEntries.map(function(entry){return typeof entry==="string"?createLocation(entry,undefined,createKey()):createLocation(entry,undefined,entry.key||createKey())});var createHref=createPath;function push(path,state){false?undefined:void 0;var action="PUSH";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var prevIndex=history.index;var nextIndex=prevIndex+1;var nextEntries=history.entries.slice(0);if(nextEntries.length>nextIndex){nextEntries.splice(nextIndex,nextEntries.length-nextIndex,location)}else{nextEntries.push(location)}setState({action,location,index:nextIndex,entries:nextEntries})})}function replace(path,state){false?undefined:void 0;var action="REPLACE";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;history.entries[history.index]=location;setState({action,location})})}function go(n){var nextIndex=clamp(history.index+n,0,history.entries.length-1);var action="POP";var location=history.entries[nextIndex];transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action,location,index:nextIndex})}else{setState()}})}function goBack(){go(-1)}function goForward(){go(1)}function canGo(n){var nextIndex=history.index+n;return nextIndex>=0&&nextIndex<history.entries.length}function block(prompt){if(prompt===void 0){prompt=false}return transitionManager.setPrompt(prompt)}function listen(listener){return transitionManager.appendListener(listener)}var history={length:entries.length,action:"POP",location:entries[index],index,entries,createHref,push,replace,go,goBack,goForward,canGo,block,listen};return history}var path_to_regexp=__webpack_require__(24);var path_to_regexp_default=__webpack_require__.n(path_to_regexp);var react_is=__webpack_require__(26);function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var hoist_non_react_statics_cjs=__webpack_require__(33);var hoist_non_react_statics_cjs_default=__webpack_require__.n(hoist_non_react_statics_cjs);var react_router_createNamedContext=function createNamedContext(name){var context=lib_default()();context.Provider.displayName=name+".Provider";context.Consumer.displayName=name+".Consumer";return context};var react_router_context=react_router_createNamedContext("Router");var react_router_Router=function(_React$Component){_inheritsLoose(Router,_React$Component);Router.computeRootMatch=function computeRootMatch(pathname){return{path:"/",url:"/",params:{},isExact:pathname==="/"}};function Router(props){var _this;_this=_React$Component.call(this,props)||this;_this.state={location:props.history.location};_this._isMounted=false;_this._pendingLocation=null;if(!props.staticContext){_this.unlisten=props.history.listen(function(location){if(_this._isMounted){_this.setState({location})}else{_this._pendingLocation=location}})}return _this}var _proto=Router.prototype;_proto.componentDidMount=function componentDidMount(){this._isMounted=true;if(this._pendingLocation){this.setState({location:this._pendingLocation})}};_proto.componentWillUnmount=function componentWillUnmount(){if(this.unlisten)this.unlisten()};_proto.render=function render(){return external_React_default.a.createElement(react_router_context.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})};return Router}(external_React_default.a.Component);if(false){}var react_router_MemoryRouter=function(_React$Component){_inheritsLoose(MemoryRouter,_React$Component);function MemoryRouter(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this;_this.history=createMemoryHistory(_this.props);return _this}var _proto=MemoryRouter.prototype;_proto.render=function render(){return external_React_default.a.createElement(react_router_Router,{history:this.history,children:this.props.children})};return MemoryRouter}(external_React_default.a.Component);if(false){}var react_router_Lifecycle=function(_React$Component){_inheritsLoose(Lifecycle,_React$Component);function Lifecycle(){return _React$Component.apply(this,arguments)||this}var _proto=Lifecycle.prototype;_proto.componentDidMount=function componentDidMount(){if(this.props.onMount)this.props.onMount.call(this,this)};_proto.componentDidUpdate=function componentDidUpdate(prevProps){if(this.props.onUpdate)this.props.onUpdate.call(this,this,prevProps)};_proto.componentWillUnmount=function componentWillUnmount(){if(this.props.onUnmount)this.props.onUnmount.call(this,this)};_proto.render=function render(){return null};return Lifecycle}(external_React_default.a.Component);function Prompt(_ref){var message=_ref.message,_ref$when=_ref.when,when=_ref$when===void 0?true:_ref$when;return external_React_default.a.createElement(react_router_context.Consumer,null,function(context$$1){!context$$1?false?undefined:tiny_invariant_esm(false):void 0;if(!when||context$$1.staticContext)return null;var method=context$$1.history.block;return external_React_default.a.createElement(react_router_Lifecycle,{onMount:function onMount(self){self.release=method(message)},onUpdate:function onUpdate(self,prevProps){if(prevProps.message!==message){self.release();self.release=method(message)}},onUnmount:function onUnmount(self){self.release()},message})})}if(false){var messageType}var cache={};var cacheLimit=1e4;var cacheCount=0;function compilePath(path){if(cache[path])return cache[path];var generator=path_to_regexp_default.a.compile(path);if(cacheCount<cacheLimit){cache[path]=generator;cacheCount++}return generator}function generatePath(path,params){if(path===void 0){path="/"}if(params===void 0){params={}}return path==="/"?path:compilePath(path)(params,{pretty:true})}function Redirect(_ref){var computedMatch=_ref.computedMatch,to=_ref.to,_ref$push=_ref.push,push=_ref$push===void 0?false:_ref$push;return external_React_default.a.createElement(react_router_context.Consumer,null,function(context$$1){!context$$1?false?undefined:tiny_invariant_esm(false):void 0;var history=context$$1.history,staticContext=context$$1.staticContext;var method=push?history.push:history.replace;var location=createLocation(computedMatch?typeof to==="string"?generatePath(to,computedMatch.params):_extends({},to,{pathname:generatePath(to.pathname,computedMatch.params)}):to);if(staticContext){method(location);return null}return external_React_default.a.createElement(react_router_Lifecycle,{onMount:function onMount(){method(location)},onUpdate:function onUpdate(self,prevProps){if(!locationsAreEqual(prevProps.to,location)){method(location)}},to})})}if(false){}var cache$1={};var cacheLimit$1=1e4;var cacheCount$1=0;function compilePath$1(path,options){var cacheKey=""+options.end+options.strict+options.sensitive;var pathCache=cache$1[cacheKey]||(cache$1[cacheKey]={});if(pathCache[path])return pathCache[path];var keys=[];var regexp=path_to_regexp_default()(path,keys,options);var result={regexp,keys};if(cacheCount$1<cacheLimit$1){pathCache[path]=result;cacheCount$1++}return result}function matchPath(pathname,options){if(options===void 0){options={}}if(typeof options==="string")options={path:options};var _options=options,path=_options.path,_options$exact=_options.exact,exact=_options$exact===void 0?false:_options$exact,_options$strict=_options.strict,strict=_options$strict===void 0?false:_options$strict,_options$sensitive=_options.sensitive,sensitive=_options$sensitive===void 0?false:_options$sensitive;var paths=[].concat(path);return paths.reduce(function(matched,path){if(matched)return matched;var _compilePath=compilePath$1(path,{end:exact,strict,sensitive}),regexp=_compilePath.regexp,keys=_compilePath.keys;var match=regexp.exec(pathname);if(!match)return null;var url=match[0],values=match.slice(1);var isExact=pathname===url;if(exact&&!isExact)return null;return{path,url:path==="/"&&url===""?"/":url,isExact,params:keys.reduce(function(memo,key,index){memo[key.name]=values[index];return memo},{})}},null)}function isEmptyChildren(children){return external_React_default.a.Children.count(children)===0}var react_router_Route=function(_React$Component){_inheritsLoose(Route,_React$Component);function Route(){return _React$Component.apply(this,arguments)||this}var _proto=Route.prototype;_proto.render=function render(){var _this=this;return external_React_default.a.createElement(react_router_context.Consumer,null,function(context$$1){!context$$1?false?undefined:tiny_invariant_esm(false):void 0;var location=_this.props.location||context$$1.location;var match=_this.props.computedMatch?_this.props.computedMatch:_this.props.path?matchPath(location.pathname,_this.props):context$$1.match;var props=_extends({},context$$1,{location,match});var _this$props=_this.props,children=_this$props.children,component=_this$props.component,render=_this$props.render;if(Array.isArray(children)&&children.length===0){children=null}if(typeof children==="function"){children=children(props);if(children===undefined){if(false){var path}children=null}}return external_React_default.a.createElement(react_router_context.Provider,{value:props},children&&!isEmptyChildren(children)?children:props.match?component?external_React_default.a.createElement(component,props):render?render(props):null:null)})};return Route}(external_React_default.a.Component);if(false){}function react_router_addLeadingSlash(path){return path.charAt(0)==="/"?path:"/"+path}function addBasename(basename,location){if(!basename)return location;return _extends({},location,{pathname:react_router_addLeadingSlash(basename)+location.pathname})}function react_router_stripBasename(basename,location){if(!basename)return location;var base=react_router_addLeadingSlash(basename);if(location.pathname.indexOf(base)!==0)return location;return _extends({},location,{pathname:location.pathname.substr(base.length)})}function createURL(location){return typeof location==="string"?location:createPath(location)}function staticHandler(methodName){return function(){false?undefined:tiny_invariant_esm(false)}}function noop(){}var react_router_StaticRouter=function(_React$Component){_inheritsLoose(StaticRouter,_React$Component);function StaticRouter(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this;_this.handlePush=function(location){return _this.navigateTo(location,"PUSH")};_this.handleReplace=function(location){return _this.navigateTo(location,"REPLACE")};_this.handleListen=function(){return noop};_this.handleBlock=function(){return noop};return _this}var _proto=StaticRouter.prototype;_proto.navigateTo=function navigateTo(location,action){var _this$props=this.props,_this$props$basename=_this$props.basename,basename=_this$props$basename===void 0?"":_this$props$basename,context=_this$props.context;context.action=action;context.location=addBasename(basename,createLocation(location));context.url=createURL(context.location)};_proto.render=function render(){var _this$props2=this.props,_this$props2$basename=_this$props2.basename,basename=_this$props2$basename===void 0?"":_this$props2$basename,_this$props2$context=_this$props2.context,context=_this$props2$context===void 0?{}:_this$props2$context,_this$props2$location=_this$props2.location,location=_this$props2$location===void 0?"/":_this$props2$location,rest=_objectWithoutPropertiesLoose(_this$props2,["basename","context","location"]);var history={createHref:function createHref(path){return react_router_addLeadingSlash(basename+createURL(path))},action:"POP",location:react_router_stripBasename(basename,createLocation(location)),push:this.handlePush,replace:this.handleReplace,go:staticHandler("go"),goBack:staticHandler("goBack"),goForward:staticHandler("goForward"),listen:this.handleListen,block:this.handleBlock};return external_React_default.a.createElement(react_router_Router,_extends({},rest,{history,staticContext:context}))};return StaticRouter}(external_React_default.a.Component);if(false){}var react_router_Switch=function(_React$Component){_inheritsLoose(Switch,_React$Component);function Switch(){return _React$Component.apply(this,arguments)||this}var _proto=Switch.prototype;_proto.render=function render(){var _this=this;return external_React_default.a.createElement(react_router_context.Consumer,null,function(context$$1){!context$$1?false?undefined:tiny_invariant_esm(false):void 0;var location=_this.props.location||context$$1.location;var element,match;external_React_default.a.Children.forEach(_this.props.children,function(child){if(match==null&&external_React_default.a.isValidElement(child)){element=child;var path=child.props.path||child.props.from;match=path?matchPath(location.pathname,_extends({},child.props,{path})):context$$1.match}});return match?external_React_default.a.cloneElement(element,{location,computedMatch:match}):null})};return Switch}(external_React_default.a.Component);if(false){}function withRouter(Component){var C=function C(props){var wrappedComponentRef=props.wrappedComponentRef,remainingProps=_objectWithoutPropertiesLoose(props,["wrappedComponentRef"]);return external_React_default.a.createElement(react_router_Route,{children:function children(routeComponentProps){return external_React_default.a.createElement(Component,_extends({},remainingProps,routeComponentProps,{ref:wrappedComponentRef}))}})};C.displayName="withRouter("+(Component.displayName||Component.name)+")";C.WrappedComponent=Component;if(false){}return hoist_non_react_statics_cjs_default()(C,Component)}if(false){var secondaryBuildName,initialBuildName,buildNames,react_router_key,global}__webpack_require__.d(__webpack_exports__,"BrowserRouter",function(){return react_router_dom_BrowserRouter});__webpack_require__.d(__webpack_exports__,"HashRouter",function(){return react_router_dom_HashRouter});__webpack_require__.d(__webpack_exports__,"Link",function(){return react_router_dom_Link});__webpack_require__.d(__webpack_exports__,"NavLink",function(){return NavLink});__webpack_require__.d(__webpack_exports__,"MemoryRouter",function(){return react_router_MemoryRouter});__webpack_require__.d(__webpack_exports__,"Prompt",function(){return Prompt});__webpack_require__.d(__webpack_exports__,"Redirect",function(){return Redirect});__webpack_require__.d(__webpack_exports__,"Route",function(){return react_router_Route});__webpack_require__.d(__webpack_exports__,"Router",function(){return react_router_Router});__webpack_require__.d(__webpack_exports__,"StaticRouter",function(){return react_router_StaticRouter});__webpack_require__.d(__webpack_exports__,"Switch",function(){return react_router_Switch});__webpack_require__.d(__webpack_exports__,"generatePath",function(){return generatePath});__webpack_require__.d(__webpack_exports__,"matchPath",function(){return matchPath});__webpack_require__.d(__webpack_exports__,"withRouter",function(){return withRouter});__webpack_require__.d(__webpack_exports__,"__RouterContext",function(){return react_router_context});var react_router_dom_BrowserRouter=function(_React$Component){_inheritsLoose(BrowserRouter,_React$Component);function BrowserRouter(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this;_this.history=createBrowserHistory(_this.props);return _this}var _proto=BrowserRouter.prototype;_proto.render=function render(){return external_React_default.a.createElement(react_router_Router,{history:this.history,children:this.props.children})};return BrowserRouter}(external_React_default.a.Component);if(false){}var react_router_dom_HashRouter=function(_React$Component){_inheritsLoose(HashRouter,_React$Component);function HashRouter(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this;_this.history=createHashHistory(_this.props);return _this}var _proto=HashRouter.prototype;_proto.render=function render(){return external_React_default.a.createElement(react_router_Router,{history:this.history,children:this.props.children})};return HashRouter}(external_React_default.a.Component);if(false){}function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}var react_router_dom_Link=function(_React$Component){_inheritsLoose(Link,_React$Component);function Link(){return _React$Component.apply(this,arguments)||this}var _proto=Link.prototype;_proto.handleClick=function handleClick(event,history){if(this.props.onClick)this.props.onClick(event);if(!event.defaultPrevented&&event.button===0&&(!this.props.target||this.props.target==="_self")&&!isModifiedEvent(event)){event.preventDefault();var method=this.props.replace?history.replace:history.push;method(this.props.to)}};_proto.render=function render(){var _this=this;var _this$props=this.props,innerRef=_this$props.innerRef,replace=_this$props.replace,to=_this$props.to,rest=_objectWithoutPropertiesLoose(_this$props,["innerRef","replace","to"]);return external_React_default.a.createElement(react_router_context.Consumer,null,function(context){!context?false?undefined:tiny_invariant_esm(false):void 0;var location=typeof to==="string"?createLocation(to,null,null,context.location):to;var href=location?context.history.createHref(location):"";return external_React_default.a.createElement("a",_extends({},rest,{onClick:function onClick(event){return _this.handleClick(event,context.history)},href,ref:innerRef}))})};return Link}(external_React_default.a.Component);if(false){var innerRefType,toType}function joinClassnames(){for(var _len=arguments.length,classnames=new Array(_len),_key=0;_key<_len;_key++){classnames[_key]=arguments[_key]}return classnames.filter(function(i){return i}).join(" ")}function NavLink(_ref){var _ref$ariaCurrent=_ref["aria-current"],ariaCurrent=_ref$ariaCurrent===void 0?"page":_ref$ariaCurrent,_ref$activeClassName=_ref.activeClassName,activeClassName=_ref$activeClassName===void 0?"active":_ref$activeClassName,activeStyle=_ref.activeStyle,classNameProp=_ref.className,exact=_ref.exact,isActiveProp=_ref.isActive,location=_ref.location,strict=_ref.strict,styleProp=_ref.style,to=_ref.to,rest=_objectWithoutPropertiesLoose(_ref,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]);var path=typeof to==="object"?to.pathname:to;var escapedPath=path&&path.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return external_React_default.a.createElement(react_router_Route,{path:escapedPath,exact,strict,location,children:function children(_ref2){var location=_ref2.location,match=_ref2.match;var isActive=!!(isActiveProp?isActiveProp(match,location):match);var className=isActive?joinClassnames(classNameProp,activeClassName):classNameProp;var style=isActive?_extends({},styleProp,activeStyle):styleProp;return external_React_default.a.createElement(react_router_dom_Link,_extends({"aria-current":isActive&&ariaCurrent||null,className,style,to},rest))}})}if(false){var ariaCurrentType}},,,,function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _customFields=__webpack_require__(63);var _customFields2=_interopRequireDefault(_customFields);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SpecimenProcessForm=function(_Component){_inherits(SpecimenProcessForm,_Component);function SpecimenProcessForm(){_classCallCheck(this,SpecimenProcessForm);var _this=_possibleConstructorReturn(this,(SpecimenProcessForm.__proto__||Object.getPrototypeOf(SpecimenProcessForm)).call(this));_this.setProcess=_this.setProcess.bind(_this);_this.addData=_this.addData.bind(_this);_this.setData=_this.setData.bind(_this);_this.setProtocol=_this.setProtocol.bind(_this);return _this}_createClass(SpecimenProcessForm,[{key:"setProcess",value:function setProcess(name,value){var process=this.props.process;process[name]=value;this.props.setParent(this.props.processStage,process)}},{key:"addData",value:function addData(){var process=this.props.process;process.data={};this.props.setParent(this.props.processStage,process)}},{key:"setData",value:function setData(name,value){var data=this.props.process.data;if(value instanceof File){data[name]=value.name;var files=this.props.current.files;files[value.name]=value;this.props.setCurrent("files",files)}else{data[name]=value}this.setProcess("data",data)}},{key:"setProtocol",value:function setProtocol(name,value){this.setProcess("data",{});this.setProcess(name,value)}},{key:"render",value:function render(){var _this2=this;var _props=this.props,specimen=_props.specimen,process=_props.process,processStage=_props.processStage,typeId=_props.typeId,options=_props.options,errors=_props.errors,edit=_props.edit;var mapFormOptions=this.props.mapFormOptions;var renderUpdateButton=function renderUpdateButton(){if(!_this2.props.specimen){return}return _react2.default.createElement(ButtonElement,{label:"Update",onUserInput:function onUserInput(){return _this2.props.updateSpecimen(specimen)}})};var specimenProtocols={};var specimenProtocolAttributes={};Object.entries(options.specimen.protocols).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),id=_ref2[0],protocol=_ref2[1];if(typeId==protocol.typeId&&options.specimen.processes[protocol.processId].label.toLowerCase()==processStage){specimenProtocols[id]=protocol.label;specimenProtocolAttributes[id]=options.specimen.protocolAttributes[id]}});var renderProtocolFields=function renderProtocolFields(){if(specimenProtocolAttributes[process.protocolId]){if(process.data){return _react2.default.createElement(_customFields2.default,{attributeDatatypes:options.specimen.attributeDatatypes,attributeOptions:options.specimen.attributeOptions,errors:errors.data,fields:specimenProtocolAttributes[process.protocolId],object:process.data,setData:_this2.setData})}else{_this2.addData()}}};var renderCollectionFields=function renderCollectionFields(){if(processStage==="collection"){var specimenTypeUnits=Object.keys(options.specimen.typeUnits[typeId]||{}).reduce(function(result,id){result[id]=options.specimen.typeUnits[typeId][id].label;return result},{});return _react2.default.createElement("div",null,_react2.default.createElement(TextboxElement,{name:"quantity",label:"Quantity",onUserInput:_this2.setProcess,required:true,value:process.quantity,errorMessage:errors.quantity}),_react2.default.createElement(SelectElement,{name:"unitId",label:"Unit",options:specimenTypeUnits,onUserInput:_this2.setProcess,required:true,value:process.unitId,errorMessage:errors.unitId}))}};var examiners=mapFormOptions(options.examiners,"label");var renderProcessFields=function renderProcessFields(){if(typeId&&edit===true){return _react2.default.createElement("div",null,_react2.default.createElement(SelectElement,{name:"protocolId",label:"Protocol",options:specimenProtocols,onUserInput:_this2.setProtocol,required:true,value:process.protocolId,errorMessage:(errors.specimen||{}).protocolId}),_react2.default.createElement(SelectElement,{name:"examinerId",label:"Done By",options:examiners,onUserInput:_this2.setProcess,required:true,value:process.examinerId,errorMessage:(errors.specimen||{}).protocolId}),renderCollectionFields(),renderProtocolFields(),_react2.default.createElement(DateElement,{name:"date",label:"Date",minYear:"2000",onUserInput:_this2.setProcess,required:true,value:process.date,errorMessage:errors.date}),_react2.default.createElement(TimeElement,{name:"time",label:"Time",onUserInput:_this2.setProcess,required:true,value:process.time,errorMessage:errors.time}),_react2.default.createElement(TextareaElement,{name:"comments",label:"Comments",onUserInput:_this2.setProcess,value:process.comments,errorMessage:errors.comments}),renderUpdateButton())}else if(edit===false){var renderProtocolStaticFields=function renderProtocolStaticFields(){if(process.data){var protocolAttributes=process.data;return Object.keys(protocolAttributes).map(function(key){var renderValue=function renderValue(){if(protocolAttributes[key]===true){return"✔️"}else if(protocolAttributes[key]===false){return"❌"}else{return protocolAttributes[key]}};return _react2.default.createElement(StaticElement,{label:options.specimen.protocolAttributes[process.protocolId][key].label,text:renderValue()})})}};var renderCollectionStaticFields=function renderCollectionStaticFields(){if(processStage==="collection"){return _react2.default.createElement(StaticElement,{label:"Quantity",text:process.quantity+" "+options.specimen.units[process.unitId].label})}};return _react2.default.createElement("div",null,_react2.default.createElement(StaticElement,{label:"Protocol",text:options.specimen.protocols[process.protocolId].label}),_react2.default.createElement(StaticElement,{label:"Site",text:options.centers[process.centerId]}),_react2.default.createElement(StaticElement,{label:"Done By",text:options.examiners[process.examinerId].label}),renderCollectionStaticFields(),renderProtocolStaticFields(),_react2.default.createElement(StaticElement,{label:"Date",text:process.date}),_react2.default.createElement(StaticElement,{label:"Time",text:process.time}),_react2.default.createElement(StaticElement,{label:"Comments",text:process.comments}))}};return _react2.default.createElement("div",null,renderProcessFields())}}]);return SpecimenProcessForm}(_react.Component);SpecimenProcessForm.propTypes={setParent:_propTypes2.default.func.isRequired,updateSpecimen:_propTypes2.default.func,specimen:_propTypes2.default.object.isRequired,attributeDatatypes:_propTypes2.default.object.isRequired,attributeOptions:_propTypes2.default.object.isRequired,specimenTypeUnits:_propTypes2.default.object.isRequired,specimenTypeAttributes:_propTypes2.default.object.isRequired};SpecimenProcessForm.defaultProps={errors:{}};exports.default=SpecimenProcessForm},,function(module,exports,__webpack_require__){var isarray=__webpack_require__(60);module.exports=pathToRegexp;module.exports.parse=parse;module.exports.compile=compile;module.exports.tokensToFunction=tokensToFunction;module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(str,options){var tokens=[];var key=0;var index=0;var path="";var defaultDelimiter=options&&options.delimiter||"/";var res;while((res=PATH_REGEXP.exec(str))!=null){var m=res[0];var escaped=res[1];var offset=res.index;path+=str.slice(index,offset);index=offset+m.length;if(escaped){path+=escaped[1];continue}var next=str[index];var prefix=res[2];var name=res[3];var capture=res[4];var group=res[5];var modifier=res[6];var asterisk=res[7];if(path){tokens.push(path);path=""}var partial=prefix!=null&&next!=null&&next!==prefix;var repeat=modifier==="+"||modifier==="*";var optional=modifier==="?"||modifier==="*";var delimiter=res[2]||defaultDelimiter;var pattern=capture||group;tokens.push({name:name||key++,prefix:prefix||"",delimiter,optional,repeat,partial,asterisk:!!asterisk,pattern:pattern?escapeGroup(pattern):asterisk?".*":"[^"+escapeString(delimiter)+"]+?"})}if(index<str.length){path+=str.substr(index)}if(path){tokens.push(path)}return tokens}function compile(str,options){return tokensToFunction(parse(str,options))}function encodeURIComponentPretty(str){return encodeURI(str).replace(/[\/?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(str){return encodeURI(str).replace(/[?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(tokens){var matches=new Array(tokens.length);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]==="object"){matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$")}}return function(obj,opts){var path="";var data=obj||{};var options=opts||{};var encode=options.pretty?encodeURIComponentPretty:encodeURIComponent;for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){path+=token;continue}var value=data[token.name];var segment;if(value==null){if(token.optional){if(token.partial){path+=token.prefix}continue}else{throw new TypeError('Expected "'+token.name+'" to be defined')}}if(isarray(value)){if(!token.repeat){throw new TypeError('Expected "'+token.name+'" to not repeat, but received `'+JSON.stringify(value)+"`")}if(value.length===0){if(token.optional){continue}else{throw new TypeError('Expected "'+token.name+'" to not be empty')}}for(var j=0;j<value.length;j++){segment=encode(value[j]);if(!matches[i].test(segment)){throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received `'+JSON.stringify(segment)+"`")}path+=(j===0?token.prefix:token.delimiter)+segment}continue}segment=token.asterisk?encodeAsterisk(value):encode(value);if(!matches[i].test(segment)){throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"')}path+=token.prefix+segment}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){re.keys=keys;return re}function flags(options){return options.sensitive?"":"i"}function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups){for(var i=0;i<groups.length;i++){keys.push({name:i,prefix:null,delimiter:null,optional:false,repeat:false,partial:false,asterisk:false,pattern:null})}}return attachKeys(path,keys)}function arrayToRegexp(path,keys,options){var parts=[];for(var i=0;i<path.length;i++){parts.push(pathToRegexp(path[i],keys,options).source)}var regexp=new RegExp("(?:"+parts.join("|")+")",flags(options));return attachKeys(regexp,keys)}function stringToRegexp(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}function tokensToRegExp(tokens,keys,options){if(!isarray(keys)){options=keys||options;keys=[]}options=options||{};var strict=options.strict;var end=options.end!==false;var route="";for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){route+=escapeString(token)}else{var prefix=escapeString(token.prefix);var capture="(?:"+token.pattern+")";keys.push(token);if(token.repeat){capture+="(?:"+prefix+capture+")*"}if(token.optional){if(!token.partial){capture="(?:"+prefix+"("+capture+"))?"}else{capture=prefix+"("+capture+")?"}}else{capture=prefix+"("+capture+")"}route+=capture}}var delimiter=escapeString(options.delimiter||"/");var endsWithDelimiter=route.slice(-delimiter.length)===delimiter;if(!strict){route=(endsWithDelimiter?route.slice(0,-delimiter.length):route)+"(?:"+delimiter+"(?=$))?"}if(end){route+="$"}else{route+=strict&&endsWithDelimiter?"":"(?="+delimiter+"|$)"}return attachKeys(new RegExp("^"+route,flags(options)),keys)}function pathToRegexp(path,keys,options){if(!isarray(keys)){options=keys||options;keys=[]}options=options||{};if(path instanceof RegExp){return regexpToRegexp(path,keys)}if(isarray(path)){return arrayToRegexp(path,keys,options)}return stringToRegexp(path,keys,options)}},,function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(61)}else{}},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _processForm=__webpack_require__(22);var _processForm2=_interopRequireDefault(_processForm);var _containerParentForm=__webpack_require__(28);var _containerParentForm2=_interopRequireDefault(_containerParentForm);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BiobankSpecimenForm=function(_React$Component){_inherits(BiobankSpecimenForm,_React$Component);function BiobankSpecimenForm(){_classCallCheck(this,BiobankSpecimenForm);var _this=_possibleConstructorReturn(this,(BiobankSpecimenForm.__proto__||Object.getPrototypeOf(BiobankSpecimenForm)).call(this));_this.setSession=_this.setSession.bind(_this);return _this}_createClass(BiobankSpecimenForm,[{key:"componentWillMount",value:function componentWillMount(){if(this.props.parent){var parentSpecimenIds=Object.values(this.props.parent).map(function(item){return item.specimen.id});var setCurrent=this.props.setCurrent;setCurrent("candidateId",this.props.parent[0].specimen.candidateId);setCurrent("sessionId",this.props.parent[0].specimen.sessionId);setCurrent("typeId",this.props.parent[0].specimen.typeId);setCurrent("originId",this.props.parent[0].container.originId);setCurrent("centerId",this.props.parent[0].container.centerId);setCurrent("parentSpecimenIds",parentSpecimenIds);if(this.props.parent>1){setCurrent("quantity",0)}}}},{key:"setSession",value:function setSession(session,sessionId){var centerId=this.props.options.sessionCenters[sessionId].centerId;this.props.setCurrent(session,sessionId);this.props.setCurrent("centerId",centerId);this.props.setCurrent("originId",centerId)}},{key:"render",value:function render(){var _this2=this;var _props=this.props,current=_props.current,errors=_props.errors,options=_props.options,data=_props.data,parent=_props.parent;var _props2=this.props,mapFormOptions=_props2.mapFormOptions,addListItem=_props2.addListItem,toggleCollapse=_props2.toggleCollapse,setCurrent=_props2.setCurrent;var barcodes=Object.entries(current.list).map(function(_ref,i,list){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],specimen=_ref2[1];return React.createElement(SpecimenBarcodeForm,{current,key,barcodeKey:key,id:i+1,collapsed:current.collapsed[key],toggleCollapse,mapFormOptions,setCurrent,specimen:specimen||null,errors:errors.list[key]||{},removeSpecimen:list.length>1?function(){_this2.props.removeListItem(key)}:null,addSpecimen:i+1==list.length?function(){addListItem("specimen")}:null,multiplier:current.multiplier,copySpecimen:i+1==list.length&&specimen?_this2.props.copyListItem:null,setListItem:_this2.props.setListItem,options,data})});var renderNote=function renderNote(){if(parent){return React.createElement(StaticElement,{label:"Note",text:'To create new aliquots, enter a Barcode, fill out the coresponding sub-form and press Submit. Press "New Entry" button to add another barcode field, or press for the "Copy" button to duplicate the previous entry.'})}else{return React.createElement(StaticElement,{label:"Note",text:'To create new specimens, first select a PSCID and Visit Label. Then, enter a Barcode, fill out the coresponding sub-form and press submit. Press "New Entry" button to add another barcode field, or press for the "Copy" button to duplicate the previous entry.'})}};var renderGlobalFields=function renderGlobalFields(){if(parent){var parentBarcodes=Object.values(parent).map(function(item){return item.container.barcode});var parentBarcodesString=parentBarcodes.join(", ");return React.createElement("div",null,React.createElement(StaticElement,{label:"Parent Specimen(s)",text:parentBarcodesString}),React.createElement(StaticElement,{label:"PSCID",text:options.candidates[current.candidateId].pscid}),React.createElement(StaticElement,{label:"Visit Label",text:options.sessions[current.sessionId].label}))}else{var sessions=current.candidateId?mapFormOptions(options.candidateSessions[current.candidateId],"label"):{};var candidates=mapFormOptions(options.candidates,"pscid");return React.createElement("div",null,React.createElement(SearchableDropdown,{name:"candidateId",label:"PSCID",options:candidates,onUserInput:setCurrent,required:true,value:current.candidateId,placeHolder:"Search for a PSCID",errorMessage:errors.specimen.candidateId}),React.createElement(SelectElement,{name:"sessionId",label:"Visit Label",options:sessions,onUserInput:_this2.setSession,required:true,value:current.sessionId,disabled:current.candidateId?false:true,errorMessage:errors.specimen.sessionId}))}};var renderRemainingQuantityFields=function renderRemainingQuantityFields(){if(parent){if(loris.userHasPermission("biobank_specimen_update")&&parent.length===1){var specimenUnits=mapFormOptions(options.specimen.units,"label");return React.createElement("div",null,React.createElement(TextboxElement,{name:"quantity",label:"Remaining Quantity",onUserInput:_this2.props.setSpecimen,required:true,value:current.specimen.quantity}),React.createElement(SelectElement,{name:"unitId",label:"Unit",options:specimenUnits,onUserInput:_this2.props.setSpecimen,emptyOption:false,required:true,value:current.specimen.unitId}))}}};return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-11"},renderNote(),renderGlobalFields(),renderRemainingQuantityFields())),barcodes)}}]);return BiobankSpecimenForm}(React.Component);BiobankSpecimenForm.propTypes={};BiobankSpecimenForm.defaultProps={specimenList:{}};var SpecimenBarcodeForm=function(_React$Component2){_inherits(SpecimenBarcodeForm,_React$Component2);function SpecimenBarcodeForm(){_classCallCheck(this,SpecimenBarcodeForm);var _this3=_possibleConstructorReturn(this,(SpecimenBarcodeForm.__proto__||Object.getPrototypeOf(SpecimenBarcodeForm)).call(this));_this3.setContainer=_this3.setContainer.bind(_this3);_this3.setSpecimen=_this3.setSpecimen.bind(_this3);_this3.copy=_this3.copy.bind(_this3);return _this3}_createClass(SpecimenBarcodeForm,[{key:"setContainer",value:function setContainer(name,value){var container=this.props.specimen.container;container[name]=value;this.props.setListItem("container",container,this.props.barcodeKey)}},{key:"setSpecimen",value:function setSpecimen(name,value){this.props.setListItem(name,value,this.props.barcodeKey)}},{key:"copy",value:function copy(){this.props.copySpecimen(this.props.barcodeKey)}},{key:"render",value:function render(){var _this4=this;var _props3=this.props,mapFormOptions=_props3.mapFormOptions,setCurrent=_props3.setCurrent;var _props4=this.props,addSpecimen=_props4.addSpecimen,copySpecimen=_props4.copySpecimen,removeSpecimen=_props4.removeSpecimen;var _props5=this.props,options=_props5.options,current=_props5.current,errors=_props5.errors,specimen=_props5.specimen,data=_props5.data;var renderAddSpecimenButton=function renderAddSpecimenButton(){if(addSpecimen){return React.createElement("div",null,React.createElement("span",{className:"action"},React.createElement("div",{className:"action-button add",onClick:addSpecimen},"+")),React.createElement("span",{className:"action-title"},"New Entry"))}};var renderCopySpecimenButton=function renderCopySpecimenButton(){if(copySpecimen){return React.createElement("div",null,React.createElement("span",{className:"action"},React.createElement("div",{className:"action-button add",onClick:_this4.copy},React.createElement("span",{className:"glyphicon glyphicon-duplicate"}))),React.createElement("span",{className:"action-title"},React.createElement("input",{className:"form-control input-sm",type:"number",min:"1",max:"50",style:{width:50,display:"inline"},onChange:function onChange(e){setCurrent("multiplier",e.target.value)},value:_this4.props.multiplier}),"Copies"))}};var renderRemoveSpecimenButton=function renderRemoveSpecimenButton(){if(removeSpecimen){var glyphStyle={color:"#DDDDDD",marginLeft:10,cursor:"pointer",fontSize:15};return React.createElement("span",{className:"glyphicon glyphicon-remove",onClick:removeSpecimen,style:glyphStyle})}};var renderSpecimenTypes=function renderSpecimenTypes(){var specimenTypes=void 0;if(current.typeId){specimenTypes=Object.entries(options.specimen.types).reduce(function(result,_ref3){var _ref4=_slicedToArray(_ref3,2),id=_ref4[0],type=_ref4[1];if(id==current.typeId){result[id]=type}if(type.parentTypeIds){type.parentTypeIds.forEach(function(i){if(i==current.typeId){result[id]=type}})}return result},{})}else{specimenTypes=options.specimen.types}return mapFormOptions(specimenTypes,"label")};var containerTypesPrimary=mapFormOptions(options.container.typesPrimary,"label");var validContainers={};if(specimen.typeId&&options.specimen.typeContainerTypes[specimen.typeId]){Object.keys(containerTypesPrimary).forEach(function(id){options.specimen.typeContainerTypes[specimen.typeId].forEach(function(i){if(id==i){validContainers[id]=containerTypesPrimary[id]}})})}return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-11"},React.createElement("div",null,React.createElement(TextboxElement,{name:"barcode",label:"Barcode "+this.props.id,onUserInput:this.setContainer,required:true,value:specimen.container.barcode,errorMessage:(errors.container||{}).barcode}))),React.createElement("div",{className:"col-xs-1",style:{paddingLeft:0,marginTop:10}},React.createElement("span",{className:this.props.collapsed?"glyphicon glyphicon-chevron-down":"glyphicon glyphicon-chevron-up",style:{cursor:"pointer",fontSize:15,position:"relative",right:40},"data-toggle":"collapse","data-target":"#item-"+this.props.barcodeKey,onClick:function onClick(){_this4.props.toggleCollapse(_this4.props.barcodeKey)}}),renderRemoveSpecimenButton())),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-9 col-xs-offset-2"},React.createElement("div",{id:"item-"+this.props.barcodeKey,className:"collapse"},React.createElement(SelectElement,{name:"typeId",label:"Specimen Type",options:renderSpecimenTypes(),onUserInput:this.setSpecimen,required:true,value:(specimen||{}).typeId,errorMessage:(errors.specimen||{}).typeId}),React.createElement(SelectElement,{name:"typeId",label:"Container Type",options:specimen.typeId?validContainers:containerTypesPrimary,onUserInput:this.setContainer,required:true,value:specimen.container.typeId,errorMessage:(errors.container||{}).typeId}),React.createElement(_processForm2.default,{edit:true,errors:(errors.specimen||{}).process,mapFormOptions,options,process:specimen.collection,processStage:"collection",setParent:this.props.setCurrent,setSpecimen:this.setSpecimen,typeId:specimen.typeId}),React.createElement(_containerParentForm2.default,{display:false,data,setContainer:this.setContainer,mapFormOptions,container:specimen.container,options})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"}),React.createElement("div",{className:"col-xs-4 action"},renderAddSpecimenButton()),React.createElement("div",{className:"col-xs-5 action"},renderCopySpecimenButton()))))}}]);return SpecimenBarcodeForm}(React.Component);SpecimenBarcodeForm.propTypes={};SpecimenBarcodeForm.defaultProps={specimen:{}};exports.default=BiobankSpecimenForm},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _containerDisplay=__webpack_require__(29);var _containerDisplay2=_interopRequireDefault(_containerDisplay);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ContainerParentForm=function(_Component){_inherits(ContainerParentForm,_Component);function ContainerParentForm(){_classCallCheck(this,ContainerParentForm);var _this=_possibleConstructorReturn(this,(ContainerParentForm.__proto__||Object.getPrototypeOf(ContainerParentForm)).call(this));_this.setInheritedProperties=_this.setInheritedProperties.bind(_this);return _this}_createClass(ContainerParentForm,[{key:"setInheritedProperties",value:function setInheritedProperties(name,value){var _props=this.props,data=_props.data,setContainer=_props.setContainer;var container=data.containers.nonPrimary[value];setContainer(name,value);setContainer("coordinate",null);setContainer("temperature",container.temperature);setContainer("centerId",container.centerId);setContainer("statusId",container.statusId)}},{key:"removeChildContainers",value:function removeChildContainers(object,id){var data=this.props.data;delete object[id];for(var key in data.containers.nonPrimary){if(id==data.containers.nonPrimary[key].parentContainerId){object=this.removeChildContainers(object,key)}}return object}},{key:"render",value:function render(){var _props2=this.props,container=_props2.container,data=_props2.data,target=_props2.target,options=_props2.options,display=_props2.display;var _props3=this.props,mapFormOptions=_props3.mapFormOptions,setContainer=_props3.setContainer;var containerBarcodesNonPrimary=mapFormOptions(data.containers.nonPrimary,"barcode");if(target){containerBarcodesNonPrimary=this.removeChildContainers(containerBarcodesNonPrimary,target.container.id)}var renderContainerDisplay=function renderContainerDisplay(){if(!(container.parentContainerId&&display)){return}return _react2.default.createElement(_containerDisplay2.default,{target,data,dimensions:options.container.dimensions[data.containers.nonPrimary[container.parentContainerId].dimensionId],coordinates:options.container.coordinates[container.parentContainerId],options,select:true,selectedCoordinate:container.coordinate,setContainer})};return _react2.default.createElement(FormElement,null,_react2.default.createElement(SelectElement,{name:"parentContainerId",label:"Parent Container Barcode",options:containerBarcodesNonPrimary,onUserInput:this.setInheritedProperties,value:container.parentContainerId}),renderContainerDisplay())}}]);return ContainerParentForm}(_react.Component);ContainerParentForm.propTypes={mapFormOptions:_propTypes2.default.func.isRequired,setContainer:_propTypes2.default.func.isRequired,data:_propTypes2.default.object,target:_propTypes2.default.object,container:_propTypes2.default.object.isRequired,options:_propTypes2.default.object.isRequired};exports.default=ContainerParentForm},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _sweetalert=__webpack_require__(15);var _sweetalert2=_interopRequireDefault(_sweetalert);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ContainerDisplay=function(_React$Component){_inherits(ContainerDisplay,_React$Component);function ContainerDisplay(){_classCallCheck(this,ContainerDisplay);var _this=_possibleConstructorReturn(this,(ContainerDisplay.__proto__||Object.getPrototypeOf(ContainerDisplay)).call(this));_this.redirectURL=_this.redirectURL.bind(_this);_this.drag=_this.drag.bind(_this);_this.drop=_this.drop.bind(_this);_this.loadContainer=_this.loadContainer.bind(_this);_this.checkoutContainers=_this.checkoutContainers.bind(_this);return _this}_createClass(ContainerDisplay,[{key:"componentDidMount",value:function componentDidMount(){$('[data-toggle="tooltip"]').tooltip()}},{key:"componentDidUpdate",value:function componentDidUpdate(){$('[data-toggle="tooltip"]').tooltip()}},{key:"redirectURL",value:function redirectURL(e){var coordinate=e.target.id;if(this.props.coordinates[coordinate]){var barcode=this.props.data.containers.all[this.props.coordinates[coordinate]].barcode;this.props.history.push("/barcode="+barcode)}}},{key:"allowDrop",value:function allowDrop(e){e.preventDefault()}},{key:"drag",value:function drag(e){var container=JSON.stringify(this.props.data.containers.all[this.props.coordinates[e.target.id]]);e.dataTransfer.setData("text/plain",container)}},{key:"drop",value:function drop(e){e.preventDefault();var container=JSON.parse(e.dataTransfer.getData("text/plain"));var newCoordinate=parseInt(e.target.id);container.coordinate=newCoordinate;this.props.updateContainer(container)}},{key:"increaseCoordinate",value:function increaseCoordinate(coordinate){var capacity=this.props.dimensions.x*this.props.dimensions.y*this.props.dimensions.z;coordinate++;for(var c in this.props.coordinates){if(c==coordinate||coordinate>capacity){this.props.clearAll()}}this.props.setCurrent("coordinate",coordinate)}},{key:"loadContainer",value:function loadContainer(name,value){var _this2=this;if(!value){return}var containerId=value;var container=this.props.data.containers.all[containerId];container.parentContainerId=this.props.container.id;container.coordinate=this.props.current.coordinate;this.props.updateContainer(container,false).then(function(){if(_this2.props.current.sequential){var coordinate=_this2.props.current.coordinate;_this2.increaseCoordinate(coordinate);_this2.props.setCurrent("containerId",1).then(function(){return _this2.props.setCurrent("containerId",null)})}else{_this2.props.clearAll()}_this2.props.setCurrent("prevCoordinate",container.coordinate)})}},{key:"checkoutContainers",value:function checkoutContainers(){var _this3=this;var checkoutList=this.props.current.list;var checkoutPromises=Object.values(checkoutList).map(function(container){container.parentContainerId=null;container.coordinate=null;return _this3.props.updateContainer(container,false)});Promise.all(checkoutPromises).then(function(){return _this3.props.clearAll()}).then(function(){return(0,_sweetalert2.default)("Containers Successfully Checked Out!","","success")})}},{key:"render",value:function render(){var _this4=this;var barcodeField=void 0;if((this.props.editable||{}).loadContainer){barcodeField=React.createElement(SearchableDropdown,{name:"barcode",label:"Barcode",options:this.props.barcodes,onUserInput:this.loadContainer,value:this.props.current.containerId,placeHolder:"Please Scan or Select Barcode",autoFocus:true})}var load=React.createElement("div",{className:(this.props.editable||{}).loadContainer?"open":"closed"},React.createElement(FormElement,null,React.createElement(StaticElement,{label:"Note",text:"Select or Scan Containers to be Loaded. If Sequential is Checked, the Coordinate will Auto-Increment after each Load."}),React.createElement(CheckboxElement,{name:"sequential",label:"Sequential",value:this.props.current.sequential,onUserInput:this.props.setCurrent}),barcodeField,React.createElement(ButtonElement,{label:"Done",onUserInput:this.props.clearAll})));var children={};if(((this.props.target||{}).container||{}).childContainerIds){Object.values(this.props.data.containers.all).map(function(c){_this4.props.target.container.childContainerIds.forEach(function(id){if(c.id==id){children[id]=c}})})}if((this.props.editable||{}).containerCheckout){var barcodes=this.props.mapFormOptions(children,"barcode");barcodeField=React.createElement(SearchableDropdown,{name:"barcode",label:"Barcode",options:barcodes,onUserInput:function onUserInput(name,value){value&&_this4.props.setCheckoutList(children[value])},value:this.props.current.containerId,placeHolder:"Please Scan or Select Barcode",autoFocus:true})}var checkout=React.createElement("div",{className:(this.props.editable||{}).containerCheckout?"open":"closed"},React.createElement(FormElement,null,React.createElement(StaticElement,{label:"Note",text:"Click, Select or Scan Containers to be Unloaded and Press 'Confirm'"}),barcodeField,React.createElement(ButtonElement,{label:"Confirm",onUserInput:this.checkoutContainers}),React.createElement(StaticElement,{text:React.createElement("a",{onClick:this.props.clearAll,style:{cursor:"pointer"}},"Cancel")})));var display=void 0;var column=[];var row=[];var coordinate=1;var coordinates=this.props.coordinates;var dimensions=this.props.dimensions;if(dimensions){for(var y=1;y<=dimensions.y;y++){column=[];for(var x=1;x<=dimensions.x;x++){var nodeWidth=500/dimensions.x-500/dimensions.x*.08;var nodeStyle={width:nodeWidth};var nodeClass="node";var tooltipTitle=null;var title=null;var dataHtml="false";var dataToggle=null;var dataPlacement=null;var draggable="false";var onDragStart=null;var onDragOver=this.allowDrop;var onDrop=this.drop;var onClick=this.redirectURL;if(!this.props.select){if((coordinates||{})[coordinate]){if(!loris.userHasPermission("biobank_specimen_view")&&children[coordinates[coordinate]]===undefined){nodeClass="node forbidden";onClick=null}else{if(coordinate in this.props.current.list){nodeClass="node checkout"}else if(coordinate==this.props.current.prevCoordinate){nodeClass="node new"}else{nodeClass="node occupied"}dataHtml="true";dataToggle="tooltip";dataPlacement="top";if(children[coordinates[coordinate]]){tooltipTitle="<h5>"+children[coordinates[coordinate]].barcode+"</h5>"+"<h5>"+this.props.options.container.types[children[coordinates[coordinate]].typeId].label+"</h5>"+"<h5>"+this.props.options.container.stati[children[coordinates[coordinate]].statusId].label+"</h5>"}draggable=!loris.userHasPermission("biobank_container_update")||this.props.editable.loadContainer||this.props.editable.containerCheckout?"false":"true";onDragStart=this.drag;if(this.props.editable.containerCheckout){onClick=function onClick(e){var container=_this4.props.data.containers.all[coordinates[e.target.id]];_this4.props.setCheckoutList(container)}}if(this.props.editable.loadContainer){onClick=null}}onDragOver=null;onDrop=null}else if(loris.userHasPermission("biobank_container_update")&&!this.props.editable.containerCheckout){nodeClass=coordinate==this.props.current.coordinate?"node selected":"node load";title="Load...";onClick=function onClick(e){var containerId=e.target.id;_this4.props.edit("loadContainer").then(function(){return _this4.props.editContainer(_this4.props.target.container)}).then(function(){return _this4.props.setCurrent("coordinate",containerId)})}}}if(this.props.select){if(coordinate==this.props.selectedCoordinate){nodeClass="node occupied"}else if(!coordinates){nodeClass="node available";onClick=function onClick(e){return _this4.props.setContainer("coordinate",e.target.id)}}else if(coordinates){if(!coordinates[coordinate]){nodeClass="node available";onClick=function onClick(e){return _this4.props.setContainer("coordinate",e.target.id)}}else if(coordinates[coordinate]){dataHtml="true";dataToggle="tooltip";dataPlacement="top";tooltipTitle="<h5>test</h5>"+"<h5>test</h5>"+"<h5>test</h5>"}}}var coordinateDisplay=void 0;if(dimensions.xNum==1&&dimensions.yNum==1){coordinateDisplay=x+dimensions.x*(y-1)}else{var xVal=dimensions.xNum==1?x:String.fromCharCode(64+x);var yVal=dimensions.yNum==1?y:String.fromCharCode(64+y);coordinateDisplay=yVal+""+xVal}column.push(React.createElement("div",{id:coordinate,title,className:nodeClass,"data-html":dataHtml,"data-toggle":dataToggle,"data-placement":dataPlacement,"data-original-title":tooltipTitle,style:nodeStyle,onClick,draggable,onDragStart,onDragOver,onDrop},coordinateDisplay));coordinate++}var rowHeight=500/dimensions.y-500/dimensions.y*.08;var rowStyle={height:rowHeight};row.push(React.createElement("div",{className:"row",style:rowStyle},column))}display=row}return React.createElement("div",null,React.createElement("div",{style:{width:500}},checkout,load),React.createElement("div",{className:"display"},display))}}]);return ContainerDisplay}(React.Component);ContainerDisplay.propTypes={};ContainerDisplay.defaultProps={current:{}};exports.default=ContainerDisplay},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactRouterDom=__webpack_require__(18);var _Modal=__webpack_require__(16);var _Modal2=_interopRequireDefault(_Modal);var _containerParentForm=__webpack_require__(28);var _containerParentForm2=_interopRequireDefault(_containerParentForm);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Globals=function(_Component){_inherits(Globals,_Component);function Globals(){_classCallCheck(this,Globals);var _this=_possibleConstructorReturn(this,(Globals.__proto__||Object.getPrototypeOf(Globals)).call(this));_this.increaseCycle=_this.increaseCycle.bind(_this);_this.decreaseCycle=_this.decreaseCycle.bind(_this);return _this}_createClass(Globals,[{key:"increaseCycle",value:function increaseCycle(){var _this2=this;this.props.editSpecimen(this.props.target.specimen).then(function(){var cycle=_this2.props.specimen.fTCycle;cycle++;_this2.props.setSpecimen("fTCycle",cycle)}).then(function(){return _this2.props.updateSpecimen(_this2.props.specimen)})}},{key:"decreaseCycle",value:function decreaseCycle(){var _this3=this;this.props.editSpecimen(this.props.target.specimen).then(function(){var cycle=_this3.props.specimen.fTCycle;cycle--;_this3.props.setSpecimen("fTCycle",cycle)}).then(function(){return _this3.props.updateSpecimen(_this3.props.specimen)})}},{key:"render",value:function render(){var _this4=this;var _props=this.props,container=_props.container,data=_props.data,editable=_props.editable,options=_props.options,specimen=_props.specimen,target=_props.target;var specimenTypeField=function specimenTypeField(){if(target.specimen){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Specimen Type",_react2.default.createElement("div",{className:"value"},options.specimen.types[target.specimen.typeId].label)))}};var containerTypeField=function containerTypeField(){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Container Type",_react2.default.createElement("div",{className:"value"},options.container.types[target.container.typeId].label)))};var poolField=function poolField(){if((target.specimen||{}).poolId){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Pool",_react2.default.createElement("div",{className:"value"},data.pools[target.specimen.poolId].label)))}};var updateQuantity=function updateQuantity(){if(loris.userHasPermission("biobank_specimen_update")){return _react2.default.createElement("div",{className:"action",title:"Update Quantity"},_react2.default.createElement("div",{className:"action-button update",onClick:function onClick(){_this4.props.edit("quantity");_this4.props.editSpecimen(target.specimen)}},_react2.default.createElement("span",{className:"glyphicon glyphicon-chevron-right"})))}};var quantityField=function quantityField(){if(target.specimen){if(!editable.quantity){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Quantity",_react2.default.createElement("div",{className:"value"},target.specimen.quantity," "+options.specimen.units[target.specimen.unitId].label)),updateQuantity())}else{var units=_this4.props.mapFormOptions(options.specimen.typeUnits[target.specimen.typeId],"label");return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Quantity",_react2.default.createElement(QuantityField,{specimen,errors:_this4.props.errors.specimen,units,clearAll:_this4.props.clearAll,setSpecimen:_this4.props.setSpecimen,updateSpecimen:function updateSpecimen(){return _this4.props.updateSpecimen(specimen)}})))}}};var fTCycleField=function fTCycleField(){if(target.specimen&&options.specimen.types[target.specimen.typeId].freezeThaw==1){var decreaseCycle=function decreaseCycle(){if(target.specimen.fTCycle>0){return _react2.default.createElement("div",{className:"action",title:"Remove Cycle"},_react2.default.createElement("span",{className:"action-button update",onClick:_this4.decreaseCycle},_react2.default.createElement("span",{className:"glyphicon glyphicon-minus"})))}};var increaseCycle=function increaseCycle(){return _react2.default.createElement("div",{className:"action",title:"Add Cycle"},_react2.default.createElement("span",{className:"action-button update",onClick:_this4.increaseCycle},_react2.default.createElement("span",{className:"glyphicon glyphicon-plus"})))};var updateFTCycle=function updateFTCycle(){if(loris.userHasPermission("biobank_specimen_update")){return _react2.default.createElement("div",null,decreaseCycle()," ",increaseCycle())}};return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Freeze-Thaw Cycle",_react2.default.createElement("div",{className:"value"},target.specimen.fTCycle)),updateFTCycle())}};var updateTemperature=function updateTemperature(){if(loris.userHasPermission("biobank_container_update")){return _react2.default.createElement("div",{className:"action",title:"Update Temperature"},_react2.default.createElement("span",{className:"action-button update",onClick:function onClick(){_this4.props.edit("temperature").then(function(){return _this4.props.editContainer(target.container)})}},_react2.default.createElement("span",{className:"glyphicon glyphicon-chevron-right"})))}};var temperatureField=function temperatureField(){if(!editable.temperature){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Temperature",_react2.default.createElement("div",{className:"value"},target.container.temperature+"°C")),updateTemperature())}else{return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Temperature",_react2.default.createElement(TemperatureField,{container,errors:_this4.props.errors.container,clearAll:_this4.props.clearAll,setContainer:_this4.props.setContainer,updateContainer:_this4.props.updateContainer})))}};var updateStatus=function updateStatus(){if(loris.userHasPermission("biobank_container_update")){return _react2.default.createElement("div",{className:"action",title:"Update Status"},_react2.default.createElement("span",{className:"action-button update",onClick:function onClick(){_this4.props.edit("status");_this4.props.editContainer(target.container)}},_react2.default.createElement("span",{className:"glyphicon glyphicon-chevron-right"})))}};var statusField=function statusField(){if(!editable.status){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Status",_react2.default.createElement("div",{className:"value"},options.container.stati[target.container.statusId].label)),updateStatus())}else{var stati=_this4.props.mapFormOptions(options.container.stati,"label");return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Status",_react2.default.createElement(StatusField,{container,errors:_this4.props.errors.container,stati,clearAll:_this4.props.clearAll,setContainer:_this4.props.setContainer,updateContainer:_this4.props.updateContainer})))}};var updateCenter=function updateCenter(){if(loris.userHasPermission("biobank_container_update")){return _react2.default.createElement("div",{className:"action",title:"Update Status"},_react2.default.createElement("span",{className:"action-button update",onClick:function onClick(){_this4.props.edit("center");_this4.props.editContainer(target.container)}},_react2.default.createElement("span",{className:"glyphicon glyphicon-chevron-right"})))}};var centerField=function centerField(){if(!editable.center){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Current Site",_react2.default.createElement("div",{className:"value"},options.centers[target.container.centerId])),updateCenter())}else{return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Current Site",_react2.default.createElement(CenterField,{container,errors:_this4.props.errors.container,centers:options.centers,clearAll:_this4.props.clearAll,setContainer:_this4.props.setContainer,updateContainer:_this4.props.updateContainer})))}};var originField=function originField(){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Origin Site",_react2.default.createElement("div",{className:"value"},options.centers[target.container.originId])))};var parentSpecimenField=function parentSpecimenField(){if((target.specimen||{}).parentSpecimenIds){var parentSpecimenBarcodes=Object.values(target.specimen.parentSpecimenIds).map(function(id){var barcode=data.containers.primary[data.specimens[id].containerId].barcode;return _react2.default.createElement(_reactRouterDom.Link,{to:"/barcode="+barcode},barcode)}).reduce(function(prev,curr){return[prev,", ",curr]});return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Parent Specimen",_react2.default.createElement("div",{className:"value"},parentSpecimenBarcodes||"None")))}};var parentContainerField=function parentContainerField(){if(loris.userHasPermission("biobank_container_view")){var parentContainerBarcodeValue=function parentContainerBarcodeValue(){if(target.container.parentContainerId){var barcode=data.containers.nonPrimary[target.container.parentContainerId].barcode;return _react2.default.createElement(_reactRouterDom.Link,{to:"/barcode="+barcode},barcode)}};var updateParentContainer=function updateParentContainer(){if(loris.userHasPermission("biobank_container_update")){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"action",title:"Move Container"},_react2.default.createElement("span",{className:"action-button update",onClick:function onClick(){_this4.props.edit("containerParentForm");_this4.props.editContainer(target.container)}},_react2.default.createElement("span",{className:"glyphicon glyphicon-chevron-right"}))),_react2.default.createElement("div",null,_react2.default.createElement(_Modal2.default,{title:"Update Parent Container",onClose:_this4.props.clearAll,show:editable.containerParentForm,onSubmit:function onSubmit(){return _this4.props.updateContainer(container)}},_react2.default.createElement(_containerParentForm2.default,{display:true,target,container:_this4.props.container,options,data,mapFormOptions:_this4.props.mapFormOptions,setContainer:_this4.props.setContainer,updateContainer:_this4.props.updateContainer}))))}};var coordinate=void 0;if(target.container.coordinate){var parentContainer=data.containers.all[target.container.parentContainerId];var dimensions=options.container.dimensions[parentContainer.dimensionId];var j=1;outerloop:for(var y=1;y<=dimensions.y;y++){innerloop:for(var x=1;x<=dimensions.x;x++){if(j==target.container.coordinate){if(dimensions.xNum==1&&dimensions.yNum==1){coordinate=x+dimensions.x*(y-1)}else{var xVal=dimensions.xNum==1?x:String.fromCharCode(64+x);var yVal=dimensions.yNum==1?y:String.fromCharCode(64+y);coordinate=yVal+""+xVal}break outerloop}j++}}}return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"Parent Container",_react2.default.createElement("div",{className:"value"},parentContainerBarcodeValue()||"None"),parentContainerBarcodeValue&&target.container.coordinate?"Coordinate "+coordinate:null),updateParentContainer())}};var candidateSessionField=function candidateSessionField(){if(target.specimen){return _react2.default.createElement("div",{className:"item"},_react2.default.createElement("div",{className:"field"},"PSCID",_react2.default.createElement("div",{className:"value"},_react2.default.createElement("a",{href:loris.BaseURL+"/"+target.specimen.candidateId},options.candidates[target.specimen.candidateId].pscid))),_react2.default.createElement("div",{className:"field"},"Visit Label",_react2.default.createElement("div",{className:"value"},_react2.default.createElement("a",{href:loris.BaseURL+"/instrument_list/?candID="+target.specimen.candidateId+"&sessionID="+target.specimen.sessionId},options.sessions[target.specimen.sessionId].label))))}};var fieldList=_react2.default.createElement("div",{className:"list"},specimenTypeField(),containerTypeField(),poolField(),quantityField(),fTCycleField(),temperatureField(),statusField(),centerField(),originField(),parentSpecimenField(),parentContainerField(),candidateSessionField());return _react2.default.createElement("div",{className:"globals"},fieldList)}}]);return Globals}(_react.Component);Globals.propTypes={};var StatusField=function(_Component2){_inherits(StatusField,_Component2);function StatusField(){_classCallCheck(this,StatusField);return _possibleConstructorReturn(this,(StatusField.__proto__||Object.getPrototypeOf(StatusField)).apply(this,arguments))}_createClass(StatusField,[{key:"render",value:function render(){var _this6=this;return _react2.default.createElement("div",{className:"inline-field"},_react2.default.createElement("div",{style:{flex:"1 0 25%",minWidth:"90px"}},_react2.default.createElement(SelectElement,{name:"statusId",options:this.props.stati,inputClass:"col-lg-11",onUserInput:this.props.setContainer,value:this.props.container.statusId,errorMessage:this.props.errors.statusId})),_react2.default.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},_react2.default.createElement(ButtonElement,{label:"Update",onUserInput:function onUserInput(){return _this6.props.updateContainer(_this6.props.container)},columnSize:"col-lg-11"})),_react2.default.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},_react2.default.createElement("a",{onClick:this.props.clearAll,style:{cursor:"pointer"}},"Cancel")))}}]);return StatusField}(_react.Component);StatusField.propTypes={setContainer:_propTypes2.default.func.isRequired,clearAll:_propTypes2.default.func,stati:_propTypes2.default.object.isRequired,container:_propTypes2.default.object.isRequired,updateContainer:_propTypes2.default.func.isRequired,className:_propTypes2.default.string};var TemperatureField=function(_Component3){_inherits(TemperatureField,_Component3);function TemperatureField(){_classCallCheck(this,TemperatureField);return _possibleConstructorReturn(this,(TemperatureField.__proto__||Object.getPrototypeOf(TemperatureField)).apply(this,arguments))}_createClass(TemperatureField,[{key:"render",value:function render(){var _this8=this;return _react2.default.createElement("div",{className:"inline-field"},_react2.default.createElement("div",{style:{flex:"1 0 25%",minWidth:"90px"}},_react2.default.createElement(TextboxElement,{name:"temperature",inputClass:"col-lg-11",onUserInput:this.props.setContainer,value:this.props.container.temperature,errorMessage:this.props.errors.temperature})),_react2.default.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},_react2.default.createElement(ButtonElement,{label:"Update",onUserInput:function onUserInput(){return _this8.props.updateContainer(_this8.props.container)},columnSize:"col-lg-11"})),_react2.default.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},_react2.default.createElement("a",{onClick:this.props.clearAll,style:{cursor:"pointer"}},"Cancel")))}}]);return TemperatureField}(_react.Component);TemperatureField.propTypes={setContainer:_propTypes2.default.func.isRequired,clearAll:_propTypes2.default.func,container:_propTypes2.default.object.isRequired,updateContainer:_propTypes2.default.func.isRequired,className:_propTypes2.default.string};var CenterField=function(_Component4){_inherits(CenterField,_Component4);function CenterField(){_classCallCheck(this,CenterField);return _possibleConstructorReturn(this,(CenterField.__proto__||Object.getPrototypeOf(CenterField)).apply(this,arguments))}_createClass(CenterField,[{key:"render",value:function render(){var _this10=this;return _react2.default.createElement("div",{className:"inline-field"},_react2.default.createElement("div",{style:{flex:"1 0 25%",minWidth:"90px"}},_react2.default.createElement(SelectElement,{name:"centerId",options:this.props.centers,inputClass:"col-lg-11",onUserInput:this.props.setContainer,value:this.props.container.centerId,errorMessage:this.props.errors.centerId})),_react2.default.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},_react2.default.createElement(ButtonElement,{label:"Update",onUserInput:function onUserInput(){return _this10.props.updateContainer(_this10.props.container)},columnSize:"col-lg-11"})),_react2.default.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},_react2.default.createElement("a",{onClick:this.props.clearAll,style:{cursor:"pointer"}},"Cancel")))}}]);return CenterField}(_react.Component);CenterField.propTypes={setContainer:_propTypes2.default.func.isRequired,clearAll:_propTypes2.default.func.isRequired,centerIds:_propTypes2.default.object.isRequired,container:_propTypes2.default.object.isRequired,updateContainer:_propTypes2.default.func.isRequired,className:_propTypes2.default.string};var QuantityField=function(_Component5){_inherits(QuantityField,_Component5);function QuantityField(){_classCallCheck(this,QuantityField);return _possibleConstructorReturn(this,(QuantityField.__proto__||Object.getPrototypeOf(QuantityField)).apply(this,arguments))}_createClass(QuantityField,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"inline-field"},_react2.default.createElement("div",{style:{flex:"1 0 25%",minWidth:"90px"}},_react2.default.createElement(TextboxElement,{name:"quantity",inputClass:"col-xs-11",onUserInput:this.props.setSpecimen,value:this.props.specimen.quantity,errorMessage:this.props.errors.quantity})),_react2.default.createElement("div",{style:{flex:"1 0 25%",minWidth:"90px"}},_react2.default.createElement(SelectElement,{name:"unitId",inputClass:"col-xs-11",options:this.props.units,onUserInput:this.props.setSpecimen,value:this.props.specimen.unitId,errorMessage:this.props.errors.unitId})),_react2.default.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},_react2.default.createElement(ButtonElement,{label:"Update",onUserInput:this.props.updateSpecimen,columnSize:"col-xs-11"})),_react2.default.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},_react2.default.createElement("a",{onClick:this.props.clearAll,style:{cursor:"pointer"}},"Cancel")))}}]);return QuantityField}(_react.Component);QuantityField.propTypes={setSpecimen:_propTypes2.default.func,clearAll:_propTypes2.default.func,specimen:_propTypes2.default.object,updateSpecimen:_propTypes2.default.func,className:_propTypes2.default.string};exports.default=Globals},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ContainerCheckout=function(_Component){_inherits(ContainerCheckout,_Component);function ContainerCheckout(){_classCallCheck(this,ContainerCheckout);var _this=_possibleConstructorReturn(this,(ContainerCheckout.__proto__||Object.getPrototypeOf(ContainerCheckout)).call(this));_this.checkoutContainer=_this.checkoutContainer.bind(_this);return _this}_createClass(ContainerCheckout,[{key:"checkoutContainer",value:function checkoutContainer(){var _this2=this;this.props.editContainer(this.props.container).then(function(){return _this2.props.setContainer("parentContainerId",null)}).then(function(){return _this2.props.setContainer("coordinate",null)}).then(function(){return _this2.props.updateContainer(_this2.props.current.container)})}},{key:"render",value:function render(){var checkoutButton=void 0;if(loris.userHasPermission("biobank_container_update")&&this.props.container.parentContainerId){checkoutButton=_react2.default.createElement("div",{className:"action-button update",title:"Checkout Container",onClick:this.checkoutContainer},_react2.default.createElement("span",{className:"glyphicon glyphicon-share"}))}return _react2.default.createElement("div",null,checkoutButton)}}]);return ContainerCheckout}(_react.Component);ContainerCheckout.propTypes={setContainer:_propTypes2.default.func.isRequired,updateContainer:_propTypes2.default.func.isRequired};exports.default=ContainerCheckout},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _implementation=__webpack_require__(57);var _implementation2=_interopRequireDefault(_implementation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createContext||_implementation2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var ReactIs=__webpack_require__(26);var REACT_STATICS={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var KNOWN_STATICS={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var FORWARD_REF_STATICS={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var MEMO_STATICS={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var TYPE_STATICS={};TYPE_STATICS[ReactIs.ForwardRef]=FORWARD_REF_STATICS;function getStatics(component){if(ReactIs.isMemo(component)){return MEMO_STATICS}return TYPE_STATICS[component["$$typeof"]]||REACT_STATICS}var defineProperty=Object.defineProperty;var getOwnPropertyNames=Object.getOwnPropertyNames;var getOwnPropertySymbols=Object.getOwnPropertySymbols;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var getPrototypeOf=Object.getPrototypeOf;var objectPrototype=Object.prototype;function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if(typeof sourceComponent!=="string"){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);if(inheritedComponent&&inheritedComponent!==objectPrototype){hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}}var keys=getOwnPropertyNames(sourceComponent);if(getOwnPropertySymbols){keys=keys.concat(getOwnPropertySymbols(sourceComponent))}var targetStatics=getStatics(targetComponent);var sourceStatics=getStatics(sourceComponent);for(var i=0;i<keys.length;++i){var key=keys[i];if(!KNOWN_STATICS[key]&&!(blacklist&&blacklist[key])&&!(sourceStatics&&sourceStatics[key])&&!(targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}return targetComponent}return targetComponent}module.exports=hoistNonReactStatics},,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _reactRouterDom=__webpack_require__(18);var _sweetalert=__webpack_require__(15);var _sweetalert2=_interopRequireDefault(_sweetalert);var _Loader=__webpack_require__(5);var _Loader2=_interopRequireDefault(_Loader);var _filter=__webpack_require__(62);var _filter2=_interopRequireDefault(_filter);var _specimen=__webpack_require__(67);var _specimen2=_interopRequireDefault(_specimen);var _container=__webpack_require__(69);var _container2=_interopRequireDefault(_container);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var defaultState=function defaultState(){return{current:{files:{},list:{},collapsed:{},coordinate:null,sequential:false,candidateId:null,centerId:null,originId:null,sessionId:null,typeId:null,count:null,multiplier:1,specimen:{},container:{},pool:{},poolId:null,preparation:{}},errors:{container:{},specimen:{},pool:{},list:{},preparation:{}},editable:{specimenForm:false,containerForm:false,aliquotForm:false,containerParentForm:false,loadContainer:false,containerCheckout:false,temperature:false,quantity:false,status:false,center:false,collection:false,preparation:false,analysis:false,batchPreparationForm:false,poolSpecimenForm:false,searchSpecimen:false,searchContainer:false}}};var BiobankIndex=function(_React$Component){_inherits(BiobankIndex,_React$Component);function BiobankIndex(){_classCallCheck(this,BiobankIndex);var _this=_possibleConstructorReturn(this,(BiobankIndex.__proto__||Object.getPrototypeOf(BiobankIndex)).call(this));_this.state=_extends({isLoaded:false,options:{specimen:{},container:{}},data:{specimens:{},containers:{},pools:{}}},defaultState());_this.fetch=_this.fetch.bind(_this);_this.loadAllData=_this.loadAllData.bind(_this);_this.loadData=_this.loadData.bind(_this);_this.groupContainers=_this.groupContainers.bind(_this);_this.loadOptions=_this.loadOptions.bind(_this);_this.routeBarcode=_this.routeBarcode.bind(_this);_this.clone=_this.clone.bind(_this);_this.mapFormOptions=_this.mapFormOptions.bind(_this);_this.toggleCollapse=_this.toggleCollapse.bind(_this);_this.edit=_this.edit.bind(_this);_this.editSpecimen=_this.editSpecimen.bind(_this);_this.editContainer=_this.editContainer.bind(_this);_this.clearAll=_this.clearAll.bind(_this);_this.setCurrent=_this.setCurrent.bind(_this);_this.setErrors=_this.setErrors.bind(_this);_this.setListItem=_this.setListItem.bind(_this);_this.setPoolList=_this.setPoolList.bind(_this);_this.setCheckoutList=_this.setCheckoutList.bind(_this);_this.addListItem=_this.addListItem.bind(_this);_this.copyListItem=_this.copyListItem.bind(_this);_this.removeListItem=_this.removeListItem.bind(_this);_this.createSpecimens=_this.createSpecimens.bind(_this);_this.setSpecimen=_this.setSpecimen.bind(_this);_this.setContainer=_this.setContainer.bind(_this);_this.setPool=_this.setPool.bind(_this);_this.updateSpecimen=_this.updateSpecimen.bind(_this);_this.updateContainer=_this.updateContainer.bind(_this);_this.createPool=_this.createPool.bind(_this);_this.saveBatchPreparation=_this.saveBatchPreparation.bind(_this);_this.createContainers=_this.createContainers.bind(_this);_this.validateSpecimen=_this.validateSpecimen.bind(_this);_this.validateProcess=_this.validateProcess.bind(_this);_this.validateContainer=_this.validateContainer.bind(_this);_this.post=_this.post.bind(_this);return _this}_createClass(BiobankIndex,[{key:"componentDidMount",value:function componentDidMount(){this.loadAllData()}},{key:"loadAllData",value:function loadAllData(){var _this2=this;this.loadOptions().then(function(){return _this2.loadData(_this2.props.containerAPI,"containers")}).then(function(){return _this2.loadData(_this2.props.poolAPI,"pools")}).then(function(){return _this2.loadData(_this2.props.specimenAPI,"specimens")}).then(function(){return _this2.setState({isLoaded:true})})}},{key:"loadData",value:function loadData(url,state){var _this3=this;return new Promise(function(resolve){_this3.fetch(url,"GET").then(function(dataList){var data=_this3.state.data;data[state]=state==="containers"?_this3.groupContainers(dataList):dataList;_this3.setState({data},resolve())})})}},{key:"groupContainers",value:function groupContainers(dataList){var _this4=this;var data=Object.keys(dataList).reduce(function(result,id){if(_this4.state.options.container.types[dataList[id].typeId].primary==="1"){result.primary[id]=dataList[id]}else{result.nonPrimary[id]=dataList[id]}return result},{primary:{},nonPrimary:{}});data.all=dataList;return data}},{key:"loadOptions",value:function loadOptions(){var _this5=this;return new Promise(function(resolve){_this5.fetch(_this5.props.optionsAPI,"GET").then(function(options){return _this5.setState({options},resolve())})})}},{key:"fetch",value:function(_fetch){function fetch(_x,_x2){return _fetch.apply(this,arguments)}fetch.toString=function(){return _fetch.toString()};return fetch}(function(url,method){return fetch(url,{credentials:"same-origin",method}).then(function(resp){return resp.json()}).catch(function(error,errorCode,errorMsg){return console.error(error,errorCode,errorMsg)})})},{key:"clone",value:function clone(object){return JSON.parse(JSON.stringify(object))}},{key:"routeBarcode",value:function routeBarcode(barcode){var container=Object.values(this.state.data.containers.all).find(function(container){return container.barcode==barcode});var specimen=Object.values(this.state.data.specimens).find(function(specimen){return specimen.containerId==container.id});return{container,specimen}}},{key:"mapFormOptions",value:function mapFormOptions(object,attribute){return Object.keys(object).reduce(function(result,id){result[id]=object[id][attribute];return result},{})}},{key:"edit",value:function edit(stateKey){var _this6=this;return new Promise(function(resolve){_this6.clearEditable().then(function(){var editable=_this6.clone(_this6.state.editable);editable[stateKey]=true;_this6.setState({editable},resolve())})})}},{key:"clearEditable",value:function clearEditable(){var _this7=this;var state=this.clone(this.state);state.editable=defaultState().editable;return new Promise(function(res){return _this7.setState(state,res())})}},{key:"clearAll",value:function clearAll(){var _this8=this;var state=Object.assign(this.clone(this.state),defaultState());return new Promise(function(res){return _this8.setState(state,res())})}},{key:"toggleCollapse",value:function toggleCollapse(key){var collapsed=this.state.current.collapsed;collapsed[key]=!collapsed[key];this.setCurrent("collapsed",collapsed)}},{key:"setListItem",value:function setListItem(name,value,key){var list=this.state.current.list;list[key][name]=value;this.setCurrent("list",list)}},{key:"setCheckoutList",value:function setCheckoutList(container){var _this9=this;this.setCurrent("containerId",1).then(function(){return _this9.setCurrent("containerId",null)});var list=this.state.current.list;list[container.coordinate]=container;this.setCurrent("list",list)}},{key:"setPoolList",value:function setPoolList(containerId){var _this10=this;console.warn(containerId);this.setCurrent("containerId",containerId);var list=this.clone(this.state.current.list);var specimenIds=this.state.current.pool.specimenIds||[];var container=this.clone(this.state.data.containers.primary[containerId]);var specimen=Object.values(this.state.data.specimens).find(function(specimen){return specimen.containerId==containerId});var dispensedId=Object.keys(this.state.options.container.stati).find(function(key){return _this10.state.options.container.stati[key].label==="Dispensed"});var count=this.state.current.count;if(count==null){count=0}else{count++}container.statusId=dispensedId;specimen.quantity="0";list[count]={container,specimen};specimenIds.push(specimen.id);this.setCurrent("count",count);this.setCurrent("list",list);this.setCurrent("candidateId",specimen.candidateId);this.setCurrent("sessionId",specimen.sessionId);this.setCurrent("typeId",specimen.typeId);this.setCurrent("centerId",container.centerId);this.setPool("centerId",container.centerId);this.setPool("specimenIds",specimenIds)}},{key:"editSpecimen",value:function editSpecimen(specimen){var _this11=this;return new Promise(function(resolve){specimen=_this11.clone(specimen);_this11.setCurrent("specimen",specimen).then(function(){return resolve()})})}},{key:"editContainer",value:function editContainer(container){var _this12=this;return new Promise(function(resolve){container=_this12.clone(container);_this12.setCurrent("container",container).then(function(){return resolve()})})}},{key:"setCurrent",value:function setCurrent(name,value){var _this13=this;return new Promise(function(resolve){var current=_this13.state.current;current[name]=value;_this13.setState({current},resolve())})}},{key:"setErrors",value:function setErrors(name,value){var errors=this.state.errors;errors[name]=value;this.setState({errors})}},{key:"addListItem",value:function addListItem(item){var current=this.state.current;current.count++;current.collapsed[current.count]=true;switch(item){case"specimen":current.list[current.count]={collection:{},container:{}};break;case"container":current.list[current.count]={};break}this.setState({current})}},{key:"copyListItem",value:function copyListItem(key){var current=this.clone(this.state.current);for(var i=1;i<=current.multiplier;i++){current.count++;current.list[current.count]=this.clone(current.list[key]);current.list[current.count].container.barcode&&delete current.list[current.count].container.barcode;current.collapsed[current.count]=true}this.setState({current})}},{key:"removeListItem",value:function removeListItem(key){var current=this.state.current;delete current.list[key];this.setState({current})}},{key:"setSpecimen",value:function setSpecimen(name,value){var _this14=this;return new Promise(function(resolve){var specimen=_this14.state.current.specimen;specimen[name]=value;_this14.setCurrent("specimen",specimen).then(function(){return resolve()})})}},{key:"setContainer",value:function setContainer(name,value){var _this15=this;return new Promise(function(resolve){var container=_this15.state.current.container;value?container[name]=value:delete container[name];_this15.setCurrent("container",container).then(function(){return resolve()})})}},{key:"setPool",value:function setPool(name,value){var _this16=this;return new Promise(function(resolve){var pool=_this16.state.current.pool;pool[name]=value;_this16.setCurrent("pool",pool).then(function(){return resolve()})})}},{key:"updateSpecimen",value:function updateSpecimen(specimen){var _this17=this;var closeOnSuccess=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var onSuccess=function onSuccess(){closeOnSuccess&&_this17.clearAll().then(function(){return(0,_sweetalert2.default)("Container Save Successful","","success")})};this.validateSpecimen(specimen).then(function(){return _this17.post(specimen,_this17.props.specimenAPI,"PUT",onSuccess)})}},{key:"updateContainer",value:function updateContainer(container){var _this18=this;var closeOnSuccess=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var onSuccess=function onSuccess(){closeOnSuccess&&_this18.clearAll().then(function(){return(0,_sweetalert2.default)("Container Save Successful","","success")})};return new Promise(function(resolve){_this18.validateContainer(container).then(function(){return _this18.post(container,_this18.props.containerAPI,"PUT",onSuccess)}).then(function(){return resolve()})})}},{key:"createSpecimens",value:function createSpecimens(){var _this19=this;return new Promise(function(resolve){var listValidation=[];var list=_this19.clone(_this19.state.current.list);var centerId=_this19.state.current.centerId;var availableId=Object.keys(_this19.state.options.container.stati).find(function(key){return _this19.state.options.container.stati[key].label==="Available"});Object.keys(list).forEach(function(key){var specimen=list[key];specimen.candidateId=_this19.state.current.candidateId;specimen.sessionId=_this19.state.current.sessionId;specimen.quantity=specimen.collection.quantity;specimen.unitId=specimen.collection.unitId;specimen.collection.centerId=centerId;if((_this19.state.options.specimen.types[specimen.typeId]||{}).freezeThaw==1){specimen.fTCycle=0}specimen.parentSpecimenIds=_this19.state.current.parentSpecimenIds||null;var container=specimen.container;container.statusId=availableId;container.temperature=20;container.centerId=centerId;container.originId=centerId;specimen.container=container;list[key]=specimen;listValidation.push(_this19.validateContainer(container,key));listValidation.push(_this19.validateSpecimen(specimen,key))});var onSuccess=function onSuccess(){return(0,_sweetalert2.default)("Save Successful","","success")};Promise.all(listValidation).then(function(){return _this19.post(list,_this19.props.specimenAPI,"POST",onSuccess)}).then(function(){return _this19.clearAll()}).then(function(){return resolve()}).catch(function(e){return console.error(e)})})}},{key:"createContainers",value:function createContainers(){var _this20=this;return new Promise(function(resolve,reject){var listValidation=[];var list=_this20.state.current.list;var availableId=Object.keys(_this20.state.options.container.stati).find(function(key){return _this20.state.options.container.stati[key].label==="Available"});Object.entries(list).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],container=_ref2[1];container.statusId=availableId;container.temperature=20;container.originId=_this20.state.current.centerId;container.centerId=_this20.state.current.centerId;listValidation.push(_this20.validateContainer(container,key))});var onSuccess=function onSuccess(){return(0,_sweetalert2.default)("Container Creation Successful","","success")};Promise.all(listValidation).then(function(){return _this20.post(list,_this20.props.containerAPI,"POST",onSuccess)}).then(function(){return _this20.clearAll()}).then(function(){return resolve()}).catch(function(){return reject()})})}},{key:"createPool",value:function createPool(){var _this21=this;var pool=this.clone(this.state.current.pool);var onSuccess=function onSuccess(){return(0,_sweetalert2.default)("Pooling Successful!","","success")};var update=Object.values(this.state.current.list).reduce(function(result,item){return[].concat(_toConsumableArray(result),[_this21.updateContainer(item.container,false),_this21.updateSpecimen(item.specimen,false)])},[]);return new Promise(function(resolve,reject){_this21.validatePool(pool).then(function(){return _this21.post(pool,_this21.props.poolAPI,"POST",onSuccess)}).then(function(){return Promise.all(update)}).then(function(){return _this21.clearAll()}).then(function(){return resolve()}).catch(function(e){return reject()})})}},{key:"saveBatchPreparation",value:function saveBatchPreparation(){var _this22=this;return new Promise(function(resolve){var list=_this22.clone(_this22.state.current.list);var preparation=_this22.clone(_this22.state.current.preparation);preparation.centerId=_this22.state.current.centerId;var saveList=Object.values(list).map(function(item){var specimen=_this22.clone(item.specimen);specimen.preparation=preparation;return function(){return _this22.post(specimen,_this22.props.specimenAPI,"PUT")}});var attributes=_this22.state.options.specimen.protocolAttributes[preparation.protocolId];var validateParams=[preparation,attributes,["protocolId","centerId","date","time"]];_this22.validateProcess.apply(_this22,validateParams).then(function(){return _this22.validateBatchPreparation(list)}).then(function(){return Promise.all(saveList.map(function(item){return item()}))}).then(function(){return _this22.clearAll()}).then(function(){return(0,_sweetalert2.default)("Batch Preparation Successful!","","success")}).then(function(){return resolve()}).catch(function(e){return _this22.setErrors("preparation",e)})})}},{key:"post",value:function post(data,url,method,onSuccess){var _this23=this;return new Promise(function(resolve,reject){return fetch(url,{credentials:"same-origin",method,body:JSON.stringify(_this23.clone(data))}).then(function(response){if(response.ok){_this23.loadAllData();onSuccess instanceof Function&&onSuccess();resolve()}else{response.json().then(function(data){return(0,_sweetalert2.default)(data.error,"","error")}).then(function(){return reject()})}}).catch(function(error){return console.error(error)})})}},{key:"validateSpecimen",value:function validateSpecimen(specimen,key){var _this24=this;return new Promise(function(resolve,reject){var errors=_this24.clone(_this24.state.errors);errors.specimen={};var required=["typeId","quantity","unitId","candidateId","sessionId","collection"];var float=["quantity"];required.map(function(field){if(specimen[field]==null){errors.specimen[field]="This field is required! "}});float.map(function(field){if(isNaN(specimen[field])){errors.specimen[field]="This field must be a number! "}});if(specimen.quantity<0){errors.specimen.quantity="This field must be greater than 0"}var validateProcess=[_this24.validateProcess(specimen.collection,_this24.state.options.specimen.protocolAttributes[specimen.collection.protocolId],["protocolId","quantity","unitId","centerId","date","time"],["quantity"])];if(specimen.preparation){validateProcess.push(_this24.validateProcess(specimen.preparation,_this24.state.options.specimen.protocolAttributes[specimen.preparation.protocolId],["protocolId","centerId","date","time"]))}if(specimen.analysis){validateProcess.push(_this24.validateProcess(specimen.analysis,_this24.state.options.specimen.protocolAttributes[specimen.analysis.protocolId],["protocolId","centerId","date","time"]))}Promise.all(validateProcess).catch(function(e){return errors.specimen.process=e}).then(function(){if(key){errors.list[key]=errors.list[key]||{};errors.list[key].specimen=errors.specimen}if(_this24.isEmpty(errors.specimen)){_this24.setState({errors},resolve())}else{_this24.setState({errors},reject(errors))}})})}},{key:"isEmpty",value:function isEmpty(obj){for(var key in obj){if(obj.hasOwnProperty(key)){return false}}return true}},{key:"validateProcess",value:function validateProcess(process,attributes,required,number){var _this25=this;return new Promise(function(resolve,reject){var errors={};var regex=void 0;required&&required.map(function(field){if(process[field]==null){errors[field]="This field is required! "}});number&&number.map(function(field){if(isNaN(process[field])){errors[field]="This field must be a number! "}});regex=/^[12]\d{3}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/;if(regex.test(process.date)===false){errors.date="This field must be a valid date! "}regex=/^([01]\d|2[0-3]):([0-5]\d)$/;if(regex.test(process.time)===false){errors.time="This field must be a valid time! "}if(process.data){errors.data={};var datatypes=_this25.state.options.specimen.attributeDatatypes;Object.keys(process.data).forEach(function(attributeId){if(_this25.state.options.specimen.protocolAttributes[process.protocolId][attributeId].required==1&&!process.data[attributeId]){errors.data[attributeId]="This field is required!"}if(datatypes[attributes[attributeId].datatypeId].datatype==="number"){if(isNaN(process.data[attributeId])){errors.data[attributeId]="This field must be a number!"}}if(datatypes[attributes[attributeId].datatypeId].datatype==="date"){regex=/^[12]\d{3}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/;if(regex.test(process.data[attributeId])===false){errors.data[attributeId]="This field must be a valid date! "}}if(datatypes[attributes[attributeId].datatypeId].datatype==="time"){regex=/^([01]\d|2[0-3]):([0-5]\d)$/;if(regex.test(process.data[attributeId])===false){errors.data[attributeId]="This field must be a valid time! "}}});if(Object.keys(errors.data).length==0){delete errors.data}}if(Object.keys(errors).length!=0){reject(errors)}else{resolve()}})}},{key:"validateContainer",value:function validateContainer(container,key){var _this26=this;return new Promise(function(resolve,reject){var errors=_this26.state.errors;errors.container={};var required=["barcode","typeId","temperature","statusId","centerId"];var float=["temperature"];required.map(function(field){if(!container[field]){errors.container[field]="This field is required! "}});float.map(function(field){if(isNaN(container[field])){errors.container[field]="This field must be a number! "}});Object.values(_this26.state.data.containers.all).map(function(c){if(container.barcode===c.barcode&&container.id!==c.id){errors.container.barcode="Barcode must be unique."}});if(key){errors.list[key]=errors.list[key]||{};errors.list[key].container=errors.container}if(Object.keys(errors.container).length==0){_this26.setState({errors},resolve())}else{_this26.setState({errors},reject())}})}},{key:"validatePool",value:function validatePool(pool){var _this27=this;return new Promise(function(resolve,reject){var regex=void 0;var errors=_this27.state.errors;errors.pool={};var required=["label","quantity","unitId","date","time"];required.forEach(function(field){if(!pool[field]){errors.pool[field]="This field is required! "}});if(isNaN(pool.quantity)){errors.pool.quantity="This field must be a number! "}regex=/^[12]\d{3}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/;if(regex.test(pool.date)===false){errors.pool.date="This field must be a valid date! "}regex=/^([01]\d|2[0-3]):([0-5]\d)$/;if(regex.test(pool.time)===false){errors.pool.time="This field must be a valid time! "}if(pool.specimenIds==null||pool.specimenIds.length<2){errors.pool.total="Pooling requires at least 2 specimens"}if(Object.keys(errors.pool).length==0){_this27.setState({errors},resolve())}else{_this27.setState({errors},reject())}})}},{key:"validateBatchPreparation",value:function validateBatchPreparation(list){return new Promise(function(resolve,reject){var barcodes=Object.values(list).filter(function(item){return!!item.specimen.preparation}).map(function(item){return item.container.barcode});if(barcodes.length>0){return(0,_sweetalert2.default)({title:"Warning!",html:"Preparation for specimen(s) <b>"+barcodes.join(", ")+"</b> "+"already exists. By completing this form, the previous preparation "+"will be overwritten.",type:"warning",showCancelButton:true,confirmButtonText:"Proceed"}).then(function(result){return result.value?resolve():reject()})}else{return resolve()}})}},{key:"render",value:function render(){var _this28=this;if(!this.state.isLoaded){return React.createElement("div",{style:{height:500}},React.createElement(_Loader2.default,null))}var barcode=function barcode(props){var target=_this28.routeBarcode(props.match.params.barcode);if(target.specimen){return React.createElement(_specimen2.default,{data:_this28.state.data,target,options:_this28.state.options,errors:_this28.state.errors,current:_this28.state.current,editable:_this28.state.editable,mapFormOptions:_this28.mapFormOptions,setContainer:_this28.setContainer,updateContainer:_this28.updateContainer,setSpecimen:_this28.setSpecimen,updateSpecimen:_this28.updateSpecimen,setCurrent:_this28.setCurrent,toggleCollapse:_this28.toggleCollapse,setListItem:_this28.setListItem,addListItem:_this28.addListItem,copyListItem:_this28.copyListItem,removeListItem:_this28.removeListItem,edit:_this28.edit,clearAll:_this28.clearAll,createSpecimens:_this28.createSpecimens,editSpecimen:_this28.editSpecimen,editContainer:_this28.editContainer})}else{return React.createElement(_container2.default,{history:props.history,data:_this28.state.data,target,options:_this28.state.options,errors:_this28.state.errors,current:_this28.state.current,editable:_this28.state.editable,mapFormOptions:_this28.mapFormOptions,editContainer:_this28.editContainer,setContainer:_this28.setContainer,updateContainer:_this28.updateContainer,setCurrent:_this28.setCurrent,setCheckoutList:_this28.setCheckoutList,edit:_this28.edit,clearAll:_this28.clearAll})}};var filter=function filter(props){return React.createElement(_filter2.default,{isLoaded:_this28.state.isLoaded,history:props.history,data:_this28.state.data,options:_this28.state.options,current:_this28.state.current,errors:_this28.state.errors,editable:_this28.state.editable,setSpecimenHeader:_this28.setSpecimenHeader,updateFilter:_this28.updateFilter,resetFilter:_this28.resetFilter,mapFormOptions:_this28.mapFormOptions,edit:_this28.edit,clearAll:_this28.clearAll,toggleCollapse:_this28.toggleCollapse,setCurrent:_this28.setCurrent,setErrors:_this28.setErrors,setListItem:_this28.setListItem,setPool:_this28.setPool,setPoolList:_this28.setPoolList,addListItem:_this28.addListItem,copyListItem:_this28.copyListItem,removeListItem:_this28.removeListItem,createPool:_this28.createPool,createContainers:_this28.createContainers,createSpecimens:_this28.createSpecimens,saveBatchPreparation:_this28.saveBatchPreparation})};return React.createElement(_reactRouterDom.BrowserRouter,{basename:"/biobank"},React.createElement(_reactRouterDom.Switch,null,React.createElement(_reactRouterDom.Route,{exact:true,path:"/",render:filter}),React.createElement(_reactRouterDom.Route,{exact:true,path:"/barcode=:barcode",render:barcode})))}}]);return BiobankIndex}(React.Component);window.addEventListener("load",function(){var biobank=loris.BaseURL+"/biobank/";ReactDOM.render(React.createElement(BiobankIndex,{specimenAPI:biobank+"specimenendpoint/",containerAPI:biobank+"containerendpoint/",poolAPI:biobank+"poolendpoint/",optionsAPI:biobank+"optionsendpoint/"}),document.getElementById("lorisworkspace"))})},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _gud=__webpack_require__(58);var _gud2=_interopRequireDefault(_gud);var _warning=__webpack_require__(8);var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MAX_SIGNED_31_BIT_INT=1073741823;function objectIs(x,y){if(x===y){return x!==0||1/x===1/y}else{return x!==x&&y!==y}}function createEventEmitter(value){var handlers=[];return{on:function on(handler){handlers.push(handler)},off:function off(handler){handlers=handlers.filter(function(h){return h!==handler})},get:function get(){return value},set:function set(newValue,changedBits){value=newValue;handlers.forEach(function(handler){return handler(value,changedBits)})}}}function onlyChild(children){return Array.isArray(children)?children[0]:children}function createReactContext(defaultValue,calculateChangedBits){var _Provider$childContex,_Consumer$contextType;var contextProp="__create-react-context-"+(0,_gud2.default)()+"__";var Provider=function(_Component){_inherits(Provider,_Component);function Provider(){var _temp,_this,_ret;_classCallCheck(this,Provider);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,_Component.call.apply(_Component,[this].concat(args))),_this),_this.emitter=createEventEmitter(_this.props.value),_temp),_possibleConstructorReturn(_this,_ret)}Provider.prototype.getChildContext=function getChildContext(){var _ref;return _ref={},_ref[contextProp]=this.emitter,_ref};Provider.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(this.props.value!==nextProps.value){var oldValue=this.props.value;var newValue=nextProps.value;var changedBits=void 0;if(objectIs(oldValue,newValue)){changedBits=0}else{changedBits=typeof calculateChangedBits==="function"?calculateChangedBits(oldValue,newValue):MAX_SIGNED_31_BIT_INT;if(false){}changedBits|=0;if(changedBits!==0){this.emitter.set(nextProps.value,changedBits)}}}};Provider.prototype.render=function render(){return this.props.children};return Provider}(_react.Component);Provider.childContextTypes=(_Provider$childContex={},_Provider$childContex[contextProp]=_propTypes2.default.object.isRequired,_Provider$childContex);var Consumer=function(_Component2){_inherits(Consumer,_Component2);function Consumer(){var _temp2,_this2,_ret2;_classCallCheck(this,Consumer);for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return _ret2=(_temp2=(_this2=_possibleConstructorReturn(this,_Component2.call.apply(_Component2,[this].concat(args))),_this2),_this2.state={value:_this2.getValue()},_this2.onUpdate=function(newValue,changedBits){var observedBits=_this2.observedBits|0;if((observedBits&changedBits)!==0){_this2.setState({value:_this2.getValue()})}},_temp2),_possibleConstructorReturn(_this2,_ret2)}Consumer.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){var observedBits=nextProps.observedBits;this.observedBits=observedBits===undefined||observedBits===null?MAX_SIGNED_31_BIT_INT:observedBits};Consumer.prototype.componentDidMount=function componentDidMount(){if(this.context[contextProp]){this.context[contextProp].on(this.onUpdate)}var observedBits=this.props.observedBits;this.observedBits=observedBits===undefined||observedBits===null?MAX_SIGNED_31_BIT_INT:observedBits};Consumer.prototype.componentWillUnmount=function componentWillUnmount(){if(this.context[contextProp]){this.context[contextProp].off(this.onUpdate)}};Consumer.prototype.getValue=function getValue(){if(this.context[contextProp]){return this.context[contextProp].get()}else{return defaultValue}};Consumer.prototype.render=function render(){return onlyChild(this.props.children)(this.state.value)};return Consumer}(_react.Component);Consumer.contextTypes=(_Consumer$contextType={},_Consumer$contextType[contextProp]=_propTypes2.default.object,_Consumer$contextType);return{Provider,Consumer}}exports.default=createReactContext;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";(function(global){var key="__global_unique_id__";module.exports=function(){return global[key]=(global[key]||0)+1}}).call(this,__webpack_require__(59))},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(exports,"__esModule",{value:!0});var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.memo"):60115,r=b?Symbol.for("react.lazy"):60116;function t(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case h:return a;default:return u}}case r:case q:case d:return u}}}function v(a){return t(a)===m}exports.typeOf=t;exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=r;exports.Memo=q;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||"object"===typeof a&&null!==a&&(a.$$typeof===r||a.$$typeof===q||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n)};exports.isAsyncMode=function(a){return v(a)||t(a)===l};exports.isConcurrentMode=v;exports.isContextConsumer=function(a){return t(a)===k};exports.isContextProvider=function(a){return t(a)===h};exports.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return t(a)===n};exports.isFragment=function(a){return t(a)===e};exports.isLazy=function(a){return t(a)===r};exports.isMemo=function(a){return t(a)===q};exports.isPortal=function(a){return t(a)===d};exports.isProfiler=function(a){return t(a)===g};exports.isStrictMode=function(a){return t(a)===f};exports.isSuspense=function(a){return t(a)===p}},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactRouterDom=__webpack_require__(18);var _FilterableDataTable=__webpack_require__(11);var _FilterableDataTable2=_interopRequireDefault(_FilterableDataTable);var _Tabs=__webpack_require__(14);var _Modal=__webpack_require__(16);var _Modal2=_interopRequireDefault(_Modal);var _specimenForm=__webpack_require__(27);var _specimenForm2=_interopRequireDefault(_specimenForm);var _poolSpecimenForm=__webpack_require__(64);var _poolSpecimenForm2=_interopRequireDefault(_poolSpecimenForm);var _batchPreparationForm=__webpack_require__(65);var _batchPreparationForm2=_interopRequireDefault(_batchPreparationForm);var _containerForm=__webpack_require__(66);var _containerForm2=_interopRequireDefault(_containerForm);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BiobankFilter=function(_Component){_inherits(BiobankFilter,_Component);function BiobankFilter(){_classCallCheck(this,BiobankFilter);var _this=_possibleConstructorReturn(this,(BiobankFilter.__proto__||Object.getPrototypeOf(BiobankFilter)).call(this));_this.formatSpecimenColumns=_this.formatSpecimenColumns.bind(_this);_this.formatContainerColumns=_this.formatContainerColumns.bind(_this);_this.formatPoolColumns=_this.formatPoolColumns.bind(_this);_this.openSearchSpecimen=_this.openSearchSpecimen.bind(_this);_this.openSpecimenForm=_this.openSpecimenForm.bind(_this);_this.openPoolForm=_this.openPoolForm.bind(_this);_this.openBatchPreparationForm=_this.openBatchPreparationForm.bind(_this);_this.openSearchContainer=_this.openSearchContainer.bind(_this);_this.openContainerForm=_this.openContainerForm.bind(_this);_this.specimenTab=_this.specimenTab.bind(_this);_this.containerTab=_this.containerTab.bind(_this);_this.poolTab=_this.poolTab.bind(_this);_this.renderSpecimenForm=_this.renderSpecimenForm.bind(_this);_this.renderPoolForm=_this.renderPoolForm.bind(_this);_this.renderBatchPreparationForm=_this.renderBatchPreparationForm.bind(_this);_this.renderContainerForm=_this.renderContainerForm.bind(_this);_this.renderAliquotForm=_this.renderAliquotForm.bind(_this);return _this}_createClass(BiobankFilter,[{key:"openSearchSpecimen",value:function openSearchSpecimen(){this.props.edit("searchSpecimen")}},{key:"openSpecimenForm",value:function openSpecimenForm(){var _this2=this;this.props.edit("specimenForm").then(function(){return _this2.props.addListItem("specimen")})}},{key:"openPoolForm",value:function openPoolForm(){this.props.edit("poolSpecimenForm")}},{key:"openBatchPreparationForm",value:function openBatchPreparationForm(){this.props.edit("batchPreparationForm")}},{key:"openSearchContainer",value:function openSearchContainer(){this.props.edit("searchContainer")}},{key:"openContainerForm",value:function openContainerForm(){var _this3=this;this.props.edit("containerForm").then(function(){return _this3.props.addListItem("container")})}},{key:"openAliquotForm",value:function openAliquotForm(poolId){var _this4=this;this.props.setCurrent("poolId",poolId).then(function(){return _this4.props.edit("aliquotForm")}).then(function(){return _this4.props.addListItem("specimen")})}},{key:"formatSpecimenColumns",value:function formatSpecimenColumns(column,value,row){var _this5=this;switch(column){case"Barcode":return _react2.default.createElement("td",null,_react2.default.createElement(_reactRouterDom.Link,{to:"/barcode="+value},value));case"Type":var type=this.props.options.specimen.types[value].label;return _react2.default.createElement("td",null,type);case"Parent Specimens":var barcodes=value&&value.map(function(id){var barcode=_this5.props.data.containers.primary[_this5.props.data.specimens[id].containerId].barcode;return _react2.default.createElement(_reactRouterDom.Link,{to:"/barcode="+barcode},barcode)}).reduce(function(prev,curr){return[prev,", ",curr]});return _react2.default.createElement("td",null,barcodes);case"PSCID":var pscidURL=loris.BaseURL+"/"+value;return _react2.default.createElement("td",null,_react2.default.createElement("a",{href:pscidURL},this.props.options.candidates[value].pscid));case"Visit Label":var visitLabelURL=loris.BaseURL+"/instrument_list/?candID="+row["PSCID"]+"&sessionID="+value;return _react2.default.createElement("td",null,_react2.default.createElement("a",{href:visitLabelURL},this.props.options.sessions[value].label));case"Status":var status=this.props.options.container.stati[value].label;switch(status){case"Available":return _react2.default.createElement("td",{style:{color:"green"}},status);case"Reserved":return _react2.default.createElement("td",{style:{color:"orange"}},status);case"Dispensed":return _react2.default.createElement("td",{style:{color:"red"}},status)}case"Site":var site=this.props.options.centers[value];return _react2.default.createElement("td",null,site);case"Container Barcode":return _react2.default.createElement("td",null,_react2.default.createElement(_reactRouterDom.Link,{to:"/barcode="+value},value));default:return _react2.default.createElement("td",null,value)}}},{key:"formatContainerColumns",value:function formatContainerColumns(column,value,row){switch(column){case"Barcode":return _react2.default.createElement("td",null,_react2.default.createElement(_reactRouterDom.Link,{to:"/barcode="+value},value));case"Type":return _react2.default.createElement("td",null,this.props.options.container.types[value].label);case"Status":var status=this.props.options.container.stati[value].label;switch(status){case"Available":return _react2.default.createElement("td",{style:{color:"green"}},status);case"Reserved":return _react2.default.createElement("td",{style:{color:"orange"}},status);case"Dispensed":return _react2.default.createElement("td",{style:{color:"red"}},status)}case"Site":return _react2.default.createElement("td",null,this.props.options.centers[value]);case"Parent Barcode":var barcode=value&&this.props.data.containers.nonPrimary[value].barcode;return _react2.default.createElement("td",null,_react2.default.createElement(_reactRouterDom.Link,{to:"/barcode="+barcode},barcode))}}},{key:"formatPoolColumns",value:function formatPoolColumns(column,value,row){var _this6=this;switch(column){case"Pooled Specimens":var barcodes=value.map(function(id){if(loris.userHasPermission("biobank_specimen_view")){var barcode=(_this6.props.data.containers.primary[_this6.props.data.specimens[id].containerId]||{}).barcode;return _react2.default.createElement(_reactRouterDom.Link,{to:"/barcode="+barcode},barcode)}}).reduce(function(prev,curr){return[prev,", ",curr]});return _react2.default.createElement("td",null,barcodes);case"PSCID":var candidateURL=loris.BaseURL+"/"+value;return _react2.default.createElement("td",null,_react2.default.createElement("a",{href:candidateURL},this.props.options.candidates[value].pscid));case"Visit Label":var sessionURL=loris.BaseURL+"/instrument_list/?candID="+row["PSCID"]+"&sessionID="+value;return _react2.default.createElement("td",null,_react2.default.createElement("a",{href:sessionURL},this.props.options.sessions[value].label));case"Type":var type=this.props.options.specimen.types[value].label;return _react2.default.createElement("td",null,type);case"Aliquot":return _react2.default.createElement("td",null,_react2.default.createElement(CTA,{label:"Aliquot",onUserInput:function onUserInput(){return _this6.openAliquotForm(row["ID"])}}));default:return _react2.default.createElement("td",null,value)}}},{key:"renderSpecimenForm",value:function renderSpecimenForm(){if(!loris.userHasPermission("biobank_specimen_create")){return}return _react2.default.createElement(_Modal2.default,{title:"Add New Specimen",show:this.props.editable.specimenForm,onClose:this.props.clearAll,onSubmit:this.props.createSpecimens},_react2.default.createElement(FormElement,null,_react2.default.createElement(_specimenForm2.default,{options:this.props.options,current:this.props.current,data:this.props.data,errors:this.props.errors,mapFormOptions:this.props.mapFormOptions,toggleCollapse:this.props.toggleCollapse,setCurrent:this.props.setCurrent,setListItem:this.props.setListItem,addListItem:this.props.addListItem,copyListItem:this.props.copyListItem,removeListItem:this.props.removeListItem})))}},{key:"renderPoolForm",value:function renderPoolForm(){if(!loris.userHasPermission("biobank_pool_create")){return}return _react2.default.createElement(_Modal2.default,{title:"Pool Specimens",show:this.props.editable.poolSpecimenForm,onClose:this.props.clearAll,onSubmit:this.props.createPool},_react2.default.createElement(_poolSpecimenForm2.default,{options:this.props.options,data:this.props.data,errors:this.props.errors,current:this.props.current,setCurrent:this.props.setCurrent,mapFormOptions:this.props.mapFormOptions,setPoolList:this.props.setPoolList,setPool:this.props.setPool,removeListItem:this.props.removeListItem}))}},{key:"renderBatchPreparationForm",value:function renderBatchPreparationForm(){if(!loris.userHasPermission("biobank_specimen_create")){return}return _react2.default.createElement(_Modal2.default,{title:"Prepare Specimens",show:this.props.editable.batchPreparationForm,onClose:this.props.clearAll,onSubmit:this.props.saveBatchPreparation},_react2.default.createElement(_batchPreparationForm2.default,{options:this.props.options,data:this.props.data,current:this.props.current,errors:this.props.errors,setCurrent:this.props.setCurrent,mapFormOptions:this.props.mapFormOptions,removeListItem:this.props.removeListItem}))}},{key:"specimenTab",value:function specimenTab(){var _this7=this;var barcodesPrimary=this.props.mapFormOptions(this.props.data.containers.primary,"barcode");var specimenTypes=this.props.mapFormOptions(this.props.options.specimen.types,"label");var stati=this.props.mapFormOptions(this.props.options.container.stati,"label");var pscids=this.props.mapFormOptions(this.props.options.candidates,"pscid");var data=Object.values(this.props.data.specimens).map(function(specimen){var container=_this7.props.data.containers.primary[specimen.containerId];var parentContainer=_this7.props.data.containers.nonPrimary[container.parentContainerId]||{};return[container.barcode,specimen.typeId,specimen.quantity+" "+_this7.props.options.specimen.units[specimen.unitId].label,specimen.fTCycle||null,specimen.parentSpecimenIds,specimen.candidateId,specimen.sessionId,specimen.poolId?_this7.props.data.pools[specimen.poolId].label:null,container.statusId,container.centerId,parentContainer.barcode]});var fields=[{label:"Barcode",show:true,filter:{name:"barcode",type:"text"}},{label:"Type",show:true,filter:{name:"type",type:"select",options:specimenTypes}},{label:"Quantity",show:true},{label:"F/T Cycle",show:false,filter:{name:"fTCycle",type:"text",hide:true}},{label:"Parent Specimen(s)",show:false,filter:{name:"parentSpecimens",type:"text",hide:true}},{label:"PSCID",show:true,filter:{name:"pscid",type:"text",options:pscids}},{label:"Visit Label",show:true,filter:{name:"visitLabel",type:"text"}},{label:"Pool",show:false,filter:{name:"pool",type:"text",hide:true}},{label:"Status",show:true,filter:{name:"status",type:"select",options:stati}},{label:"Site",show:true,filter:{name:"site",type:"select",options:this.props.options.centers}},{label:"Container Barcode",show:true,filter:{name:"containerBarcode",type:"text"}}];var actions=[{name:"goToSpecimen",label:"Go To Specimen",action:this.openSearchSpecimen},{name:"addSpecimen",label:"Add Specimen",action:this.openSpecimenForm},{name:"poolSpecimen",label:"Pool Specimens",action:this.openPoolForm},{name:"batchPreparation",label:"Batch Preparation",action:this.openBatchPreparationForm}];return _react2.default.createElement("div",null,_react2.default.createElement(_FilterableDataTable2.default,{data,fields,actions,getFormattedCell:this.formatSpecimenColumns}),_react2.default.createElement(Search,{title:"Go To Specimen",show:this.props.editable.searchSpecimen,clearAll:this.props.clearAll,barcodes:barcodesPrimary,history:this.props.history}),this.renderSpecimenForm(),this.renderPoolForm(),this.renderBatchPreparationForm())}},{key:"renderContainerForm",value:function renderContainerForm(){if(!loris.userHasPermission("biobank_container_create")){return}var containerTypesNonPrimary=this.props.mapFormOptions(this.props.options.container.typesNonPrimary,"label");return _react2.default.createElement(_Modal2.default,{title:"Add New Container",show:this.props.editable.containerForm,onClose:this.props.clearAll,onSubmit:this.props.createContainers},_react2.default.createElement(FormElement,null,_react2.default.createElement(_containerForm2.default,{current:this.props.current,errors:this.props.errors.list,containerTypesNonPrimary,centers:this.props.options.centers,toggleCollapse:this.props.toggleCollapse,setCurrent:this.props.setCurrent,setListItem:this.props.setListItem,addListItem:this.props.addListItem,copyListItem:this.props.copyListItem,removeListItem:this.props.removeListItem})))}},{key:"containerTab",value:function containerTab(){var stati=this.props.mapFormOptions(this.props.options.container.stati,"label");var containerTypesNonPrimary=this.props.mapFormOptions(this.props.options.container.typesNonPrimary,"label");var barcodesNonPrimary=this.props.mapFormOptions(this.props.data.containers.nonPrimary,"barcode");var data=Object.values(this.props.data.containers.nonPrimary).map(function(container){return[container.barcode,container.typeId,container.statusId,container.centerId,container.parentContainerId]});var fields=[{label:"Barcode",show:true,filter:{name:"barcode",type:"text"}},{label:"Type",show:true,filter:{name:"type",type:"select",options:containerTypesNonPrimary}},{label:"Status",show:true,filter:{name:"status",type:"select",options:stati}},{label:"Site",show:true,filter:{name:"site",type:"select",options:this.props.options.centers}},{label:"Parent Barcode",show:true,filter:{name:"parentBarcode",type:"text"}}];var actions=[{name:"goToContainer",label:"Go To Container",action:this.openSearchContainer},{name:"addContainer",label:"Add Container",action:this.openContainerForm}];return _react2.default.createElement("div",null,_react2.default.createElement(_FilterableDataTable2.default,{data,fields,actions,getFormattedCell:this.formatContainerColumns}),_react2.default.createElement(Search,{title:"Go To Container",show:this.props.editable.searchContainer,clearAll:this.props.clearAll,barcodes:barcodesNonPrimary,history:this.props.history}),this.renderContainerForm())}},{key:"renderAliquotForm",value:function renderAliquotForm(){var _this8=this;if(!(loris.userHasPermission("biobank_specimen_create")&&this.props.current.poolId)){return}var specimens=Object.values(this.props.data.specimens).filter(function(specimen){return specimen.poolId==_this8.props.current.poolId});var parents=specimens.map(function(specimen){return{specimen,container:_this8.props.data.containers.primary[specimen.containerId]}});return _react2.default.createElement(_Modal2.default,{title:"Aliquot Pool",show:this.props.editable.aliquotForm,onClose:this.props.clearAll,onSubmit:this.props.createSpecimens},_react2.default.createElement(FormElement,null,_react2.default.createElement(_specimenForm2.default,{parent:parents,options:this.props.options,current:this.props.current,errors:this.props.errors,data:this.props.data,mapFormOptions:this.props.mapFormOptions,toggleCollapse:this.props.toggleCollapse,setCurrent:this.props.setCurrent,setListItem:this.props.setListItem,addListItem:this.props.addListItem,copyListItem:this.props.copyListItem,removeListItem:this.props.removeListItem})))}},{key:"poolTab",value:function poolTab(){var _this9=this;var pscids=this.props.mapFormOptions(this.props.options.candidates,"pscid");var specimenTypes=this.props.mapFormOptions(this.props.options.specimen.types,"label");var data=Object.values(this.props.data.pools).map(function(pool){return[pool.id,pool.label,pool.quantity+" "+_this9.props.options.specimen.units[pool.unitId].label,pool.specimenIds,pool.candidateId,pool.sessionId,pool.typeId,_this9.props.options.centers[pool.centerId],pool.date,pool.time]});var fields=[{label:"ID",show:false},{label:"Label",show:true,filter:{name:"barcode",type:"text"}},{label:"Quantity",show:true},{label:"Pooled Specimens",show:true},{label:"PSCID",show:true,filter:{name:"pscid",type:"select",options:pscids}},{label:"Visit Label",show:true,filter:{name:"visit",type:"text"}},{label:"Type",show:true,filter:{name:"type",type:"select",options:specimenTypes}},{label:"Site",show:true,filter:{name:"site",type:"select",options:this.props.options.centers}},{label:"Date",show:true},{label:"Time",show:true},{label:"Aliquot",show:true}];return _react2.default.createElement("div",null,_react2.default.createElement(_FilterableDataTable2.default,{data,fields,getFormattedCell:this.formatPoolColumns}),this.renderAliquotForm())}},{key:"render",value:function render(){var _this10=this;var tabs=function tabs(){var tabInfo=[];var tabList=[];if(loris.userHasPermission("biobank_specimen_view")){tabInfo.push({id:"specimens",content:_this10.specimenTab});tabList.push({id:"specimens",label:"Specimens"})}if(loris.userHasPermission("biobank_container_view")){tabInfo.push({id:"containers",content:_this10.containerTab});tabList.push({id:"containers",label:"Containers"})}if(loris.userHasPermission("biobank_pool_view")){tabInfo.push({id:"pools",content:_this10.poolTab});tabList.push({id:"pools",label:"Pools"})}var tabContent=Object.keys(tabInfo).map(function(key){return _react2.default.createElement(_Tabs.TabPane,{TabId:tabInfo[key].id},tabInfo[key].content())});return _react2.default.createElement(_Tabs.Tabs,{tabs:tabList,defaultTab:tabList[0].id,updateURL:true},tabContent)};return _react2.default.createElement("div",{id:"biobank-page"},tabs())}}]);return BiobankFilter}(_react.Component);BiobankFilter.propTypes={filter:_propTypes2.default.object.isRequired,data:_propTypes2.default.object.isRequired,options:_propTypes2.default.object.isRequired,editable:_propTypes2.default.object.isRequired,loadContainer:_propTypes2.default.func.isRequired,loadTransfer:_propTypes2.default.func.isRequired,updateSpecimenFilter:_propTypes2.default.func.isRequired,updateContainerFilter:_propTypes2.default.func.isRequired,mapFormOptions:_propTypes2.default.func.isRequired,edit:_propTypes2.default.func.isRequired,clearAll:_propTypes2.default.func.isRequired};BiobankFilter.defaultProps={};var Search=function(_Component2){_inherits(Search,_Component2);function Search(){_classCallCheck(this,Search);return _possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).apply(this,arguments))}_createClass(Search,[{key:"render",value:function render(){var _this12=this;return _react2.default.createElement(_Modal2.default,{title:this.props.title,show:this.props.show,onClose:this.props.clearAll,throwWarning:false},_react2.default.createElement(FormElement,null,_react2.default.createElement(SearchableDropdown,{name:"barcode",label:"Barcode",options:this.props.barcodes,onUserInput:function onUserInput(name,value){if(_this12.props.barcodes[value]){_this12.props.history.push("/barcode="+_this12.props.barcodes[value]);_this12.props.clearAll()}},placeHolder:"Please Scan or Select Barcode",autoFocus:true})))}}]);return Search}(_react.Component);Search.propTypes={};Search.defaultProps={};exports.default=BiobankFilter},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CustomFields=function(_Component){_inherits(CustomFields,_Component);function CustomFields(){_classCallCheck(this,CustomFields);return _possibleConstructorReturn(this,(CustomFields.__proto__||Object.getPrototypeOf(CustomFields)).apply(this,arguments))}_createClass(CustomFields,[{key:"render",value:function render(){var _this2=this;var _props=this.props,attributeDatatypes=_props.attributeDatatypes,attributeOptions=_props.attributeOptions,errors=_props.errors,fields=_props.fields,object=_props.object;var attributeFields=Object.keys(fields).map(function(attribute){var datatype=attributeDatatypes[fields[attribute]["datatypeId"]].datatype;if(datatype==="text"||datatype==="number"){if(fields[attribute]["refTableId"]===null){return _react2.default.createElement(TextboxElement,{name:attribute,label:fields[attribute].label,onUserInput:_this2.props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}if(fields[attribute]["refTableId"]!==null){return _react2.default.createElement(SelectElement,{name:attribute,label:fields[attribute].label,options:attributeOptions[fields[attribute].refTableId],onUserInput:_this2.props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}}if(datatype==="date"){return _react2.default.createElement(DateElement,{name:attribute,label:fields[attribute].label,onUserInput:_this2.props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}if(datatype==="time"){return _react2.default.createElement(TimeElement,{name:attribute,label:fields[attribute].label,onUserInput:_this2.props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}if(datatype==="boolean"){return _react2.default.createElement(CheckboxElement,{name:attribute,label:fields[attribute].label,onUserInput:_this2.props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}if(datatype==="file"&&!(_this2.props.data||{})[attribute]){return _react2.default.createElement(FileElement,{name:attribute,label:fields[attribute].label,onUserInput:_this2.props.setData,required:fields[attribute].required,value:_this2.props.current.files[object[attribute]],errorMessage:errors[attribute]})}});return _react2.default.createElement("div",null,attributeFields)}}]);return CustomFields}(_react.Component);CustomFields.propTypes={fields:_propTypes2.default.object.isRequired,attributeDatatypes:_propTypes2.default.object.isRequired,attributeOptions:_propTypes2.default.object.isRequired,object:_propTypes2.default.object.isRequired,setData:_propTypes2.default.func.isRequired,errors:_propTypes2.default.object};CustomFields.defaultProps={errors:{}};exports.default=CustomFields},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PoolSpecimenForm=function(_React$Component){_inherits(PoolSpecimenForm,_React$Component);function PoolSpecimenForm(){_classCallCheck(this,PoolSpecimenForm);return _possibleConstructorReturn(this,(PoolSpecimenForm.__proto__||Object.getPrototypeOf(PoolSpecimenForm)).apply(this,arguments))}_createClass(PoolSpecimenForm,[{key:"render",value:function render(){var _this2=this;var _props=this.props,current=_props.current,data=_props.data,errors=_props.errors,options=_props.options,setPool=_props.setPool,setPoolList=_props.setPoolList;var list=current.list;var barcodesPrimary=Object.values(data.containers.primary).filter(function(container){var specimen=Object.values(data.specimens).find(function(specimen){return specimen.containerId==container.id});var availableId=Object.keys(options.container.stati).find(function(key){return options.container.stati[key].label==="Available"});if(specimen.quantity!=0&&container.statusId==availableId&&specimen.poolId==null){if(current.candidateId){if(specimen.candidateId==current.candidateId&&specimen.sessionId==current.sessionId&&specimen.typeId==current.typeId&&container.centerId==current.centerId){return true}}else{return true}}return false}).filter(function(container){return!Object.values(list).find(function(i){return i.container.id==container.id})}).reduce(function(result,container){result[container.id]=container.barcode;return result},{});var barcodeInput=React.createElement(SearchableDropdown,{name:"containerId",label:"Specimen",onUserInput:function onUserInput(name,containerId){containerId&&setPoolList(containerId)},options:barcodesPrimary,value:current.containerId,errorMessage:errors.pool.total});var specimenUnits=this.props.mapFormOptions(options.specimen.units,"label");var glyphStyle={color:"#DDDDDD",marginLeft:10,cursor:"pointer"};var barcodeList=Object.entries(current.list).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],item=_ref2[1];return React.createElement("div",{key,className:"preparation-item"},React.createElement("div",null,item.container.barcode),React.createElement("div",{className:"glyphicon glyphicon-remove",style:glyphStyle,onClick:function onClick(){return _this2.props.removeListItem(key)}}))});return React.createElement(FormElement,{name:"poolSpecimenForm"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-10 col-sm-offset-1"},React.createElement(StaticElement,{label:"Pooling Note",text:"Select or Scan the specimens to be pooled. Specimens must be have a Status of 'Available', have a Quantity of greater than 0, and share the same Type, PSCID, Visit Label and Current Site. Pooled specimens cannot already belong to a pool. Once pooled, the Status of specimen will be changed to 'Dispensed' and there Quantity set to '0'"}),React.createElement(StaticElement,{label:"Specimen Type",text:(options.specimen.types[current.typeId]||{}).label||"—"}),React.createElement(StaticElement,{label:"PSCID",text:(options.candidates[current.candidateId]||{}).pscid||"—"}),React.createElement(StaticElement,{label:"Visit Label",text:(options.sessions[current.sessionId]||{}).label||"—"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-6"},React.createElement("h4",null,"Barcode Input"),React.createElement("div",{className:"form-top"}),barcodeInput),React.createElement("div",{className:"col-xs-6"},React.createElement("h4",null,"Barcode List"),React.createElement("div",{className:"form-top"}),React.createElement("div",{className:"preparation-list"},barcodeList))),React.createElement("div",{className:"form-top"}),React.createElement(TextboxElement,{name:"label",label:"Label",onUserInput:setPool,required:true,value:current.pool.label,errorMessage:errors.pool.label}),React.createElement(TextboxElement,{name:"quantity",label:"Quantity",onUserInput:setPool,required:true,value:current.pool.quantity,errorMessage:errors.pool.quantity}),React.createElement(SelectElement,{name:"unitId",label:"Unit",options:specimenUnits,onUserInput:setPool,required:true,value:current.pool.unitId,errorMessage:errors.pool.unitId}),React.createElement(DateElement,{name:"date",label:"Date",minYear:"2000",maxYear:"2018",onUserInput:setPool,required:true,value:current.pool.date,errorMessage:errors.pool.date}),React.createElement(TimeElement,{name:"time",label:"Time",onUserInput:setPool,required:true,value:current.pool.time,errorMessage:errors.pool.time}))))}}]);return PoolSpecimenForm}(React.Component);PoolSpecimenForm.propTypes={};exports.default=PoolSpecimenForm},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _processForm=__webpack_require__(22);var _processForm2=_interopRequireDefault(_processForm);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BatchPreparationForm=function(_React$Component){_inherits(BatchPreparationForm,_React$Component);function BatchPreparationForm(){_classCallCheck(this,BatchPreparationForm);var _this=_possibleConstructorReturn(this,(BatchPreparationForm.__proto__||Object.getPrototypeOf(BatchPreparationForm)).call(this));_this.setPreparationList=_this.setPreparationList.bind(_this);_this.setPool=_this.setPool.bind(_this);return _this}_createClass(BatchPreparationForm,[{key:"setPreparationList",value:function setPreparationList(containerId){var _this2=this;this.props.setCurrent("containerId",1).then(function(){return _this2.props.setCurrent("containerId",null)});var list=this.props.current.list;var container=this.props.data.containers.primary[containerId];var specimen=Object.values(this.props.data.specimens).find(function(specimen){return specimen.containerId==containerId});var count=this.props.current.count;if(count==null){count=0}else{count++}list[count]={specimen,container};this.props.setCurrent("list",list);this.props.setCurrent("count",count);this.props.setCurrent("typeId",specimen.typeId);this.props.setCurrent("centerId",container.centerId)}},{key:"setPool",value:function setPool(name,poolId){var _this3=this;var specimens=Object.values(this.props.data.specimens).filter(function(specimen){return specimen.poolId==poolId});this.props.setCurrent(name,poolId).then(function(){return Promise.all(specimens.map(function(specimen){return Object.values(_this3.props.current.list).find(function(item){return item.specimen.id===specimen.id})||_this3.setPreparationList(specimen.containerId)}).map(function(p){return p instanceof Promise?p:Promise.resolve(p)}))}).then(function(){return _this3.props.setCurrent(name,null)})}},{key:"render",value:function render(){var _this4=this;var _props=this.props,current=_props.current,data=_props.data,errors=_props.errors,options=_props.options,setCurrent=_props.setCurrent;var list=current.list;var containersPrimary=Object.values(data.containers.primary).reduce(function(result,container){var specimen=Object.values(data.specimens).find(function(specimen){return specimen.containerId==container.id});var availableId=Object.keys(options.container.stati).find(function(key){return options.container.stati[key].label=="Available"});var protocolExists=Object.values(options.specimen.protocols).find(function(protocol){return protocol.typeId==specimen.typeId});if(specimen.quantity!=0&&container.statusId==availableId&&protocolExists){if(current.typeId){if(specimen.typeId==current.typeId&&container.centerId==current.centerId){result[container.id]=container}}else{result[container.id]=container}}return result},{});var validContainers=Object.keys(containersPrimary).reduce(function(result,id){var inList=Object.values(list).find(function(i){return i.container.id==id});if(!inList){result[id]=containersPrimary[id]}return result},{});var barcodesPrimary=this.props.mapFormOptions(validContainers,"barcode");var specimenInput=React.createElement(SearchableDropdown,{name:"containerId",label:"Specimen",onUserInput:function onUserInput(name,containerId){containerId&&_this4.setPreparationList(containerId)},options:barcodesPrimary,value:current.containerId});var preparationForm=React.createElement(_processForm2.default,{edit:true,errors:errors.preparation,mapFormOptions:this.props.mapFormOptions,options,process:current.preparation,processStage:"preparation",setParent:setCurrent,setCurrent,typeId:current.typeId});var pools=this.props.mapFormOptions(data.pools,"label");var glyphStyle={color:"#DDDDDD",marginLeft:10,cursor:"pointer"};var barcodeList=Object.entries(current.list).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],item=_ref2[1];return React.createElement("div",{key,className:"preparation-item"},React.createElement("div",null,item.container.barcode),React.createElement("div",{className:"glyphicon glyphicon-remove",style:glyphStyle,onClick:function onClick(){return _this4.props.removeListItem(key)}}))});return React.createElement(FormElement,null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-10 col-sm-offset-1"},React.createElement(StaticElement,{label:"Preparation Note",text:"Select or Scan the specimens to be prepared. Specimens must have a Status of 'Available', have a Quantity of greater than 0, and share the same Type. Any previous Preparation associated with a Pooled Specimen will be overwritten if one is added on this form."}),React.createElement(StaticElement,{label:"Specimen Type",text:(options.specimen.types[current.typeId]||{}).label||"—"}),React.createElement(StaticElement,{label:"Site",text:options.centers[current.centerId]||"—"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-6"},React.createElement("h4",null,"Barcode Input"),React.createElement("div",{className:"form-top"}),specimenInput,React.createElement(SearchableDropdown,{name:"poolId",label:"Pool",onUserInput:this.setPool,options:pools,value:current.poolId})),React.createElement("div",{className:"col-xs-6"},React.createElement("h4",null,"Barcode List"),React.createElement("div",{className:"form-top"}),React.createElement("div",{className:"preparation-list"},barcodeList))),React.createElement("div",{className:"form-top"}),preparationForm)))}}]);return BatchPreparationForm}(React.Component);BatchPreparationForm.propTypes={};exports.default=BatchPreparationForm},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BiobankContainerForm=function(_Component){_inherits(BiobankContainerForm,_Component);function BiobankContainerForm(){_classCallCheck(this,BiobankContainerForm);return _possibleConstructorReturn(this,(BiobankContainerForm.__proto__||Object.getPrototypeOf(BiobankContainerForm)).apply(this,arguments))}_createClass(BiobankContainerForm,[{key:"render",value:function render(){var _this2=this;var barcodes=Object.keys(this.props.current.list).map(function(_ref,i,list){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],container=_ref2[1];return _react2.default.createElement(ContainerBarcodeForm,{key,containerKey:key,id:i+1,container:_this2.props.current.list[key],errors:(_this2.props.errors[key]||{}).container,collapsed:_this2.props.current.collapsed[key],containerTypesNonPrimary:_this2.props.containerTypesNonPrimary,removeContainer:list.length!==1?function(){_this2.props.removeListItem(key)}:null,addContainer:i+1==list.length?function(){_this2.props.addListItem("container")}:null,multiplier:_this2.props.current.multiplier,copyContainer:i+1==list.length&&_this2.props.current.list[key]?_this2.props.copyListItem:null,setListItem:_this2.props.setListItem,setCurrent:_this2.props.setCurrent,toggleCollapse:_this2.props.toggleCollapse})});return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-11"},_react2.default.createElement(SelectElement,{name:"centerId",label:"Site",options:this.props.centers,onUserInput:this.props.setCurrent,required:true,value:this.props.current.centerId,errorMessage:(this.props.errors.container||{}).centerId}))),barcodes)}}]);return BiobankContainerForm}(_react.Component);BiobankContainerForm.propTypes={DataURL:_propTypes2.default.string.isRequired,barcode:_propTypes2.default.string,refreshTable:_propTypes2.default.func};var ContainerBarcodeForm=function(_Component2){_inherits(ContainerBarcodeForm,_Component2);function ContainerBarcodeForm(){_classCallCheck(this,ContainerBarcodeForm);var _this3=_possibleConstructorReturn(this,(ContainerBarcodeForm.__proto__||Object.getPrototypeOf(ContainerBarcodeForm)).call(this));_this3.setContainer=_this3.setContainer.bind(_this3);_this3.copy=_this3.copy.bind(_this3);return _this3}_createClass(ContainerBarcodeForm,[{key:"copy",value:function copy(){this.props.copyContainer(this.props.containerKey)}},{key:"setContainer",value:function setContainer(name,value){this.props.setListItem(name,value,this.props.containerKey)}},{key:"render",value:function render(){var _this4=this;var renderAddContainerButton=function renderAddContainerButton(){if(_this4.props.addContainer){return _react2.default.createElement("div",null,_react2.default.createElement("span",{className:"action"},_react2.default.createElement("div",{className:"action-button add",onClick:_this4.props.addContainer},"+")),_react2.default.createElement("span",{className:"action-title"},"New Entry"))}};var renderCopyContainerButton=function renderCopyContainerButton(){if(_this4.props.copyContainer){return _react2.default.createElement("div",null,_react2.default.createElement("span",{className:"action"},_react2.default.createElement("div",{className:"action-button add",onClick:_this4.copy},_react2.default.createElement("span",{className:"glyphicon glyphicon-duplicate"}))),_react2.default.createElement("span",{className:"action-title"},_react2.default.createElement("input",{className:"form-control input-sm",type:"number",min:"1",max:"50",style:{width:50,display:"inline"},onChange:function onChange(e){_this4.props.setCurrent("multiplier",e.target.value)},value:_this4.props.multiplier}),"Copies"))}};var renderRemoveContainerButton=function renderRemoveContainerButton(){if(_this4.props.removeContainer){var glyphStyle={color:"#DDDDDD",marginLeft:10,cursor:"pointer",fontSize:15};return _react2.default.createElement("span",{className:"glyphicon glyphicon-remove",onClick:_this4.props.removeContainer,style:glyphStyle})}};return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-11"},_react2.default.createElement("div",null,_react2.default.createElement(TextboxElement,{name:"barcode",label:"Barcode "+this.props.id,onUserInput:this.setContainer,required:true,value:this.props.container.barcode,errorMessage:this.props.errors.barcode}))),_react2.default.createElement("div",{className:"col-xs-1",style:{paddingLeft:0,marginTop:10}},_react2.default.createElement("span",{className:this.props.collapsed?"glyphicon glyphicon-chevron-down":"glyphicon glyphicon-chevron-up",style:{cursor:"pointer",fontSize:15,position:"relative",right:40},onClick:function onClick(){return _this4.props.toggleCollapse(_this4.props.containerKey)}}),renderRemoveContainerButton())),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-2"}),_react2.default.createElement("div",{className:"col-xs-9"},_react2.default.createElement("div",null,_react2.default.createElement(SelectElement,{name:"typeId",label:"Container Type",options:this.props.containerTypesNonPrimary,onUserInput:this.setContainer,required:true,value:this.props.container.typeId,errorMessage:this.props.errors.typeId})))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-11"},_react2.default.createElement("div",{className:"col-xs-3"}),_react2.default.createElement("div",{className:"col-xs-4 action"},renderAddContainerButton()),_react2.default.createElement("div",{className:"col-xs-4 action"},renderCopyContainerButton()))))}}]);return ContainerBarcodeForm}(_react.Component);ContainerBarcodeForm.propTypes={};ContainerBarcodeForm.defaultProps={errors:{},multiplier:1};exports.default=BiobankContainerForm},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _Modal=__webpack_require__(16);var _Modal2=_interopRequireDefault(_Modal);var _globals=__webpack_require__(30);var _globals2=_interopRequireDefault(_globals);var _processForm=__webpack_require__(22);var _processForm2=_interopRequireDefault(_processForm);var _specimenForm=__webpack_require__(27);var _specimenForm2=_interopRequireDefault(_specimenForm);var _lifeCycle=__webpack_require__(68);var _lifeCycle2=_interopRequireDefault(_lifeCycle);var _containerCheckout=__webpack_require__(31);var _containerCheckout2=_interopRequireDefault(_containerCheckout);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BiobankSpecimen=function(_Component){_inherits(BiobankSpecimen,_Component);function BiobankSpecimen(){_classCallCheck(this,BiobankSpecimen);var _this=_possibleConstructorReturn(this,(BiobankSpecimen.__proto__||Object.getPrototypeOf(BiobankSpecimen)).call(this));_this.openAliquotForm=_this.openAliquotForm.bind(_this);_this.addPreparation=_this.addPreparation.bind(_this);_this.addAnalysis=_this.addAnalysis.bind(_this);_this.alterCollection=_this.alterCollection.bind(_this);_this.alterPreparation=_this.alterPreparation.bind(_this);_this.alterAnalysis=_this.alterAnalysis.bind(_this);_this.submitAliquotForm=_this.submitAliquotForm.bind(_this);return _this}_createClass(BiobankSpecimen,[{key:"addPreparation",value:function addPreparation(){this.addProcess("preparation")}},{key:"addAnalysis",value:function addAnalysis(){this.addProcess("analysis")}},{key:"addProcess",value:function addProcess(process){var _this2=this;this.props.editSpecimen(this.props.target.specimen).then(function(){var specimen=_this2.props.current.specimen;specimen[process]={centerId:_this2.props.target.container.centerId};_this2.props.setCurrent("specimen",specimen)}).then(function(){return _this2.props.edit(process)})}},{key:"alterCollection",value:function alterCollection(){this.alterProcess("collection")}},{key:"alterPreparation",value:function alterPreparation(){this.alterProcess("preparation")}},{key:"alterAnalysis",value:function alterAnalysis(){this.alterProcess("preparation")}},{key:"alterProcess",value:function alterProcess(process){var _this3=this;this.props.editSpecimen(this.props.target.specimen).then(function(){return _this3.props.edit(process)})}},{key:"openAliquotForm",value:function openAliquotForm(){var _this4=this;this.props.edit("aliquotForm").then(function(){return _this4.props.editSpecimen(_this4.props.target.specimen)}).then(function(){return _this4.props.addListItem("specimen")})}},{key:"submitAliquotForm",value:function submitAliquotForm(){var _this5=this;this.props.createSpecimens().then(function(){return _this5.props.updateSpecimen(_this5.props.current.specimen)}).then(function(){return _this5.props.clearAll()})}},{key:"render",value:function render(){var _this6=this;var _props=this.props,current=_props.current,data=_props.data,editable=_props.editable,errors=_props.errors,options=_props.options,target=_props.target;var status=options.container.stati[target.container.statusId].label;var renderActionButton=function renderActionButton(){if(status=="Available"&&target.specimen.quantity>0&&!target.specimen.poolId){return _react2.default.createElement("div",{className:"action-button add",onClick:_this6.openAliquotForm},"+")}else{return _react2.default.createElement("div",{className:"action-button disabled"},"+")}};var addAliquotForm=function addAliquotForm(){if(loris.userHasPermission("biobank_specimen_create")){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"action",title:"Make Aliquots"},renderActionButton()),_react2.default.createElement("div",null,_react2.default.createElement(_Modal2.default,{title:"Add Aliquots",onClose:_this6.props.clearAll,show:editable.aliquotForm,onSubmit:_this6.submitAliquotForm},_react2.default.createElement(FormElement,null,_react2.default.createElement(_specimenForm2.default,{parent:[target],options,data,current,errors,mapFormOptions:_this6.props.mapFormOptions,toggleCollapse:_this6.props.toggleCollapse,setCurrent:_this6.props.setCurrent,setSpecimen:_this6.props.setSpecimen,setListItem:_this6.props.setListItem,addListItem:_this6.props.addListItem,copyListItem:_this6.props.copyListItem,removeListItem:_this6.props.removeListItem})))))}};var alterCollection=function alterCollection(){if(loris.userHasPermission("biobank_specimen_alter")){return _react2.default.createElement("span",{className:editable.collection?null:"glyphicon glyphicon-pencil",onClick:editable.collection?null:_this6.alterCollection})}};var cancelAlterCollection=function cancelAlterCollection(){if(editable.collection){return _react2.default.createElement("a",{className:"pull-right",style:{cursor:"pointer"},onClick:_this6.props.clearAll},"Cancel")}};var collectionPanel=_react2.default.createElement("div",{className:"panel specimen-panel panel-default"},_react2.default.createElement("div",{className:"panel-heading"},_react2.default.createElement("div",{className:"lifecycle-node collection"},_react2.default.createElement("div",{className:"letter"},"C")),_react2.default.createElement("div",{className:"title"},"Collection"),alterCollection()),_react2.default.createElement("div",{className:"panel-body"},_react2.default.createElement(FormElement,null,_react2.default.createElement(_processForm2.default,{current,errors:errors.specimen.process,edit:editable.collection,specimen:current.specimen,mapFormOptions:this.props.mapFormOptions,options,process:editable.collection?current.specimen.collection:target.specimen.collection,processStage:"collection",setCurrent:this.props.setCurrent,setParent:this.props.setSpecimen,typeId:editable.collection?current.specimen.typeId:target.specimen.typeId,updateSpecimen:this.props.updateSpecimen})),cancelAlterCollection()));var alterPreparation=function alterPreparation(){if(loris.userHasPermission("biobank_specimen_alter")){return _react2.default.createElement("span",{className:editable.preparation?null:"glyphicon glyphicon-pencil",onClick:editable.preparation?null:_this6.alterPreparation})}};var cancelAlterPreparation=function cancelAlterPreparation(){if(editable.preparation){return _react2.default.createElement("a",{className:"pull-right",style:{cursor:"pointer"},onClick:_this6.props.clearAll},"Cancel")}};var preparationPanel=function preparationPanel(){var protocolExists=Object.values(options.specimen.protocols).find(function(protocol){return protocol.typeId==target.specimen.typeId&&options.specimen.processes[protocol.processId].label=="Preparation"});if(protocolExists&&!target.specimen.preparation&&!editable.preparation&&loris.userHasPermission("biobank_specimen_update")){return _react2.default.createElement("div",{className:"panel specimen-panel inactive"},_react2.default.createElement("div",{className:"add-process",onClick:_this6.addPreparation},_react2.default.createElement("span",{className:"glyphicon glyphicon-plus"})),_react2.default.createElement("div",null,"ADD PREPARATION"))}else if(target.specimen.preparation||editable.preparation){return _react2.default.createElement("div",{className:"panel specimen-panel panel-default"},_react2.default.createElement("div",{className:"panel-heading"},_react2.default.createElement("div",{className:"lifecycle-node collection"},_react2.default.createElement("div",{className:"letter"},"C")),_react2.default.createElement("div",{className:"title"},"Preparation"),alterPreparation()),_react2.default.createElement("div",{className:"panel-body"},_react2.default.createElement(FormElement,null,_react2.default.createElement(_processForm2.default,{current,errors:errors.specimen.process,edit:editable.preparation,specimen:current.specimen,mapFormOptions:_this6.props.mapFormOptions,options,process:editable.preparation?current.specimen.preparation:target.specimen.preparation,processStage:"preparation",setCurrent:_this6.props.setCurrent,setParent:_this6.props.setSpecimen,typeId:editable.preparation?current.specimen.typeId:target.specimen.typeId,updateSpecimen:_this6.props.updateSpecimen})),cancelAlterPreparation()))}};var alterAnalysis=function alterAnalysis(){if(loris.userHasPermission("biobank_specimen_alter")){return _react2.default.createElement("span",{className:editable.analysis?null:"glyphicon glyphicon-pencil",onClick:editable.analysis?null:_this6.alterAnalysis})}};var cancelAlterAnalysis=function cancelAlterAnalysis(){if(editable.analysis){return _react2.default.createElement("a",{className:"pull-right",style:{cursor:"pointer"},onClick:_this6.props.clearAll},"Cancel")}};var analysisPanel=function analysisPanel(){var protocolExists=Object.values(options.specimen.protocols).find(function(protocol){return protocol.typeId==target.specimen.typeId&&options.specimen.processes[protocol.processId].label=="Analysis"});if(protocolExists&&!target.specimen.preparation&&!editable.analysis&&loris.userHasPermission("biobank_specimen_update")){return _react2.default.createElement("div",{className:"panel specimen-panel inactive"},_react2.default.createElement("div",{className:"add-process",onClick:_this6.addAnalysis},_react2.default.createElement("span",{className:"glyphicon glyphicon-plus"})),_react2.default.createElement("div",null,"ADD ANALYSIS"))}else if(target.specimen.analysis||editable.analysis){return _react2.default.createElement("div",{className:"panel specimen-panel panel-default"},_react2.default.createElement("div",{className:"panel-heading"},_react2.default.createElement("div",{className:"lifecycle-node collection"},_react2.default.createElement("div",{className:"letter"},"C")),_react2.default.createElement("div",{className:"title"},"Analysis"),alterAnalysis()),_react2.default.createElement("div",{className:"panel-body"},_react2.default.createElement(FormElement,null,_react2.default.createElement(_processForm2.default,{current,errors:errors.specimen.process,edit:editable.analysis,specimen:current.specimen,mapFormOptions:_this6.props.mapFormOptions,options,process:editable.analysis?current.specimen.analysis:target.specimen.analysis,processStage:"analysis",setCurrent:_this6.props.setCurrent,setParent:_this6.props.setSpecimen,typeId:editable.analysis?current.specimen.typeId:target.specimen.typeId,updateSpecimen:_this6.props.updateSpecimen})),cancelAlterAnalysis()))}};var globals=_react2.default.createElement(_globals2.default,{specimen:current.specimen,container:current.container,data,target,options,errors,editable,edit:this.props.edit,clearAll:this.props.clearAll,mapFormOptions:this.props.mapFormOptions,setSpecimen:this.props.setSpecimen,editSpecimen:this.props.editSpecimen,updateSpecimen:this.props.updateSpecimen,setContainer:this.props.setContainer,editContainer:this.props.editContainer,updateContainer:this.props.updateContainer});return _react2.default.createElement("div",{id:"specimen-page"},_react2.default.createElement("div",{className:"specimen-header"},_react2.default.createElement("div",{className:"specimen-title"},_react2.default.createElement("div",{className:"barcode"},"Barcode",_react2.default.createElement("div",{className:"value"},_react2.default.createElement("strong",null,target.container.barcode))),addAliquotForm(),_react2.default.createElement(_containerCheckout2.default,{container:target.container,current,editContainer:this.props.editContainer,setContainer:this.props.setContainer,updateContainer:this.props.updateContainer})),_react2.default.createElement(_lifeCycle2.default,{specimen:target.specimen,centers:options.centers})),_react2.default.createElement("div",{className:"summary"},globals,_react2.default.createElement("div",{className:"processing"},collectionPanel,preparationPanel(),analysisPanel())))}}]);return BiobankSpecimen}(_react.Component);BiobankSpecimen.propTypes={specimenPageDataURL:_propTypes2.default.string.isRequired};exports.default=BiobankSpecimen},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LifeCycle=function(_React$Component){_inherits(LifeCycle,_React$Component);function LifeCycle(){_classCallCheck(this,LifeCycle);return _possibleConstructorReturn(this,(LifeCycle.__proto__||Object.getPrototypeOf(LifeCycle)).apply(this,arguments))}_createClass(LifeCycle,[{key:"mouseOver",value:function mouseOver(e){$(".collection").css({border:"2px solid #093782","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"})}},{key:"mouseLeave",value:function mouseLeave(e){$(".collection").css({border:"2px solid #A6D3F5","box-shadow":"none"})}},{key:"mouseOverPreparation",value:function mouseOverPreparation(e){$(".preparation").css({border:"2px solid #093782","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"})}},{key:"mouseLeavePreparation",value:function mouseLeavePreparation(e){$(".preparation").css({border:"2px solid #A6D3F5","box-shadow":"none"})}},{key:"render",value:function render(){var _this2=this;var collectionNode=void 0;if((this.props.specimen||{}).collection||this.props.container){collectionNode=React.createElement("div",{onMouseEnter:function onMouseEnter(e){return _this2.mouseOver(e)},onMouseLeave:function onMouseLeave(e){return _this2.mouseLeave(e)},className:"lifecycle-node collection"},React.createElement("div",{className:"letter"},"C"))}var preparationNode=void 0;if((this.props.specimen||{}).preparation){preparationNode=React.createElement("div",{onMouseEnter:this.mouseOverPreparation,onMouseLeave:this.mouseLeavePreparation,className:"lifecycle-node preparation"},React.createElement("div",{className:"letter"},"P"))}var analysisNode=void 0;if((this.props.specimen||{}).analysis){analysisNode=React.createElement("div",{className:"lifecycle-node-container"},React.createElement("div",{className:"lifecycle-node"},React.createElement("div",{className:"letter"},"A")))}var line=void 0;var nodes=0;for(var i in this.props.specimen){if(i==="collection"||i==="preparation"||i==="analysis"){nodes++}}var lineWidth=nodes>1?60/(nodes-1):0;var lineStyle={width:lineWidth+"%"};line=React.createElement("div",{className:"lifecycle-line",style:lineStyle});return React.createElement("div",{className:"lifecycle"},React.createElement("div",{className:"lifecycle-graphic"},collectionNode,preparationNode?line:null,preparationNode,analysisNode?line:null,analysisNode))}}]);return LifeCycle}(React.Component);LifeCycle.propTypes={};exports.default=LifeCycle},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactRouterDom=__webpack_require__(18);var _globals=__webpack_require__(30);var _globals2=_interopRequireDefault(_globals);var _containerDisplay=__webpack_require__(29);var _containerDisplay2=_interopRequireDefault(_containerDisplay);var _containerCheckout=__webpack_require__(31);var _containerCheckout2=_interopRequireDefault(_containerCheckout);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&((typeof call==="undefined"?"undefined":_typeof(call))==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==="undefined"?"undefined":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BiobankContainer=function(_Component){_inherits(BiobankContainer,_Component);function BiobankContainer(){_classCallCheck(this,BiobankContainer);var _this=_possibleConstructorReturn(this,(BiobankContainer.__proto__||Object.getPrototypeOf(BiobankContainer)).call(this));_this.drag=_this.drag.bind(_this);return _this}_createClass(BiobankContainer,[{key:"drag",value:function drag(e){var container=JSON.stringify(this.props.data.containers.all[e.target.id]);e.dataTransfer.setData("text/plain",container)}},{key:"getParentContainerBarcodes",value:function getParentContainerBarcodes(barcodes,container){barcodes.push(container.barcode);var parent=Object.values(this.props.data.containers.nonPrimary).find(function(c){return container.parentContainerId==c.id});parent&&this.getParentContainerBarcodes(barcodes,parent);return barcodes.slice(0).reverse()}},{key:"render",value:function render(){var _this2=this;var _props=this.props,current=_props.current,data=_props.data,editable=_props.editable,errors=_props.errors,options=_props.options,target=_props.target;var parentBarcodes=this.getParentContainerBarcodes([],target.container);var checkoutButton=function checkoutButton(){if(!(loris.userHasPermission("biobank_container_update")&&options.container.coordinates[target.container.id])){return}return _react2.default.createElement("div",{style:{marginLeft:"auto",height:"10%",marginRight:"10%"}},_react2.default.createElement("div",{className:!editable.containerCheckout&&!editable.loadContainer?"action-button update open":"action-button update closed",title:"Checkout Child Containers",onClick:function onClick(){_this2.props.edit("containerCheckout")}},_react2.default.createElement("span",{className:"glyphicon glyphicon-share"})))};var barcodes=this.props.mapFormOptions(data.containers.all,"barcode");Object.keys(parentBarcodes).forEach(function(key){Object.keys(barcodes).forEach(function(i){if(parentBarcodes[key]==barcodes[i]){delete barcodes[i]}})});var barcodePath=Object.keys(parentBarcodes).map(function(i){var container=Object.values(data.containers.all).find(function(container){return container.barcode==parentBarcodes[parseInt(i)+1]});var coordinateDisplay=void 0;if(container){var parentContainer=data.containers.all[container.parentContainerId];var dimensions=options.container.dimensions[parentContainer.dimensionId];var coordinate=void 0;var j=1;outerloop:for(var y=1;y<=dimensions.y;y++){innerloop:for(var x=1;x<=dimensions.x;x++){if(j==container.coordinate){if(dimensions.xNum==1&&dimensions.yNum==1){coordinate=x+dimensions.x*(y-1)}else{var xVal=dimensions.xNum==1?x:String.fromCharCode(64+x);var yVal=dimensions.yNum==1?y:String.fromCharCode(64+y);coordinate=yVal+""+xVal}break outerloop}j++}}coordinateDisplay=" ["+coordinate+"]"}return _react2.default.createElement("span",{className:"barcodePath"},i!=0&&": ",_react2.default.createElement(_reactRouterDom.Link,{key:i,to:"/barcode="+parentBarcodes[i]},parentBarcodes[i]),coordinateDisplay)});var containerDisplay=_react2.default.createElement("div",{className:"display-container"},checkoutButton(),_react2.default.createElement(_containerDisplay2.default,{history:this.props.history,data,target,barcodes,container:current.container,current,options,dimensions:options.container.dimensions[target.container.dimensionId],coordinates:options.container.coordinates[target.container.id]?options.container.coordinates[target.container.id]:null,editable,edit:this.props.edit,clearAll:this.props.clearAll,setCurrent:this.props.setCurrent,setCheckoutList:this.props.setCheckoutList,mapFormOptions:this.props.mapFormOptions,editContainer:this.props.editContainer,updateContainer:this.props.updateContainer}),_react2.default.createElement("div",{style:{display:"inline"}},barcodePath));var containerList=function containerList(){if(!target.container.childContainerIds){return _react2.default.createElement("div",{className:"title"},"This Container is Empty!")}var childIds=target.container.childContainerIds;var listAssigned=[];var coordinateList=[];var listUnassigned=[];childIds.forEach(function(childId){if(!loris.userHasPermission("biobank_specimen_view")){return}var child=data.containers.all[childId];if(child.coordinate){listAssigned.push(_react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Link,{key:childId,to:"/barcode="+child.barcode},child.barcode)));coordinateList.push(_react2.default.createElement("div",null,"at ",child.coordinate))}else{listUnassigned.push(_react2.default.createElement(_reactRouterDom.Link,{key:childId,to:"/barcode="+child.barcode,id:child.id,draggable:true,onDragStart:_this2.drag},child.barcode))}});return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title"},listAssigned.length!==0?"Assigned Containers":null),_react2.default.createElement("div",{className:"container-coordinate"},_react2.default.createElement("div",null,listAssigned),_react2.default.createElement("div",{style:{paddingLeft:10}},coordinateList)),listAssigned.length!==0?_react2.default.createElement("br",null):null,_react2.default.createElement("div",{className:"title"},listUnassigned.length!==0?"Unassigned Containers":null),listUnassigned)};return _react2.default.createElement("div",{id:"container-page"},_react2.default.createElement("div",{className:"container-header"},_react2.default.createElement("div",{className:"container-title"},_react2.default.createElement("div",{className:"barcode"},"Barcode",_react2.default.createElement("div",{className:"value"},_react2.default.createElement("strong",null,target.container.barcode))),_react2.default.createElement(_containerCheckout2.default,{container:target.container,current,editContainer:this.props.editContainer,setContainer:this.props.setContainer,updateContainer:this.props.updateContainer}))),_react2.default.createElement("div",{className:"summary"},_react2.default.createElement(_globals2.default,{container:current.container,data,editable,errors,target,options,edit:this.props.edit,clearAll:this.props.clearAll,mapFormOptions:this.props.mapFormOptions,editContainer:this.props.editContainer,setContainer:this.props.setContainer,updateContainer:this.props.updateContainer}),containerDisplay,_react2.default.createElement("div",{className:"container-list"},containerList())))}}]);return BiobankContainer}(_react.Component);BiobankContainer.propTypes={containerPageDataURL:_propTypes2.default.string.isRequired};exports.default=BiobankContainer}]);
//# sourceMappingURL=biobankIndex.js.map